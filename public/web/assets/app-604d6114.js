var kR=Object.defineProperty;var DR=(t,e,n)=>e in t?kR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bt=(t,e,n)=>(DR(t,typeof e!="symbol"?e+"":e,n),n);function gT(t,e){return function(){return t.apply(e,arguments)}}const{toString:OR}=Object.prototype,{getPrototypeOf:Ny}=Object,ju=(t=>e=>{const n=OR.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xi=t=>(t=t.toLowerCase(),e=>ju(e)===t),Gu=t=>e=>typeof e===t,{isArray:Bo}=Array,Xa=Gu("undefined");function LR(t){return t!==null&&!Xa(t)&&t.constructor!==null&&!Xa(t.constructor)&&mi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const pT=Xi("ArrayBuffer");function RR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&pT(t.buffer),e}const zR=Gu("string"),mi=Gu("function"),mT=Gu("number"),Fu=t=>t!==null&&typeof t=="object",BR=t=>t===!0||t===!1,zc=t=>{if(ju(t)!=="object")return!1;const e=Ny(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jR=Xi("Date"),GR=Xi("File"),FR=Xi("Blob"),ZR=Xi("FileList"),WR=t=>Fu(t)&&mi(t.pipe),UR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mi(t.append)&&((e=ju(t))==="formdata"||e==="object"&&mi(t.toString)&&t.toString()==="[object FormData]"))},VR=Xi("URLSearchParams"),YR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Bo(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function vT(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const yT=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),bT=t=>!Xa(t)&&t!==yT;function v0(){const{caseless:t}=bT(this)&&this||{},e={},n=(i,r)=>{const s=t&&vT(e,r)||r;zc(e[s])&&zc(i)?e[s]=v0(e[s],i):zc(i)?e[s]=v0({},i):Bo(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&yl(arguments[i],n);return e}const HR=(t,e,n,{allOwnKeys:i}={})=>(yl(e,(r,s)=>{n&&mi(r)?t[s]=gT(r,n):t[s]=r},{allOwnKeys:i}),t),XR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$R=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},qR=(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Ny(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},JR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},KR=t=>{if(!t)return null;if(Bo(t))return t;let e=t.length;if(!mT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},QR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ny(Uint8Array)),tz=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},ez=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},nz=Xi("HTMLFormElement"),iz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),qI=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),rz=Xi("RegExp"),AT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};yl(n,(r,s)=>{e(r,s,t)!==!1&&(i[s]=r)}),Object.defineProperties(t,i)},sz=t=>{AT(t,(e,n)=>{if(mi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(mi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oz=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return Bo(t)?i(t):i(String(t).split(e)),n},az=()=>{},lz=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Mh="abcdefghijklmnopqrstuvwxyz",JI="0123456789",IT={DIGIT:JI,ALPHA:Mh,ALPHA_DIGIT:Mh+Mh.toUpperCase()+JI},cz=(t=16,e=IT.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function uz(t){return!!(t&&mi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const fz=t=>{const e=new Array(10),n=(i,r)=>{if(Fu(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=Bo(i)?[]:{};return yl(i,(o,a)=>{const l=n(o,r+1);!Xa(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return n(t,0)},hz=Xi("AsyncFunction"),dz=t=>t&&(Fu(t)||mi(t))&&mi(t.then)&&mi(t.catch),ft={isArray:Bo,isArrayBuffer:pT,isBuffer:LR,isFormData:UR,isArrayBufferView:RR,isString:zR,isNumber:mT,isBoolean:BR,isObject:Fu,isPlainObject:zc,isUndefined:Xa,isDate:jR,isFile:GR,isBlob:FR,isRegExp:rz,isFunction:mi,isStream:WR,isURLSearchParams:VR,isTypedArray:QR,isFileList:ZR,forEach:yl,merge:v0,extend:HR,trim:YR,stripBOM:XR,inherits:$R,toFlatObject:qR,kindOf:ju,kindOfTest:Xi,endsWith:JR,toArray:KR,forEachEntry:tz,matchAll:ez,isHTMLForm:nz,hasOwnProperty:qI,hasOwnProp:qI,reduceDescriptors:AT,freezeMethods:sz,toObjectSet:oz,toCamelCase:iz,noop:az,toFiniteNumber:lz,findKey:vT,global:yT,isContextDefined:bT,ALPHABET:IT,generateString:cz,isSpecCompliantForm:uz,toJSONObject:fz,isAsyncFn:hz,isThenable:dz};function ae(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}ft.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ft.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const wT=ae.prototype,CT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{CT[t]={value:t}});Object.defineProperties(ae,CT);Object.defineProperty(wT,"isAxiosError",{value:!0});ae.from=(t,e,n,i,r,s)=>{const o=Object.create(wT);return ft.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ae.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const gz=null;function y0(t){return ft.isPlainObject(t)||ft.isArray(t)}function xT(t){return ft.endsWith(t,"[]")?t.slice(0,-2):t}function KI(t,e,n){return t?t.concat(e).map(function(r,s){return r=xT(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function pz(t){return ft.isArray(t)&&!t.some(y0)}const mz=ft.toFlatObject(ft,{},null,function(e){return/^is[A-Z]/.test(e)});function Zu(t,e,n){if(!ft.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ft.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,I){return!ft.isUndefined(I[y])});const i=n.metaTokens,r=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ft.isSpecCompliantForm(e);if(!ft.isFunction(r))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(ft.isDate(v))return v.toISOString();if(!l&&ft.isBlob(v))throw new ae("Blob is not supported. Use a Buffer instead.");return ft.isArrayBuffer(v)||ft.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,y,I){let _=v;if(v&&!I&&typeof v=="object"){if(ft.endsWith(y,"{}"))y=i?y:y.slice(0,-2),v=JSON.stringify(v);else if(ft.isArray(v)&&pz(v)||(ft.isFileList(v)||ft.endsWith(y,"[]"))&&(_=ft.toArray(v)))return y=xT(y),_.forEach(function(O,R){!(ft.isUndefined(O)||O===null)&&e.append(o===!0?KI([y],R,s):o===null?y:y+"[]",c(O))}),!1}return y0(v)?!0:(e.append(KI(I,y,s),c(v)),!1)}const f=[],g=Object.assign(mz,{defaultVisitor:u,convertValue:c,isVisitable:y0});function p(v,y){if(!ft.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(v),ft.forEach(v,function(_,S){(!(ft.isUndefined(_)||_===null)&&r.call(e,_,ft.isString(S)?S.trim():S,y,g))===!0&&p(_,y?y.concat(S):[S])}),f.pop()}}if(!ft.isObject(t))throw new TypeError("data must be an object");return p(t),e}function QI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Ey(t,e){this._pairs=[],t&&Zu(t,this,e)}const _T=Ey.prototype;_T.append=function(e,n){this._pairs.push([e,n])};_T.toString=function(e){const n=e?function(i){return e.call(this,i,QI)}:QI;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function vz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ST(t,e,n){if(!e)return t;const i=n&&n.encode||vz,r=n&&n.serialize;let s;if(r?s=r(e,n):s=ft.isURLSearchParams(e)?e.toString():new Ey(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class yz{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ft.forEach(this.handlers,function(i){i!==null&&e(i)})}}const tw=yz,MT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bz=typeof URLSearchParams<"u"?URLSearchParams:Ey,Az=typeof FormData<"u"?FormData:null,Iz=typeof Blob<"u"?Blob:null,wz=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Cz=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Fi={isBrowser:!0,classes:{URLSearchParams:bz,FormData:Az,Blob:Iz},isStandardBrowserEnv:wz,isStandardBrowserWebWorkerEnv:Cz,protocols:["http","https","file","blob","url","data"]};function xz(t,e){return Zu(t,new Fi.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return Fi.isNode&&ft.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function _z(t){return ft.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Sz(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function TT(t){function e(n,i,r,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&ft.isArray(r)?r.length:o,l?(ft.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!ft.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&ft.isArray(r[o])&&(r[o]=Sz(r[o])),!a)}if(ft.isFormData(t)&&ft.isFunction(t.entries)){const n={};return ft.forEachEntry(t,(i,r)=>{e(_z(i),r,n,0)}),n}return null}const Mz={"Content-Type":void 0};function Tz(t,e,n){if(ft.isString(t))try{return(e||JSON.parse)(t),ft.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Wu={transitional:MT,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=ft.isObject(e);if(s&&ft.isHTMLForm(e)&&(e=new FormData(e)),ft.isFormData(e))return r&&r?JSON.stringify(TT(e)):e;if(ft.isArrayBuffer(e)||ft.isBuffer(e)||ft.isStream(e)||ft.isFile(e)||ft.isBlob(e))return e;if(ft.isArrayBufferView(e))return e.buffer;if(ft.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return xz(e,this.formSerializer).toString();if((a=ft.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Zu(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),Tz(e)):e}],transformResponse:[function(e){const n=this.transitional||Wu.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(e&&ft.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fi.classes.FormData,Blob:Fi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ft.forEach(["delete","get","head"],function(e){Wu.headers[e]={}});ft.forEach(["post","put","patch"],function(e){Wu.headers[e]=ft.merge(Mz)});const Py=Wu,Nz=ft.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ez=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&Nz[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},ew=Symbol("internals");function sa(t){return t&&String(t).trim().toLowerCase()}function Bc(t){return t===!1||t==null?t:ft.isArray(t)?t.map(Bc):String(t)}function Pz(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const kz=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Th(t,e,n,i,r){if(ft.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!ft.isString(e)){if(ft.isString(i))return e.indexOf(i)!==-1;if(ft.isRegExp(i))return i.test(e)}}function Dz(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function Oz(t,e){const n=ft.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}class Uu{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(a,l,c){const u=sa(l);if(!u)throw new Error("header name must be a non-empty string");const f=ft.findKey(r,u);(!f||r[f]===void 0||c===!0||c===void 0&&r[f]!==!1)&&(r[f||l]=Bc(a))}const o=(a,l)=>ft.forEach(a,(c,u)=>s(c,u,l));return ft.isPlainObject(e)||e instanceof this.constructor?o(e,n):ft.isString(e)&&(e=e.trim())&&!kz(e)?o(Ez(e),n):e!=null&&s(n,e,i),this}get(e,n){if(e=sa(e),e){const i=ft.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return Pz(r);if(ft.isFunction(n))return n.call(this,r,i);if(ft.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=sa(e),e){const i=ft.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Th(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=sa(o),o){const a=ft.findKey(i,o);a&&(!n||Th(i,i[a],a,n))&&(delete i[a],r=!0)}}return ft.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||Th(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return ft.forEach(this,(r,s)=>{const o=ft.findKey(i,s);if(o){n[o]=Bc(r),delete n[s];return}const a=e?Dz(s):String(s).trim();a!==s&&delete n[s],n[a]=Bc(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ft.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&ft.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[ew]=this[ew]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=sa(o);i[a]||(Oz(r,o),i[a]=!0)}return ft.isArray(e)?e.forEach(s):s(e),this}}Uu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ft.freezeMethods(Uu.prototype);ft.freezeMethods(Uu);const dr=Uu;function Nh(t,e){const n=this||Py,i=e||n,r=dr.from(i.headers);let s=i.data;return ft.forEach(t,function(a){s=a.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function NT(t){return!!(t&&t.__CANCEL__)}function bl(t,e,n){ae.call(this,t??"canceled",ae.ERR_CANCELED,e,n),this.name="CanceledError"}ft.inherits(bl,ae,{__CANCEL__:!0});function Lz(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Rz=Fi.isStandardBrowserEnv?function(){return{write:function(n,i,r,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(i)),ft.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),ft.isString(s)&&l.push("path="+s),ft.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function zz(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Bz(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function ET(t,e){return t&&!zz(e)?Bz(t,e):e}const jz=Fi.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(o){const a=ft.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function Gz(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Fz(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),n[r]=l,i[r]=c;let f=s,g=0;for(;f!==r;)g+=n[f++],f=f%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(g*1e3/p):void 0}}function nw(t,e){let n=0;const i=Fz(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-n,l=i(a),c=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:r};u[e?"download":"upload"]=!0,t(u)}}const Zz=typeof XMLHttpRequest<"u",Wz=Zz&&function(t){return new Promise(function(n,i){let r=t.data;const s=dr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}ft.isFormData(r)&&(Fi.isStandardBrowserEnv||Fi.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+v))}const u=ET(t.baseURL,t.url);c.open(t.method.toUpperCase(),ST(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function f(){if(!c)return;const p=dr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};Lz(function(_){n(_),l()},function(_){i(_),l()},y),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(i(new ae("Request aborted",ae.ECONNABORTED,t,c)),c=null)},c.onerror=function(){i(new ae("Network Error",ae.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let v=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||MT;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),i(new ae(v,y.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,t,c)),c=null},Fi.isStandardBrowserEnv){const p=(t.withCredentials||jz(u))&&t.xsrfCookieName&&Rz.read(t.xsrfCookieName);p&&s.set(t.xsrfHeaderName,p)}r===void 0&&s.setContentType(null),"setRequestHeader"in c&&ft.forEach(s.toJSON(),function(v,y){c.setRequestHeader(y,v)}),ft.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",nw(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",nw(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{c&&(i(!p||p.type?new bl(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const g=Gz(u);if(g&&Fi.protocols.indexOf(g)===-1){i(new ae("Unsupported protocol "+g+":",ae.ERR_BAD_REQUEST,t));return}c.send(r||null)})},jc={http:gz,xhr:Wz};ft.forEach(jc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Uz={getAdapter:t=>{t=ft.isArray(t)?t:[t];const{length:e}=t;let n,i;for(let r=0;r<e&&(n=t[r],!(i=ft.isString(n)?jc[n.toLowerCase()]:n));r++);if(!i)throw i===!1?new ae(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ft.hasOwnProp(jc,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!ft.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:jc};function Eh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bl(null,t)}function iw(t){return Eh(t),t.headers=dr.from(t.headers),t.data=Nh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Uz.getAdapter(t.adapter||Py.adapter)(t).then(function(i){return Eh(t),i.data=Nh.call(t,t.transformResponse,i),i.headers=dr.from(i.headers),i},function(i){return NT(i)||(Eh(t),i&&i.response&&(i.response.data=Nh.call(t,t.transformResponse,i.response),i.response.headers=dr.from(i.response.headers))),Promise.reject(i)})}const rw=t=>t instanceof dr?t.toJSON():t;function xo(t,e){e=e||{};const n={};function i(c,u,f){return ft.isPlainObject(c)&&ft.isPlainObject(u)?ft.merge.call({caseless:f},c,u):ft.isPlainObject(u)?ft.merge({},u):ft.isArray(u)?u.slice():u}function r(c,u,f){if(ft.isUndefined(u)){if(!ft.isUndefined(c))return i(void 0,c,f)}else return i(c,u,f)}function s(c,u){if(!ft.isUndefined(u))return i(void 0,u)}function o(c,u){if(ft.isUndefined(u)){if(!ft.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,f){if(f in e)return i(c,u);if(f in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>r(rw(c),rw(u),!0)};return ft.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=l[u]||r,g=f(t[u],e[u],u);ft.isUndefined(g)&&f!==a||(n[u]=g)}),n}const PT="1.4.0",ky={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ky[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const sw={};ky.transitional=function(e,n,i){function r(s,o){return"[Axios v"+PT+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new ae(r(o," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!sw[o]&&(sw[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Vz(t,e,n){if(typeof t!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ae("option "+s+" must be "+l,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+s,ae.ERR_BAD_OPTION)}}const b0={assertOptions:Vz,validators:ky},Mr=b0.validators;class eu{constructor(e){this.defaults=e,this.interceptors={request:new tw,response:new tw}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=xo(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&b0.assertOptions(i,{silentJSONParsing:Mr.transitional(Mr.boolean),forcedJSONParsing:Mr.transitional(Mr.boolean),clarifyTimeoutError:Mr.transitional(Mr.boolean)},!1),r!=null&&(ft.isFunction(r)?n.paramsSerializer={serialize:r}:b0.assertOptions(r,{encode:Mr.function,serialize:Mr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&ft.merge(s.common,s[n.method]),o&&ft.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=dr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,f=0,g;if(!l){const v=[iw.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,c),g=v.length,u=Promise.resolve(n);f<g;)u=u.then(v[f++],v[f++]);return u}g=a.length;let p=n;for(f=0;f<g;){const v=a[f++],y=a[f++];try{p=v(p)}catch(I){y.call(this,I);break}}try{u=iw.call(this,p)}catch(v){return Promise.reject(v)}for(f=0,g=c.length;f<g;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=xo(this.defaults,e);const n=ET(e.baseURL,e.url);return ST(n,e.params,e.paramsSerializer)}}ft.forEach(["delete","get","head","options"],function(e){eu.prototype[e]=function(n,i){return this.request(xo(i||{},{method:e,url:n,data:(i||{}).data}))}});ft.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,a){return this.request(xo(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}eu.prototype[e]=n(),eu.prototype[e+"Form"]=n(!0)});const Gc=eu;class Dy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new bl(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Dy(function(r){e=r}),cancel:e}}}const Yz=Dy;function Hz(t){return function(n){return t.apply(null,n)}}function Xz(t){return ft.isObject(t)&&t.isAxiosError===!0}const A0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(A0).forEach(([t,e])=>{A0[e]=t});const $z=A0;function kT(t){const e=new Gc(t),n=gT(Gc.prototype.request,e);return ft.extend(n,Gc.prototype,e,{allOwnKeys:!0}),ft.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return kT(xo(t,r))},n}const nn=kT(Py);nn.Axios=Gc;nn.CanceledError=bl;nn.CancelToken=Yz;nn.isCancel=NT;nn.VERSION=PT;nn.toFormData=Zu;nn.AxiosError=ae;nn.Cancel=nn.CanceledError;nn.all=function(e){return Promise.all(e)};nn.spread=Hz;nn.isAxiosError=Xz;nn.mergeConfig=xo;nn.AxiosHeaders=dr;nn.formToJSON=t=>TT(ft.isHTMLForm(t)?new FormData(t):t);nn.HttpStatusCode=$z;nn.default=nn;const qz=nn;var I0="";function w0(t){I0=t}function Jz(t=""){if(!I0){const e=[...document.getElementsByTagName("script")],n=e.find(i=>i.hasAttribute("data-shoelace"));if(n)w0(n.getAttribute("data-shoelace"));else{const i=e.find(s=>/shoelace(\.min)?\.js($|\?)/.test(s.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(s.src));let r="";i&&(r=i.getAttribute("src")),w0(r.split("/").slice(0,-1).join("/"))}}return I0.replace(/\/$/,"")+(t?`/${t.replace(/^\//,"")}`:"")}var DT=Object.defineProperty,Kz=Object.defineProperties,Qz=Object.getOwnPropertyDescriptor,t5=Object.getOwnPropertyDescriptors,ow=Object.getOwnPropertySymbols,e5=Object.prototype.hasOwnProperty,n5=Object.prototype.propertyIsEnumerable,aw=(t,e,n)=>e in t?DT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oy=(t,e)=>{for(var n in e||(e={}))e5.call(e,n)&&aw(t,n,e[n]);if(ow)for(var n of ow(e))n5.call(e,n)&&aw(t,n,e[n]);return t},i5=(t,e)=>Kz(t,t5(e)),ye=(t,e,n,i)=>{for(var r=i>1?void 0:i?Qz(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(r=(i?o(e,n,r):o(r))||r);return i&&r&&DT(e,n,r),r};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Fc=window,Ly=Fc.ShadowRoot&&(Fc.ShadyCSS===void 0||Fc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ry=Symbol(),lw=new WeakMap;let OT=class{constructor(e,n,i){if(this._$cssResult$=!0,i!==Ry)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(Ly&&e===void 0){const i=n!==void 0&&n.length===1;i&&(e=lw.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&lw.set(n,e))}return e}toString(){return this.cssText}};const r5=t=>new OT(typeof t=="string"?t:t+"",void 0,Ry),Vu=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((i,r,s)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+t[s+1],t[0]);return new OT(n,t,Ry)},s5=(t,e)=>{Ly?t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):e.forEach(n=>{const i=document.createElement("style"),r=Fc.litNonce;r!==void 0&&i.setAttribute("nonce",r),i.textContent=n.cssText,t.appendChild(i)})},cw=Ly?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const i of e.cssRules)n+=i.cssText;return r5(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ph;const nu=window,uw=nu.trustedTypes,o5=uw?uw.emptyScript:"",fw=nu.reactiveElementPolyfillSupport,C0={toAttribute(t,e){switch(e){case Boolean:t=t?o5:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},LT=(t,e)=>e!==t&&(e==e||t==t),kh={attribute:!0,type:String,converter:C0,reflect:!1,hasChanged:LT},x0="finalized";let ho=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var n;this.finalize(),((n=this.h)!==null&&n!==void 0?n:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((n,i)=>{const r=this._$Ep(i,n);r!==void 0&&(this._$Ev.set(r,i),e.push(r))}),e}static createProperty(e,n=kh){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(e,n),!n.noAccessor&&!this.prototype.hasOwnProperty(e)){const i=typeof e=="symbol"?Symbol():"__"+e,r=this.getPropertyDescriptor(e,i,n);r!==void 0&&Object.defineProperty(this.prototype,e,r)}}static getPropertyDescriptor(e,n,i){return{get(){return this[n]},set(r){const s=this[e];this[n]=r,this.requestUpdate(e,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||kh}static finalize(){if(this.hasOwnProperty(x0))return!1;this[x0]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const n=this.properties,i=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(const r of i)this.createProperty(r,n[r])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const r of i)n.unshift(cw(r))}else e!==void 0&&n.push(cw(e));return n}static _$Ep(e,n){const i=n.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(n=>n(this))}addController(e){var n,i;((n=this._$ES)!==null&&n!==void 0?n:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((i=e.hostConnected)===null||i===void 0||i.call(e))}removeController(e){var n;(n=this._$ES)===null||n===void 0||n.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,n)=>{this.hasOwnProperty(n)&&(this._$Ei.set(n,this[n]),delete this[n])})}createRenderRoot(){var e;const n=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return s5(n,this.constructor.elementStyles),n}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(n=>{var i;return(i=n.hostConnected)===null||i===void 0?void 0:i.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(n=>{var i;return(i=n.hostDisconnected)===null||i===void 0?void 0:i.call(n)})}attributeChangedCallback(e,n,i){this._$AK(e,i)}_$EO(e,n,i=kh){var r;const s=this.constructor._$Ep(e,i);if(s!==void 0&&i.reflect===!0){const o=(((r=i.converter)===null||r===void 0?void 0:r.toAttribute)!==void 0?i.converter:C0).toAttribute(n,i.type);this._$El=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(e,n){var i;const r=this.constructor,s=r._$Ev.get(e);if(s!==void 0&&this._$El!==s){const o=r.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((i=o.converter)===null||i===void 0?void 0:i.fromAttribute)!==void 0?o.converter:C0;this._$El=s,this[s]=a.fromAttribute(n,o.type),this._$El=null}}requestUpdate(e,n,i){let r=!0;e!==void 0&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||LT)(this[e],n)?(this._$AL.has(e)||this._$AL.set(e,n),i.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,i))):r=!1),!this.isUpdatePending&&r&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((r,s)=>this[s]=r),this._$Ei=void 0);let n=!1;const i=this._$AL;try{n=this.shouldUpdate(i),n?(this.willUpdate(i),(e=this._$ES)===null||e===void 0||e.forEach(r=>{var s;return(s=r.hostUpdate)===null||s===void 0?void 0:s.call(r)}),this.update(i)):this._$Ek()}catch(r){throw n=!1,this._$Ek(),r}n&&this._$AE(i)}willUpdate(e){}_$AE(e){var n;(n=this._$ES)===null||n===void 0||n.forEach(i=>{var r;return(r=i.hostUpdated)===null||r===void 0?void 0:r.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((n,i)=>this._$EO(i,this[i],n)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};ho[x0]=!0,ho.elementProperties=new Map,ho.elementStyles=[],ho.shadowRootOptions={mode:"open"},fw==null||fw({ReactiveElement:ho}),((Ph=nu.reactiveElementVersions)!==null&&Ph!==void 0?Ph:nu.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Dh;const iu=window,_o=iu.trustedTypes,hw=_o?_o.createPolicy("lit-html",{createHTML:t=>t}):void 0,_0="$lit$",kr=`lit$${(Math.random()+"").slice(9)}$`,RT="?"+kr,a5=`<${RT}>`,Bs=document,$a=()=>Bs.createComment(""),qa=t=>t===null||typeof t!="object"&&typeof t!="function",zT=Array.isArray,l5=t=>zT(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Oh=`[ 	
\f\r]`,oa=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,dw=/-->/g,gw=/>/g,hs=RegExp(`>|${Oh}(?:([^\\s"'>=/]+)(${Oh}*=${Oh}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),pw=/'/g,mw=/"/g,BT=/^(?:script|style|textarea|title)$/i,c5=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),ru=c5(1),js=Symbol.for("lit-noChange"),Ke=Symbol.for("lit-nothing"),vw=new WeakMap,ws=Bs.createTreeWalker(Bs,129,null,!1);function jT(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return hw!==void 0?hw.createHTML(e):e}const u5=(t,e)=>{const n=t.length-1,i=[];let r,s=e===2?"<svg>":"",o=oa;for(let a=0;a<n;a++){const l=t[a];let c,u,f=-1,g=0;for(;g<l.length&&(o.lastIndex=g,u=o.exec(l),u!==null);)g=o.lastIndex,o===oa?u[1]==="!--"?o=dw:u[1]!==void 0?o=gw:u[2]!==void 0?(BT.test(u[2])&&(r=RegExp("</"+u[2],"g")),o=hs):u[3]!==void 0&&(o=hs):o===hs?u[0]===">"?(o=r??oa,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,c=u[1],o=u[3]===void 0?hs:u[3]==='"'?mw:pw):o===mw||o===pw?o=hs:o===dw||o===gw?o=oa:(o=hs,r=void 0);const p=o===hs&&t[a+1].startsWith("/>")?" ":"";s+=o===oa?l+a5:f>=0?(i.push(c),l.slice(0,f)+_0+l.slice(f)+kr+p):l+kr+(f===-2?(i.push(void 0),a):p)}return[jT(t,s+(t[n]||"<?>")+(e===2?"</svg>":"")),i]};class Ja{constructor({strings:e,_$litType$:n},i){let r;this.parts=[];let s=0,o=0;const a=e.length-1,l=this.parts,[c,u]=u5(e,n);if(this.el=Ja.createElement(c,i),ws.currentNode=this.el.content,n===2){const f=this.el.content,g=f.firstChild;g.remove(),f.append(...g.childNodes)}for(;(r=ws.nextNode())!==null&&l.length<a;){if(r.nodeType===1){if(r.hasAttributes()){const f=[];for(const g of r.getAttributeNames())if(g.endsWith(_0)||g.startsWith(kr)){const p=u[o++];if(f.push(g),p!==void 0){const v=r.getAttribute(p.toLowerCase()+_0).split(kr),y=/([.?@])?(.*)/.exec(p);l.push({type:1,index:s,name:y[2],strings:v,ctor:y[1]==="."?h5:y[1]==="?"?g5:y[1]==="@"?p5:Yu})}else l.push({type:6,index:s})}for(const g of f)r.removeAttribute(g)}if(BT.test(r.tagName)){const f=r.textContent.split(kr),g=f.length-1;if(g>0){r.textContent=_o?_o.emptyScript:"";for(let p=0;p<g;p++)r.append(f[p],$a()),ws.nextNode(),l.push({type:2,index:++s});r.append(f[g],$a())}}}else if(r.nodeType===8)if(r.data===RT)l.push({type:2,index:s});else{let f=-1;for(;(f=r.data.indexOf(kr,f+1))!==-1;)l.push({type:7,index:s}),f+=kr.length-1}s++}}static createElement(e,n){const i=Bs.createElement("template");return i.innerHTML=e,i}}function So(t,e,n=t,i){var r,s,o,a;if(e===js)return e;let l=i!==void 0?(r=n._$Co)===null||r===void 0?void 0:r[i]:n._$Cl;const c=qa(e)?void 0:e._$litDirective$;return(l==null?void 0:l.constructor)!==c&&((s=l==null?void 0:l._$AO)===null||s===void 0||s.call(l,!1),c===void 0?l=void 0:(l=new c(t),l._$AT(t,n,i)),i!==void 0?((o=(a=n)._$Co)!==null&&o!==void 0?o:a._$Co=[])[i]=l:n._$Cl=l),l!==void 0&&(e=So(t,l._$AS(t,e.values),l,i)),e}class f5{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var n;const{el:{content:i},parts:r}=this._$AD,s=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Bs).importNode(i,!0);ws.currentNode=s;let o=ws.nextNode(),a=0,l=0,c=r[0];for(;c!==void 0;){if(a===c.index){let u;c.type===2?u=new Al(o,o.nextSibling,this,e):c.type===1?u=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(u=new m5(o,this,e)),this._$AV.push(u),c=r[++l]}a!==(c==null?void 0:c.index)&&(o=ws.nextNode(),a++)}return ws.currentNode=Bs,s}v(e){let n=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,n),n+=i.strings.length-2):i._$AI(e[n])),n++}}class Al{constructor(e,n,i,r){var s;this.type=2,this._$AH=Ke,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=i,this.options=r,this._$Cp=(s=r==null?void 0:r.isConnected)===null||s===void 0||s}get _$AU(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=So(this,e,n),qa(e)?e===Ke||e==null||e===""?(this._$AH!==Ke&&this._$AR(),this._$AH=Ke):e!==this._$AH&&e!==js&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):l5(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Ke&&qa(this._$AH)?this._$AA.nextSibling.data=e:this.$(Bs.createTextNode(e)),this._$AH=e}g(e){var n;const{values:i,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Ja.createElement(jT(r.h,r.h[0]),this.options)),r);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===s)this._$AH.v(i);else{const o=new f5(s,this),a=o.u(this.options);o.v(i),this.$(a),this._$AH=o}}_$AC(e){let n=vw.get(e.strings);return n===void 0&&vw.set(e.strings,n=new Ja(e)),n}T(e){zT(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let i,r=0;for(const s of e)r===n.length?n.push(i=new Al(this.k($a()),this.k($a()),this,this.options)):i=n[r],i._$AI(s),r++;r<n.length&&(this._$AR(i&&i._$AB.nextSibling,r),n.length=r)}_$AR(e=this._$AA.nextSibling,n){var i;for((i=this._$AP)===null||i===void 0||i.call(this,!1,!0,n);e&&e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}class Yu{constructor(e,n,i,r,s){this.type=1,this._$AH=Ke,this._$AN=void 0,this.element=e,this.name=n,this._$AM=r,this.options=s,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Ke}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,n=this,i,r){const s=this.strings;let o=!1;if(s===void 0)e=So(this,e,n,0),o=!qa(e)||e!==this._$AH&&e!==js,o&&(this._$AH=e);else{const a=e;let l,c;for(e=s[0],l=0;l<s.length-1;l++)c=So(this,a[i+l],n,l),c===js&&(c=this._$AH[l]),o||(o=!qa(c)||c!==this._$AH[l]),c===Ke?e=Ke:e!==Ke&&(e+=(c??"")+s[l+1]),this._$AH[l]=c}o&&!r&&this.j(e)}j(e){e===Ke?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class h5 extends Yu{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ke?void 0:e}}const d5=_o?_o.emptyScript:"";class g5 extends Yu{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Ke?this.element.setAttribute(this.name,d5):this.element.removeAttribute(this.name)}}class p5 extends Yu{constructor(e,n,i,r,s){super(e,n,i,r,s),this.type=5}_$AI(e,n=this){var i;if((e=(i=So(this,e,n,0))!==null&&i!==void 0?i:Ke)===js)return;const r=this._$AH,s=e===Ke&&r!==Ke||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,o=e!==Ke&&(r===Ke||s);s&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n,i;typeof this._$AH=="function"?this._$AH.call((i=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&i!==void 0?i:this.element,e):this._$AH.handleEvent(e)}}class m5{constructor(e,n,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){So(this,e)}}const yw=iu.litHtmlPolyfillSupport;yw==null||yw(Ja,Al),((Dh=iu.litHtmlVersions)!==null&&Dh!==void 0?Dh:iu.litHtmlVersions=[]).push("2.8.0");const v5=(t,e,n)=>{var i,r;const s=(i=n==null?void 0:n.renderBefore)!==null&&i!==void 0?i:e;let o=s._$litPart$;if(o===void 0){const a=(r=n==null?void 0:n.renderBefore)!==null&&r!==void 0?r:null;s._$litPart$=o=new Al(e.insertBefore($a(),a),a,void 0,n??{})}return o._$AI(t),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Lh,Rh;let Ra=class extends ho{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,n;const i=super.createRenderRoot();return(e=(n=this.renderOptions).renderBefore)!==null&&e!==void 0||(n.renderBefore=i.firstChild),i}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=v5(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return js}};Ra.finalized=!0,Ra._$litElement$=!0,(Lh=globalThis.litElementHydrateSupport)===null||Lh===void 0||Lh.call(globalThis,{LitElement:Ra});const bw=globalThis.litElementPolyfillSupport;bw==null||bw({LitElement:Ra});((Rh=globalThis.litElementVersions)!==null&&Rh!==void 0?Rh:globalThis.litElementVersions=[]).push("3.3.3");var zy=Vu`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,y5=Vu`
  ${zy}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`,b5={name:"default",resolver:t=>Jz(`assets/icons/${t}.svg`)},A5=b5,Aw={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-files" viewBox="0 0 16 16" part="svg">
      <path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"></path>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},I5={name:"system",resolver:t=>t in Aw?`data:image/svg+xml,${encodeURIComponent(Aw[t])}`:""},w5=I5,C5=[A5,w5],S0=[];function x5(t){S0.push(t)}function _5(t){S0=S0.filter(e=>e!==t)}function Iw(t){return C5.find(e=>e.name===t)}function Hu(t,e){const n=Oy({waitUntilFirstUpdate:!1},e);return(i,r)=>{const{update:s}=i,o=Array.isArray(t)?t:[t];i.update=function(a){o.forEach(l=>{const c=l;if(a.has(c)){const u=a.get(c),f=this[c];u!==f&&(!n.waitUntilFirstUpdate||this.hasUpdated)&&this[r](u,f)}}),s.call(this,a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const S5=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}},M5=(t,e,n)=>{e.constructor.createProperty(n,t)};function Ve(t){return(e,n)=>n!==void 0?M5(t,e,n):S5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function GT(t){return Ve({...t,state:!0})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const T5=({finisher:t,descriptor:e})=>(n,i)=>{var r;if(i===void 0){const s=(r=n.originalKey)!==null&&r!==void 0?r:n.key,o=e!=null?{kind:"method",placement:"prototype",key:s,descriptor:e(n.key)}:{...n,key:s};return t!=null&&(o.finisher=function(a){t(a,s)}),o}{const s=n.constructor;e!==void 0&&Object.defineProperty(n,i,e(i)),t==null||t(s,i)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Xu(t,e){return T5({descriptor:n=>{const i={get(){var r,s;return(s=(r=this.renderRoot)===null||r===void 0?void 0:r.querySelector(t))!==null&&s!==void 0?s:null},enumerable:!0,configurable:!0};if(e){const r=typeof n=="symbol"?Symbol():"__"+n;i.get=function(){var s,o;return this[r]===void 0&&(this[r]=(o=(s=this.renderRoot)===null||s===void 0?void 0:s.querySelector(t))!==null&&o!==void 0?o:null),this[r]}}return i}})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var zh;((zh=window.HTMLSlotElement)===null||zh===void 0?void 0:zh.prototype.assignedElements)!=null;var Us=class extends Ra{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([t,e])=>{this.constructor.define(t,e)})}emit(t,e){const n=new CustomEvent(t,Oy({bubbles:!0,cancelable:!1,composed:!0,detail:{}},e));return this.dispatchEvent(n),n}static define(t,e=this,n={}){const i=customElements.get(t);if(!i){customElements.define(t,class extends e{},n);return}let r=" (unknown version)",s=r;"version"in e&&e.version&&(r=" v"+e.version),"version"in i&&i.version&&(s=" v"+i.version),!(r&&s&&r===s)&&console.warn(`Attempted to register <${t}>${r}, but <${t}>${s} has already been registered.`)}};Us.version="2.7.0";Us.dependencies={};ye([Ve()],Us.prototype,"dir",2);ye([Ve()],Us.prototype,"lang",2);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const N5=(t,e)=>e===void 0?(t==null?void 0:t._$litType$)!==void 0:(t==null?void 0:t._$litType$)===e;var aa=Symbol(),sc=Symbol(),Bh,jh=new Map,$i=class extends Us{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(t,e){var n;let i;if(e!=null&&e.spriteSheet)return ru`<svg part="svg">
        <use part="use" href="${t}"></use>
      </svg>`;try{if(i=await fetch(t,{mode:"cors"}),!i.ok)return i.status===410?aa:sc}catch{return sc}try{const r=document.createElement("div");r.innerHTML=await i.text();const s=r.firstElementChild;if(((n=s==null?void 0:s.tagName)==null?void 0:n.toLowerCase())!=="svg")return aa;Bh||(Bh=new DOMParser);const a=Bh.parseFromString(s.outerHTML,"text/html").body.querySelector("svg");return a?(a.part.add("svg"),document.adoptNode(a)):aa}catch{return aa}}connectedCallback(){super.connectedCallback(),x5(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),_5(this)}getUrl(){const t=Iw(this.library);return this.name&&t?t.resolver(this.name):this.src}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var t;const e=Iw(this.library),n=this.getUrl();if(!n){this.svg=null;return}let i=jh.get(n);if(i||(i=this.resolveIcon(n,e),jh.set(n,i)),!this.initialRender)return;const r=await i;if(r===sc&&jh.delete(n),n===this.getUrl()){if(N5(r)){this.svg=r;return}switch(r){case sc:case aa:this.svg=null,this.emit("sl-error");break;default:this.svg=r.cloneNode(!0),(t=e==null?void 0:e.mutator)==null||t.call(e,this.svg),this.emit("sl-load")}}}render(){return this.svg}};$i.styles=y5;ye([GT()],$i.prototype,"svg",2);ye([Ve({reflect:!0})],$i.prototype,"name",2);ye([Ve()],$i.prototype,"src",2);ye([Ve()],$i.prototype,"label",2);ye([Ve({reflect:!0})],$i.prototype,"library",2);ye([Hu("label")],$i.prototype,"handleLabelChange",1);ye([Hu(["name","src","library"])],$i.prototype,"setIcon",1);$i.define("sl-icon");var E5=Vu`
  ${zy}

  :host {
    --size: 25rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .drawer {
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
  }

  .drawer--contained {
    position: absolute;
    z-index: initial;
  }

  .drawer--fixed {
    position: fixed;
    z-index: var(--sl-z-index-drawer);
  }

  .drawer__panel {
    position: absolute;
    display: flex;
    flex-direction: column;
    z-index: 2;
    max-width: 100%;
    max-height: 100%;
    background-color: var(--sl-panel-background-color);
    box-shadow: var(--sl-shadow-x-large);
    overflow: auto;
    pointer-events: all;
  }

  .drawer__panel:focus {
    outline: none;
  }

  .drawer--top .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--end .drawer__panel {
    top: 0;
    inset-inline-end: 0;
    bottom: auto;
    inset-inline-start: auto;
    width: var(--size);
    height: 100%;
  }

  .drawer--bottom .drawer__panel {
    top: auto;
    inset-inline-end: auto;
    bottom: 0;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--start .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: var(--size);
    height: 100%;
  }

  .drawer__header {
    display: flex;
  }

  .drawer__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .drawer__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .drawer__header-actions sl-icon-button,
  .drawer__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .drawer__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .drawer__footer {
    text-align: right;
    padding: var(--footer-spacing);
  }

  .drawer__footer ::slotted(sl-button:not(:last-of-type)) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .drawer:not(.drawer--has-footer) .drawer__footer {
    display: none;
  }

  .drawer__overlay {
    display: block;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
    pointer-events: all;
  }

  .drawer--contained .drawer__overlay {
    display: none;
  }

  @media (forced-colors: active) {
    .drawer__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`;function P5(t){return k5(t)}function Gh(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}function k5(t){for(let e=t;e;e=Gh(e))if(e instanceof Element&&getComputedStyle(e).display==="none")return null;for(let e=Gh(t);e;e=Gh(e)){if(!(e instanceof Element))continue;const n=getComputedStyle(e);if(n.display!=="contents"&&(n.position!=="static"||n.filter!=="none"||e.tagName==="BODY"))return e}return null}function D5(t){const e=t.tagName.toLowerCase();return t.getAttribute("tabindex")==="-1"||t.hasAttribute("disabled")||t.hasAttribute("aria-disabled")&&t.getAttribute("aria-disabled")!=="false"||e==="input"&&t.getAttribute("type")==="radio"&&!t.hasAttribute("checked")||t.offsetParent===null&&P5(t)===null||window.getComputedStyle(t).visibility==="hidden"?!1:(e==="audio"||e==="video")&&t.hasAttribute("controls")||t.hasAttribute("tabindex")||t.hasAttribute("contenteditable")&&t.getAttribute("contenteditable")!=="false"?!0:["button","input","select","textarea","a","audio","video","summary"].includes(e)}function Fh(t){const e=[];function n(i){i instanceof Element&&(e.push(i),i.shadowRoot!==null&&i.shadowRoot.mode==="open"&&n(i.shadowRoot)),[...i.children].forEach(r=>n(r))}return n(t),e.filter(D5).sort((i,r)=>{const s=Number(i.getAttribute("tabindex"))||0;return(Number(r.getAttribute("tabindex"))||0)-s})}var la=[],O5=class{constructor(t){this.tabDirection="forward",this.handleFocusIn=()=>{this.checkFocus()},this.handleKeyDown=e=>{var n;if(e.key!=="Tab")return;e.shiftKey?this.tabDirection="backward":this.tabDirection="forward",e.preventDefault();const i=Fh(this.element),r=i[0];let s=this.currentFocusIndex;if(s===-1){this.currentFocus=r,this.currentFocus.focus({preventScroll:!0});return}const o=this.tabDirection==="forward"?1:-1;s+o>=i.length?s=0:this.currentFocusIndex+o<0?s=i.length-1:s+=o,this.currentFocus=i[s],(n=this.currentFocus)==null||n.focus({preventScroll:!0}),setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=t}activate(){la.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){la=la.filter(t=>t!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return la[la.length-1]===this.element}checkFocus(){if(this.isActive()){const t=Fh(this.element);if(!this.element.matches(":focus-within")){const e=t[0],n=t[t.length-1],i=this.tabDirection==="forward"?e:n;typeof(i==null?void 0:i.focus)=="function"&&(this.currentFocus=i,i.focus({preventScroll:!0}))}}}get currentFocusIndex(){return Fh(this.element).findIndex(t=>t===this.currentFocus)}},M0=new Set;function L5(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Zh(t){if(M0.add(t),!document.body.classList.contains("sl-scroll-lock")){const e=L5();document.body.classList.add("sl-scroll-lock"),document.body.style.setProperty("--sl-scroll-lock-size",`${e}px`)}}function Wh(t){M0.delete(t),M0.size===0&&(document.body.classList.remove("sl-scroll-lock"),document.body.style.removeProperty("--sl-scroll-lock-size"))}var R5=Vu`
  ${zy}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const z5={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},B5=t=>(...e)=>({_$litDirective$:t,values:e});let j5=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,i){this._$Ct=e,this._$AM=n,this._$Ci=i}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const FT=B5(class extends j5{constructor(t){var e;if(super(t),t.type!==z5.ATTRIBUTE||t.name!=="class"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var n,i;if(this.it===void 0){this.it=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!(!((n=this.nt)===null||n===void 0)&&n.has(s))&&this.it.add(s);return this.render(e)}const r=t.element.classList;this.it.forEach(s=>{s in e||(r.remove(s),this.it.delete(s))});for(const s in e){const o=!!e[s];o===this.it.has(s)||!((i=this.nt)===null||i===void 0)&&i.has(s)||(o?(r.add(s),this.it.add(s)):(r.remove(s),this.it.delete(s)))}return js}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ZT=Symbol.for(""),G5=t=>{if((t==null?void 0:t.r)===ZT)return t==null?void 0:t._$litStatic$},ww=(t,...e)=>({_$litStatic$:e.reduce((n,i,r)=>n+(s=>{if(s._$litStatic$!==void 0)return s._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${s}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(i)+t[r+1],t[0]),r:ZT}),Cw=new Map,F5=t=>(e,...n)=>{const i=n.length;let r,s;const o=[],a=[];let l,c=0,u=!1;for(;c<i;){for(l=e[c];c<i&&(s=n[c],(r=G5(s))!==void 0);)l+=r+e[++c],u=!0;c!==i&&a.push(s),o.push(l),c++}if(c===i&&o.push(e[i]),u){const f=o.join("$$lit$$");(e=Cw.get(f))===void 0&&(o.raw=o,Cw.set(f,e=o)),n=a}return t(e,...n)},Z5=F5(ru);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hi=t=>t??Ke;var si=class extends Us{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}click(){this.button.click()}focus(t){this.button.focus(t)}blur(){this.button.blur()}render(){const t=!!this.href,e=t?ww`a`:ww`button`;return Z5`
      <${e}
        part="base"
        class=${FT({"icon-button":!0,"icon-button--disabled":!t&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${hi(t?void 0:this.disabled)}
        type=${hi(t?void 0:"button")}
        href=${hi(t?this.href:void 0)}
        target=${hi(t?this.target:void 0)}
        download=${hi(t?this.download:void 0)}
        rel=${hi(t&&this.target?"noreferrer noopener":void 0)}
        role=${hi(t?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${hi(this.name)}
          library=${hi(this.library)}
          src=${hi(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${e}>
    `}};si.styles=R5;si.dependencies={"sl-icon":$i};ye([Xu(".icon-button")],si.prototype,"button",2);ye([GT()],si.prototype,"hasFocus",2);ye([Ve()],si.prototype,"name",2);ye([Ve()],si.prototype,"library",2);ye([Ve()],si.prototype,"src",2);ye([Ve()],si.prototype,"href",2);ye([Ve()],si.prototype,"target",2);ye([Ve()],si.prototype,"download",2);ye([Ve()],si.prototype,"label",2);ye([Ve({type:Boolean,reflect:!0})],si.prototype,"disabled",2);var WT=new Map,W5=new WeakMap;function U5(t){return t??{keyframes:[],options:{duration:0}}}function xw(t,e){return e.toLowerCase()==="rtl"?{keyframes:t.rtlKeyframes||t.keyframes,options:t.options}:t}function Di(t,e){WT.set(t,U5(e))}function ca(t,e,n){const i=W5.get(t);if(i!=null&&i[e])return xw(i[e],n.dir);const r=WT.get(e);return r?xw(r,n.dir):{keyframes:[],options:{duration:0}}}function _w(t,e){return new Promise(n=>{function i(r){r.target===t&&(t.removeEventListener(e,i),n())}t.addEventListener(e,i)})}function ua(t,e,n){return new Promise(i=>{if((n==null?void 0:n.duration)===1/0)throw new Error("Promise-based animations must be finite.");const r=t.animate(e,i5(Oy({},n),{duration:V5()?0:n.duration}));r.addEventListener("cancel",i,{once:!0}),r.addEventListener("finish",i,{once:!0})})}function V5(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function oc(t){return Promise.all(t.getAnimations().map(e=>new Promise(n=>{const i=requestAnimationFrame(n);e.addEventListener("cancel",()=>i,{once:!0}),e.addEventListener("finish",()=>i,{once:!0}),e.cancel()})))}var Y5=class{constructor(t,...e){this.slotNames=[],this.handleSlotChange=n=>{const i=n.target;(this.slotNames.includes("[default]")&&!i.name||i.name&&this.slotNames.includes(i.name))&&this.host.requestUpdate()},(this.host=t).addController(this),this.slotNames=e}hasDefaultSlot(){return[...this.host.childNodes].some(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent.trim()!=="")return!0;if(t.nodeType===t.ELEMENT_NODE){const e=t;if(e.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!e.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(t){return this.host.querySelector(`:scope > [slot="${t}"]`)!==null}test(t){return t==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(t)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}};const T0=new Set,H5=new MutationObserver(YT),mo=new Map;let UT=document.documentElement.dir||"ltr",VT=document.documentElement.lang||navigator.language,As;H5.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function X5(...t){t.map(e=>{const n=e.$code.toLowerCase();mo.has(n)?mo.set(n,Object.assign(Object.assign({},mo.get(n)),e)):mo.set(n,e),As||(As=e)}),YT()}function YT(){UT=document.documentElement.dir||"ltr",VT=document.documentElement.lang||navigator.language,[...T0.keys()].map(t=>{typeof t.requestUpdate=="function"&&t.requestUpdate()})}let $5=class{constructor(e){this.host=e,this.host.addController(this)}hostConnected(){T0.add(this.host)}hostDisconnected(){T0.delete(this.host)}dir(){return`${this.host.dir||UT}`.toLowerCase()}lang(){return`${this.host.lang||VT}`.toLowerCase()}getTranslationData(e){var n,i;const r=new Intl.Locale(e),s=r==null?void 0:r.language.toLowerCase(),o=(i=(n=r==null?void 0:r.region)===null||n===void 0?void 0:n.toLowerCase())!==null&&i!==void 0?i:"",a=mo.get(`${s}-${o}`),l=mo.get(s);return{locale:r,language:s,region:o,primary:a,secondary:l}}exists(e,n){var i;const{primary:r,secondary:s}=this.getTranslationData((i=n.lang)!==null&&i!==void 0?i:this.lang());return n=Object.assign({includeFallback:!1},n),!!(r&&r[e]||s&&s[e]||n.includeFallback&&As&&As[e])}term(e,...n){const{primary:i,secondary:r}=this.getTranslationData(this.lang());let s;if(i&&i[e])s=i[e];else if(r&&r[e])s=r[e];else if(As&&As[e])s=As[e];else return console.error(`No translation found for: ${String(e)}`),String(e);return typeof s=="function"?s(...n):s}date(e,n){return e=new Date(e),new Intl.DateTimeFormat(this.lang(),n).format(e)}number(e,n){return e=Number(e),isNaN(e)?"":new Intl.NumberFormat(this.lang(),n).format(e)}relativeTime(e,n,i){return new Intl.RelativeTimeFormat(this.lang(),i).format(e,n)}};var q5=class extends $5{};function Sw(t){return t.charAt(0).toUpperCase()+t.slice(1)}var oi=class extends Us{constructor(){super(...arguments),this.hasSlotController=new Y5(this,"footer"),this.localize=new q5(this),this.modal=new O5(this),this.open=!1,this.label="",this.placement="end",this.contained=!1,this.noHeader=!1,this.handleDocumentKeyDown=t=>{this.contained||t.key==="Escape"&&this.modal.isActive()&&this.open&&(t.stopImmediatePropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.drawer.hidden=!this.open,this.open&&(this.addOpenListeners(),this.contained||(this.modal.activate(),Zh(this)))}disconnectedCallback(){super.disconnectedCallback(),Wh(this)}requestClose(t){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:t}}).defaultPrevented){const n=ca(this,"drawer.denyClose",{dir:this.localize.dir()});ua(this.panel,n.keyframes,n.options);return}this.hide()}addOpenListeners(){document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.contained||(this.modal.activate(),Zh(this));const t=this.querySelector("[autofocus]");t&&t.removeAttribute("autofocus"),await Promise.all([oc(this.drawer),oc(this.overlay)]),this.drawer.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(t?t.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),t&&t.setAttribute("autofocus","")});const e=ca(this,`drawer.show${Sw(this.placement)}`,{dir:this.localize.dir()}),n=ca(this,"drawer.overlay.show",{dir:this.localize.dir()});await Promise.all([ua(this.panel,e.keyframes,e.options),ua(this.overlay,n.keyframes,n.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.contained||(this.modal.deactivate(),Wh(this)),await Promise.all([oc(this.drawer),oc(this.overlay)]);const t=ca(this,`drawer.hide${Sw(this.placement)}`,{dir:this.localize.dir()}),e=ca(this,"drawer.overlay.hide",{dir:this.localize.dir()});await Promise.all([ua(this.overlay,e.keyframes,e.options).then(()=>{this.overlay.hidden=!0}),ua(this.panel,t.keyframes,t.options).then(()=>{this.panel.hidden=!0})]),this.drawer.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1;const n=this.originalTrigger;typeof(n==null?void 0:n.focus)=="function"&&setTimeout(()=>n.focus()),this.emit("sl-after-hide")}}handleNoModalChange(){this.open&&!this.contained&&(this.modal.activate(),Zh(this)),this.open&&this.contained&&(this.modal.deactivate(),Wh(this))}async show(){if(!this.open)return this.open=!0,_w(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,_w(this,"sl-after-hide")}render(){return ru`
      <div
        part="base"
        class=${FT({drawer:!0,"drawer--open":this.open,"drawer--top":this.placement==="top","drawer--end":this.placement==="end","drawer--bottom":this.placement==="bottom","drawer--start":this.placement==="start","drawer--contained":this.contained,"drawer--fixed":!this.contained,"drawer--rtl":this.localize.dir()==="rtl","drawer--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="drawer__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="drawer__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${hi(this.noHeader?this.label:void 0)}
          aria-labelledby=${hi(this.noHeader?void 0:"title")}
          tabindex="0"
        >
          ${this.noHeader?"":ru`
                <header part="header" class="drawer__header">
                  <h2 part="title" class="drawer__title" id="title">
                    <!-- If there's no label, use an invisible character to prevent the header from collapsing -->
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="drawer__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="drawer__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click=${()=>this.requestClose("close-button")}
                    ></sl-icon-button>
                  </div>
                </header>
              `}

          <slot part="body" class="drawer__body"></slot>

          <footer part="footer" class="drawer__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};oi.styles=E5;oi.dependencies={"sl-icon-button":si};ye([Xu(".drawer")],oi.prototype,"drawer",2);ye([Xu(".drawer__panel")],oi.prototype,"panel",2);ye([Xu(".drawer__overlay")],oi.prototype,"overlay",2);ye([Ve({type:Boolean,reflect:!0})],oi.prototype,"open",2);ye([Ve({reflect:!0})],oi.prototype,"label",2);ye([Ve({reflect:!0})],oi.prototype,"placement",2);ye([Ve({type:Boolean,reflect:!0})],oi.prototype,"contained",2);ye([Ve({attribute:"no-header",type:Boolean,reflect:!0})],oi.prototype,"noHeader",2);ye([Hu("open",{waitUntilFirstUpdate:!0})],oi.prototype,"handleOpenChange",1);ye([Hu("contained",{waitUntilFirstUpdate:!0})],oi.prototype,"handleNoModalChange",1);Di("drawer.showTop",{keyframes:[{opacity:0,translate:"0 -100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}});Di("drawer.hideTop",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 -100%"}],options:{duration:250,easing:"ease"}});Di("drawer.showEnd",{keyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}});Di("drawer.hideEnd",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],options:{duration:250,easing:"ease"}});Di("drawer.showBottom",{keyframes:[{opacity:0,translate:"0 100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}});Di("drawer.hideBottom",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 100%"}],options:{duration:250,easing:"ease"}});Di("drawer.showStart",{keyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}});Di("drawer.hideStart",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],options:{duration:250,easing:"ease"}});Di("drawer.denyClose",{keyframes:[{scale:1},{scale:1.01},{scale:1}],options:{duration:250}});Di("drawer.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});Di("drawer.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});oi.define("sl-drawer");var J5={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(t,e)=>`Go to slide ${t} of ${e}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:t=>t===0?"No options selected":t===1?"1 option selected":`${t} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:t=>`Slide ${t}`,toggleColorFormat:"Toggle color format"};X5(J5);window.axios=qz;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";w0("/");var N0=!1,E0=!1,Es=[],P0=-1;function K5(t){Q5(t)}function Q5(t){Es.includes(t)||Es.push(t),tB()}function HT(t){let e=Es.indexOf(t);e!==-1&&e>P0&&Es.splice(e,1)}function tB(){!E0&&!N0&&(N0=!0,queueMicrotask(eB))}function eB(){N0=!1,E0=!0;for(let t=0;t<Es.length;t++)Es[t](),P0=t;Es.length=0,P0=-1,E0=!1}var jo,Go,Il,XT,k0=!0;function nB(t){k0=!1,t(),k0=!0}function iB(t){jo=t.reactive,Il=t.release,Go=e=>t.effect(e,{scheduler:n=>{k0?K5(n):n()}}),XT=t.raw}function Mw(t){Go=t}function rB(t){let e=()=>{};return[i=>{let r=Go(i);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(s=>s())}),t._x_effects.add(r),e=()=>{r!==void 0&&(t._x_effects.delete(r),Il(r))},r},()=>{e()}]}var $T=[],qT=[],JT=[];function sB(t){JT.push(t)}function KT(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,qT.push(e))}function oB(t){$T.push(t)}function aB(t,e,n){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(n)}function QT(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([n,i])=>{(e===void 0||e.includes(n))&&(i.forEach(r=>r()),delete t._x_attributeCleanups[n])})}var By=new MutationObserver(Zy),jy=!1;function Gy(){By.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),jy=!0}function tN(){lB(),By.disconnect(),jy=!1}var za=[],Uh=!1;function lB(){za=za.concat(By.takeRecords()),za.length&&!Uh&&(Uh=!0,queueMicrotask(()=>{cB(),Uh=!1}))}function cB(){Zy(za),za.length=0}function on(t){if(!jy)return t();tN();let e=t();return Gy(),e}var Fy=!1,su=[];function uB(){Fy=!0}function fB(){Fy=!1,Zy(su),su=[]}function Zy(t){if(Fy){su=su.concat(t);return}let e=[],n=[],i=new Map,r=new Map;for(let s=0;s<t.length;s++)if(!t[s].target._x_ignoreMutationObserver&&(t[s].type==="childList"&&(t[s].addedNodes.forEach(o=>o.nodeType===1&&e.push(o)),t[s].removedNodes.forEach(o=>o.nodeType===1&&n.push(o))),t[s].type==="attributes")){let o=t[s].target,a=t[s].attributeName,l=t[s].oldValue,c=()=>{i.has(o)||i.set(o,[]),i.get(o).push({name:a,value:o.getAttribute(a)})},u=()=>{r.has(o)||r.set(o,[]),r.get(o).push(a)};o.hasAttribute(a)&&l===null?c():o.hasAttribute(a)?(u(),c()):u()}r.forEach((s,o)=>{QT(o,s)}),i.forEach((s,o)=>{$T.forEach(a=>a(o,s))});for(let s of n)if(!e.includes(s)&&(qT.forEach(o=>o(s)),s._x_cleanups))for(;s._x_cleanups.length;)s._x_cleanups.pop()();e.forEach(s=>{s._x_ignoreSelf=!0,s._x_ignore=!0});for(let s of e)n.includes(s)||s.isConnected&&(delete s._x_ignoreSelf,delete s._x_ignore,JT.forEach(o=>o(s)),s._x_ignore=!0,s._x_ignoreSelf=!0);e.forEach(s=>{delete s._x_ignoreSelf,delete s._x_ignore}),e=null,n=null,i=null,r=null}function eN(t){return Cl(Mo(t))}function wl(t,e,n){return t._x_dataStack=[e,...Mo(n||t)],()=>{t._x_dataStack=t._x_dataStack.filter(i=>i!==e)}}function Mo(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?Mo(t.host):t.parentNode?Mo(t.parentNode):[]}function Cl(t){let e=new Proxy({},{ownKeys:()=>Array.from(new Set(t.flatMap(n=>Object.keys(n)))),has:(n,i)=>t.some(r=>r.hasOwnProperty(i)),get:(n,i)=>(t.find(r=>{if(r.hasOwnProperty(i)){let s=Object.getOwnPropertyDescriptor(r,i);if(s.get&&s.get._x_alreadyBound||s.set&&s.set._x_alreadyBound)return!0;if((s.get||s.set)&&s.enumerable){let o=s.get,a=s.set,l=s;o=o&&o.bind(e),a=a&&a.bind(e),o&&(o._x_alreadyBound=!0),a&&(a._x_alreadyBound=!0),Object.defineProperty(r,i,{...l,get:o,set:a})}return!0}return!1})||{})[i],set:(n,i,r)=>{let s=t.find(o=>o.hasOwnProperty(i));return s?s[i]=r:t[t.length-1][i]=r,!0}});return e}function nN(t){let e=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,n=(i,r="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([s,{value:o,enumerable:a}])=>{if(a===!1||o===void 0)return;let l=r===""?s:`${r}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?i[s]=o.initialize(t,l,s):e(o)&&o!==i&&!(o instanceof Element)&&n(o,l)})};return n(t)}function iN(t,e=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(i,r,s){return t(this.initialValue,()=>hB(i,r),o=>D0(i,r,o),r,s)}};return e(n),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let r=n.initialize.bind(n);n.initialize=(s,o,a)=>{let l=i.initialize(s,o,a);return n.initialValue=l,r(s,o,a)}}else n.initialValue=i;return n}}function hB(t,e){return e.split(".").reduce((n,i)=>n[i],t)}function D0(t,e,n){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=n;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),D0(t[e[0]],e.slice(1),n)}}var rN={};function Oi(t,e){rN[t]=e}function O0(t,e){return Object.entries(rN).forEach(([n,i])=>{let r=null;function s(){if(r)return r;{let[o,a]=uN(e);return r={interceptor:iN,...o},KT(e,a),r}}Object.defineProperty(t,`$${n}`,{get(){return i(e,s())},enumerable:!1})}),t}function dB(t,e,n,...i){try{return n(...i)}catch(r){Ka(r,t,e)}}function Ka(t,e,n=void 0){Object.assign(t,{el:e,expression:n}),console.warn(`Alpine Expression Error: ${t.message}

${n?'Expression: "'+n+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var Zc=!0;function sN(t){let e=Zc;Zc=!1;let n=t();return Zc=e,n}function Ps(t,e,n={}){let i;return En(t,e)(r=>i=r,n),i}function En(...t){return oN(...t)}var oN=aN;function gB(t){oN=t}function aN(t,e){let n={};O0(n,t);let i=[n,...Mo(t)],r=typeof e=="function"?pB(i,e):vB(i,e,t);return dB.bind(null,t,e,r)}function pB(t,e){return(n=()=>{},{scope:i={},params:r=[]}={})=>{let s=e.apply(Cl([i,...t]),r);ou(n,s)}}var Vh={};function mB(t,e){if(Vh[t])return Vh[t];let n=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(t)||/^(let|const)\s/.test(t)?`(async()=>{ ${t} })()`:t,s=(()=>{try{return new n(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`)}catch(o){return Ka(o,e,t),Promise.resolve()}})();return Vh[t]=s,s}function vB(t,e,n){let i=mB(e,n);return(r=()=>{},{scope:s={},params:o=[]}={})=>{i.result=void 0,i.finished=!1;let a=Cl([s,...t]);if(typeof i=="function"){let l=i(i,a).catch(c=>Ka(c,n,e));i.finished?(ou(r,i.result,a,o,n),i.result=void 0):l.then(c=>{ou(r,c,a,o,n)}).catch(c=>Ka(c,n,e)).finally(()=>i.result=void 0)}}}function ou(t,e,n,i,r){if(Zc&&typeof e=="function"){let s=e.apply(n,i);s instanceof Promise?s.then(o=>ou(t,o,n,i)).catch(o=>Ka(o,r,e)):t(s)}else typeof e=="object"&&e instanceof Promise?e.then(s=>t(s)):t(e)}var Wy="x-";function Fo(t=""){return Wy+t}function yB(t){Wy=t}var L0={};function Ye(t,e){return L0[t]=e,{before(n){if(!L0[n]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const i=Cs.indexOf(n);Cs.splice(i>=0?i:Cs.indexOf("DEFAULT"),0,t)}}}function Uy(t,e,n){if(e=Array.from(e),t._x_virtualDirectives){let s=Object.entries(t._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),o=lN(s);s=s.map(a=>o.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(s)}let i={};return e.map(dN((s,o)=>i[s]=o)).filter(pN).map(IB(i,n)).sort(wB).map(s=>AB(t,s))}function lN(t){return Array.from(t).map(dN()).filter(e=>!pN(e))}var R0=!1,Ia=new Map,cN=Symbol();function bB(t){R0=!0;let e=Symbol();cN=e,Ia.set(e,[]);let n=()=>{for(;Ia.get(e).length;)Ia.get(e).shift()();Ia.delete(e)},i=()=>{R0=!1,n()};t(n),i()}function uN(t){let e=[],n=a=>e.push(a),[i,r]=rB(t);return e.push(r),[{Alpine:_l,effect:i,cleanup:n,evaluateLater:En.bind(En,t),evaluate:Ps.bind(Ps,t)},()=>e.forEach(a=>a())]}function AB(t,e){let n=()=>{},i=L0[e.type]||n,[r,s]=uN(t);aB(t,e.original,s);let o=()=>{t._x_ignore||t._x_ignoreSelf||(i.inline&&i.inline(t,e,r),i=i.bind(i,t,e,r),R0?Ia.get(cN).push(i):i())};return o.runCleanups=s,o}var fN=(t,e)=>({name:n,value:i})=>(n.startsWith(t)&&(n=n.replace(t,e)),{name:n,value:i}),hN=t=>t;function dN(t=()=>{}){return({name:e,value:n})=>{let{name:i,value:r}=gN.reduce((s,o)=>o(s),{name:e,value:n});return i!==e&&t(i,e),{name:i,value:r}}}var gN=[];function Vy(t){gN.push(t)}function pN({name:t}){return mN().test(t)}var mN=()=>new RegExp(`^${Wy}([^:^.]+)\\b`);function IB(t,e){return({name:n,value:i})=>{let r=n.match(mN()),s=n.match(/:([a-zA-Z0-9\-:]+)/),o=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||t[n]||n;return{type:r?r[1]:null,value:s?s[1]:null,modifiers:o.map(l=>l.replace(".","")),expression:i,original:a}}}var z0="DEFAULT",Cs=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",z0,"teleport"];function wB(t,e){let n=Cs.indexOf(t.type)===-1?z0:t.type,i=Cs.indexOf(e.type)===-1?z0:e.type;return Cs.indexOf(n)-Cs.indexOf(i)}function Ba(t,e,n={}){t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function Zr(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(r=>Zr(r,e));return}let n=!1;if(e(t,()=>n=!0),n)return;let i=t.firstElementChild;for(;i;)Zr(i,e),i=i.nextElementSibling}function Wr(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var Tw=!1;function CB(){Tw&&Wr("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Tw=!0,document.body||Wr("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Ba(document,"alpine:init"),Ba(document,"alpine:initializing"),Gy(),sB(e=>Ur(e,Zr)),KT(e=>CN(e)),oB((e,n)=>{Uy(e,n).forEach(i=>i())});let t=e=>!$u(e.parentElement,!0);Array.from(document.querySelectorAll(bN())).filter(t).forEach(e=>{Ur(e)}),Ba(document,"alpine:initialized")}var Yy=[],vN=[];function yN(){return Yy.map(t=>t())}function bN(){return Yy.concat(vN).map(t=>t())}function AN(t){Yy.push(t)}function IN(t){vN.push(t)}function $u(t,e=!1){return qu(t,n=>{if((e?bN():yN()).some(r=>n.matches(r)))return!0})}function qu(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return qu(t.parentElement,e)}}function xB(t){return yN().some(e=>t.matches(e))}var wN=[];function _B(t){wN.push(t)}function Ur(t,e=Zr,n=()=>{}){bB(()=>{e(t,(i,r)=>{n(i,r),wN.forEach(s=>s(i,r)),Uy(i,i.attributes).forEach(s=>s()),i._x_ignore&&r()})})}function CN(t){Zr(t,e=>QT(e))}var B0=[],Hy=!1;function Xy(t=()=>{}){return queueMicrotask(()=>{Hy||setTimeout(()=>{j0()})}),new Promise(e=>{B0.push(()=>{t(),e()})})}function j0(){for(Hy=!1;B0.length;)B0.shift()()}function SB(){Hy=!0}function $y(t,e){return Array.isArray(e)?Nw(t,e.join(" ")):typeof e=="object"&&e!==null?MB(t,e):typeof e=="function"?$y(t,e()):Nw(t,e)}function Nw(t,e){let n=r=>r.split(" ").filter(s=>!t.classList.contains(s)).filter(Boolean),i=r=>(t.classList.add(...r),()=>{t.classList.remove(...r)});return e=e===!0?e="":e||"",i(n(e))}function MB(t,e){let n=a=>a.split(" ").filter(Boolean),i=Object.entries(e).flatMap(([a,l])=>l?n(a):!1).filter(Boolean),r=Object.entries(e).flatMap(([a,l])=>l?!1:n(a)).filter(Boolean),s=[],o=[];return r.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),o.push(a))}),i.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),s.push(a))}),()=>{o.forEach(a=>t.classList.add(a)),s.forEach(a=>t.classList.remove(a))}}function Ju(t,e){return typeof e=="object"&&e!==null?TB(t,e):NB(t,e)}function TB(t,e){let n={};return Object.entries(e).forEach(([i,r])=>{n[i]=t.style[i],i.startsWith("--")||(i=EB(i)),t.style.setProperty(i,r)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Ju(t,n)}}function NB(t,e){let n=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",n||"")}}function EB(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function G0(t,e=()=>{}){let n=!1;return function(){n?e.apply(this,arguments):(n=!0,t.apply(this,arguments))}}Ye("transition",(t,{value:e,modifiers:n,expression:i},{evaluate:r})=>{typeof i=="function"&&(i=r(i)),i!==!1&&(!i||typeof i=="boolean"?kB(t,n,e):PB(t,i,e))});function PB(t,e,n){xN(t,$y,""),{enter:r=>{t._x_transition.enter.during=r},"enter-start":r=>{t._x_transition.enter.start=r},"enter-end":r=>{t._x_transition.enter.end=r},leave:r=>{t._x_transition.leave.during=r},"leave-start":r=>{t._x_transition.leave.start=r},"leave-end":r=>{t._x_transition.leave.end=r}}[n](e)}function kB(t,e,n){xN(t,Ju);let i=!e.includes("in")&&!e.includes("out")&&!n,r=i||e.includes("in")||["enter"].includes(n),s=i||e.includes("out")||["leave"].includes(n);e.includes("in")&&!i&&(e=e.filter((_,S)=>S<e.indexOf("out"))),e.includes("out")&&!i&&(e=e.filter((_,S)=>S>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),a=o||e.includes("opacity"),l=o||e.includes("scale"),c=a?0:1,u=l?fa(e,"scale",95)/100:1,f=fa(e,"delay",0)/1e3,g=fa(e,"origin","center"),p="opacity, transform",v=fa(e,"duration",150)/1e3,y=fa(e,"duration",75)/1e3,I="cubic-bezier(0.4, 0.0, 0.2, 1)";r&&(t._x_transition.enter.during={transformOrigin:g,transitionDelay:`${f}s`,transitionProperty:p,transitionDuration:`${v}s`,transitionTimingFunction:I},t._x_transition.enter.start={opacity:c,transform:`scale(${u})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(t._x_transition.leave.during={transformOrigin:g,transitionDelay:`${f}s`,transitionProperty:p,transitionDuration:`${y}s`,transitionTimingFunction:I},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:c,transform:`scale(${u})`})}function xN(t,e,n={}){t._x_transition||(t._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(i=()=>{},r=()=>{}){F0(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,r)},out(i=()=>{},r=()=>{}){F0(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,r)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,n,i){const r=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let s=()=>r(n);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(n):s():t._x_transition?t._x_transition.in(n):s();return}t._x_hidePromise=t._x_transition?new Promise((o,a)=>{t._x_transition.out(()=>{},()=>o(i)),t._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let o=_N(t);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(t)):r(()=>{let a=l=>{let c=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([u])=>u());return delete l._x_hidePromise,delete l._x_hideChildren,c};a(t).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function _N(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:_N(e)}function F0(t,e,{during:n,start:i,end:r}={},s=()=>{},o=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(i).length===0&&Object.keys(r).length===0){s(),o();return}let a,l,c;DB(t,{start(){a=e(t,i)},during(){l=e(t,n)},before:s,end(){a(),c=e(t,r)},after:o,cleanup(){l(),c()}})}function DB(t,e){let n,i,r,s=G0(()=>{on(()=>{n=!0,i||e.before(),r||(e.end(),j0()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:G0(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},on(()=>{e.start(),e.during()}),SB(),requestAnimationFrame(()=>{if(n)return;let o=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),on(()=>{e.before()}),i=!0,requestAnimationFrame(()=>{n||(on(()=>{e.end()}),j0(),setTimeout(t._x_transitioning.finish,o+a),r=!0)})})}function fa(t,e,n){if(t.indexOf(e)===-1)return n;const i=t[t.indexOf(e)+1];if(!i||e==="scale"&&isNaN(i))return n;if(e==="duration"||e==="delay"){let r=i.match(/([0-9]+)ms/);if(r)return r[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[i,t[t.indexOf(e)+2]].join(" "):i}var Qa=!1;function xl(t,e=()=>{}){return(...n)=>Qa?e(...n):t(...n)}function OB(t){return(...e)=>Qa&&t(...e)}function LB(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),Qa=!0,zB(()=>{RB(e)}),Qa=!1}function RB(t){let e=!1;Ur(t,(i,r)=>{Zr(i,(s,o)=>{if(e&&xB(s))return o();e=!0,r(s,o)})})}function zB(t){let e=Go;Mw((n,i)=>{let r=e(n);return Il(r),()=>{}}),t(),Mw(e)}function SN(t,e,n,i=[]){switch(t._x_bindings||(t._x_bindings=jo({})),t._x_bindings[e]=n,e=i.includes("camel")?VB(e):e,e){case"value":BB(t,n);break;case"style":GB(t,n);break;case"class":jB(t,n);break;case"selected":case"checked":FB(t,e,n);break;default:MN(t,e,n);break}}function BB(t,e){if(t.type==="radio")t.attributes.value===void 0&&(t.value=e),window.fromModel&&(t.checked=Ew(t.value,e));else if(t.type==="checkbox")Number.isInteger(e)?t.value=e:!Number.isInteger(e)&&!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(n=>Ew(n,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")UB(t,e);else{if(t.value===e)return;t.value=e}}function jB(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=$y(t,e)}function GB(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Ju(t,e)}function FB(t,e,n){MN(t,e,n),WB(t,e,n)}function MN(t,e,n){[null,void 0,!1].includes(n)&&YB(e)?t.removeAttribute(e):(TN(e)&&(n=e),ZB(t,e,n))}function ZB(t,e,n){t.getAttribute(e)!=n&&t.setAttribute(e,n)}function WB(t,e,n){t[e]!==n&&(t[e]=n)}function UB(t,e){const n=[].concat(e).map(i=>i+"");Array.from(t.options).forEach(i=>{i.selected=n.includes(i.value)})}function VB(t){return t.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function Ew(t,e){return t==e}function TN(t){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(t)}function YB(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function HB(t,e,n){return t._x_bindings&&t._x_bindings[e]!==void 0?t._x_bindings[e]:NN(t,e,n)}function XB(t,e,n,i=!0){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];if(t._x_inlineBindings&&t._x_inlineBindings[e]!==void 0){let r=t._x_inlineBindings[e];return r.extract=i,sN(()=>Ps(t,r.expression))}return NN(t,e,n)}function NN(t,e,n){let i=t.getAttribute(e);return i===null?typeof n=="function"?n():n:i===""?!0:TN(e)?!![e,"true"].includes(i):i}function EN(t,e){var n;return function(){var i=this,r=arguments,s=function(){n=null,t.apply(i,r)};clearTimeout(n),n=setTimeout(s,e)}}function PN(t,e){let n;return function(){let i=this,r=arguments;n||(t.apply(i,r),n=!0,setTimeout(()=>n=!1,e))}}function $B(t){(Array.isArray(t)?t:[t]).forEach(n=>n(_l))}var vs={},Pw=!1;function qB(t,e){if(Pw||(vs=jo(vs),Pw=!0),e===void 0)return vs[t];vs[t]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&vs[t].init(),nN(vs[t])}function JB(){return vs}var kN={};function KB(t,e){let n=typeof e!="function"?()=>e:e;t instanceof Element?DN(t,n()):kN[t]=n}function QB(t){return Object.entries(kN).forEach(([e,n])=>{Object.defineProperty(t,e,{get(){return(...i)=>n(...i)}})}),t}function DN(t,e,n){let i=[];for(;i.length;)i.pop()();let r=Object.entries(e).map(([o,a])=>({name:o,value:a})),s=lN(r);r=r.map(o=>s.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),Uy(t,r,n).map(o=>{i.push(o.runCleanups),o()})}var ON={};function tj(t,e){ON[t]=e}function ej(t,e){return Object.entries(ON).forEach(([n,i])=>{Object.defineProperty(t,n,{get(){return(...r)=>i.bind(e)(...r)},enumerable:!1})}),t}var nj={get reactive(){return jo},get release(){return Il},get effect(){return Go},get raw(){return XT},version:"3.12.3",flushAndStopDeferringMutations:fB,dontAutoEvaluateFunctions:sN,disableEffectScheduling:nB,startObservingMutations:Gy,stopObservingMutations:tN,setReactivityEngine:iB,closestDataStack:Mo,skipDuringClone:xl,onlyDuringClone:OB,addRootSelector:AN,addInitSelector:IN,addScopeToNode:wl,deferMutations:uB,mapAttributes:Vy,evaluateLater:En,interceptInit:_B,setEvaluator:gB,mergeProxies:Cl,extractProp:XB,findClosest:qu,closestRoot:$u,destroyTree:CN,interceptor:iN,transition:F0,setStyles:Ju,mutateDom:on,directive:Ye,throttle:PN,debounce:EN,evaluate:Ps,initTree:Ur,nextTick:Xy,prefixed:Fo,prefix:yB,plugin:$B,magic:Oi,store:qB,start:CB,clone:LB,bound:HB,$data:eN,walk:Zr,data:tj,bind:KB},_l=nj;function ij(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}var rj=Object.freeze({}),LN=Object.assign,sj=Object.prototype.hasOwnProperty,Ku=(t,e)=>sj.call(t,e),ks=Array.isArray,ja=t=>RN(t)==="[object Map]",oj=t=>typeof t=="string",qy=t=>typeof t=="symbol",Qu=t=>t!==null&&typeof t=="object",aj=Object.prototype.toString,RN=t=>aj.call(t),zN=t=>RN(t).slice(8,-1),Jy=t=>oj(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,lj=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},cj=lj(t=>t.charAt(0).toUpperCase()+t.slice(1)),BN=(t,e)=>t!==e&&(t===t||e===e),Z0=new WeakMap,ha=[],Gi,Ds=Symbol("iterate"),W0=Symbol("Map key iterate");function uj(t){return t&&t._isEffect===!0}function fj(t,e=rj){uj(t)&&(t=t.raw);const n=gj(t,e);return e.lazy||n(),n}function hj(t){t.active&&(jN(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var dj=0;function gj(t,e){const n=function(){if(!n.active)return t();if(!ha.includes(n)){jN(n);try{return mj(),ha.push(n),Gi=n,t()}finally{ha.pop(),GN(),Gi=ha[ha.length-1]}}};return n.id=dj++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}function jN(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}var To=!0,Ky=[];function pj(){Ky.push(To),To=!1}function mj(){Ky.push(To),To=!0}function GN(){const t=Ky.pop();To=t===void 0?!0:t}function Pi(t,e,n){if(!To||Gi===void 0)return;let i=Z0.get(t);i||Z0.set(t,i=new Map);let r=i.get(n);r||i.set(n,r=new Set),r.has(Gi)||(r.add(Gi),Gi.deps.push(r),Gi.options.onTrack&&Gi.options.onTrack({effect:Gi,target:t,type:e,key:n}))}function Vr(t,e,n,i,r,s){const o=Z0.get(t);if(!o)return;const a=new Set,l=u=>{u&&u.forEach(f=>{(f!==Gi||f.allowRecurse)&&a.add(f)})};if(e==="clear")o.forEach(l);else if(n==="length"&&ks(t))o.forEach((u,f)=>{(f==="length"||f>=i)&&l(u)});else switch(n!==void 0&&l(o.get(n)),e){case"add":ks(t)?Jy(n)&&l(o.get("length")):(l(o.get(Ds)),ja(t)&&l(o.get(W0)));break;case"delete":ks(t)||(l(o.get(Ds)),ja(t)&&l(o.get(W0)));break;case"set":ja(t)&&l(o.get(Ds));break}const c=u=>{u.options.onTrigger&&u.options.onTrigger({effect:u,target:t,key:n,type:e,newValue:i,oldValue:r,oldTarget:s}),u.options.scheduler?u.options.scheduler(u):u()};a.forEach(c)}var vj=ij("__proto__,__v_isRef,__isVue"),FN=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(qy)),yj=tf(),bj=tf(!1,!0),Aj=tf(!0),Ij=tf(!0,!0),au={};["includes","indexOf","lastIndexOf"].forEach(t=>{const e=Array.prototype[t];au[t]=function(...n){const i=Ne(this);for(let s=0,o=this.length;s<o;s++)Pi(i,"get",s+"");const r=e.apply(i,n);return r===-1||r===!1?e.apply(i,n.map(Ne)):r}});["push","pop","shift","unshift","splice"].forEach(t=>{const e=Array.prototype[t];au[t]=function(...n){pj();const i=e.apply(this,n);return GN(),i}});function tf(t=!1,e=!1){return function(i,r,s){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_raw"&&s===(t?e?Pj:nE:e?Ej:eE).get(i))return i;const o=ks(i);if(!t&&o&&Ku(au,r))return Reflect.get(au,r,s);const a=Reflect.get(i,r,s);return(qy(r)?FN.has(r):vj(r))||(t||Pi(i,"get",r),e)?a:U0(a)?!o||!Jy(r)?a.value:a:Qu(a)?t?iE(a):nb(a):a}}var wj=ZN(),Cj=ZN(!0);function ZN(t=!1){return function(n,i,r,s){let o=n[i];if(!t&&(r=Ne(r),o=Ne(o),!ks(n)&&U0(o)&&!U0(r)))return o.value=r,!0;const a=ks(n)&&Jy(i)?Number(i)<n.length:Ku(n,i),l=Reflect.set(n,i,r,s);return n===Ne(s)&&(a?BN(r,o)&&Vr(n,"set",i,r,o):Vr(n,"add",i,r)),l}}function xj(t,e){const n=Ku(t,e),i=t[e],r=Reflect.deleteProperty(t,e);return r&&n&&Vr(t,"delete",e,void 0,i),r}function _j(t,e){const n=Reflect.has(t,e);return(!qy(e)||!FN.has(e))&&Pi(t,"has",e),n}function Sj(t){return Pi(t,"iterate",ks(t)?"length":Ds),Reflect.ownKeys(t)}var WN={get:yj,set:wj,deleteProperty:xj,has:_j,ownKeys:Sj},UN={get:Aj,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}};LN({},WN,{get:bj,set:Cj});LN({},UN,{get:Ij});var Qy=t=>Qu(t)?nb(t):t,tb=t=>Qu(t)?iE(t):t,eb=t=>t,ef=t=>Reflect.getPrototypeOf(t);function nf(t,e,n=!1,i=!1){t=t.__v_raw;const r=Ne(t),s=Ne(e);e!==s&&!n&&Pi(r,"get",e),!n&&Pi(r,"get",s);const{has:o}=ef(r),a=i?eb:n?tb:Qy;if(o.call(r,e))return a(t.get(e));if(o.call(r,s))return a(t.get(s));t!==r&&t.get(e)}function rf(t,e=!1){const n=this.__v_raw,i=Ne(n),r=Ne(t);return t!==r&&!e&&Pi(i,"has",t),!e&&Pi(i,"has",r),t===r?n.has(t):n.has(t)||n.has(r)}function sf(t,e=!1){return t=t.__v_raw,!e&&Pi(Ne(t),"iterate",Ds),Reflect.get(t,"size",t)}function VN(t){t=Ne(t);const e=Ne(this);return ef(e).has.call(e,t)||(e.add(t),Vr(e,"add",t,t)),this}function YN(t,e){e=Ne(e);const n=Ne(this),{has:i,get:r}=ef(n);let s=i.call(n,t);s?tE(n,i,t):(t=Ne(t),s=i.call(n,t));const o=r.call(n,t);return n.set(t,e),s?BN(e,o)&&Vr(n,"set",t,e,o):Vr(n,"add",t,e),this}function HN(t){const e=Ne(this),{has:n,get:i}=ef(e);let r=n.call(e,t);r?tE(e,n,t):(t=Ne(t),r=n.call(e,t));const s=i?i.call(e,t):void 0,o=e.delete(t);return r&&Vr(e,"delete",t,void 0,s),o}function XN(){const t=Ne(this),e=t.size!==0,n=ja(t)?new Map(t):new Set(t),i=t.clear();return e&&Vr(t,"clear",void 0,void 0,n),i}function of(t,e){return function(i,r){const s=this,o=s.__v_raw,a=Ne(o),l=e?eb:t?tb:Qy;return!t&&Pi(a,"iterate",Ds),o.forEach((c,u)=>i.call(r,l(c),l(u),s))}}function ac(t,e,n){return function(...i){const r=this.__v_raw,s=Ne(r),o=ja(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...i),u=n?eb:e?tb:Qy;return!e&&Pi(s,"iterate",l?W0:Ds),{next(){const{value:f,done:g}=c.next();return g?{value:f,done:g}:{value:a?[u(f[0]),u(f[1])]:u(f),done:g}},[Symbol.iterator](){return this}}}}function Or(t){return function(...e){{const n=e[0]?`on key "${e[0]}" `:"";console.warn(`${cj(t)} operation ${n}failed: target is readonly.`,Ne(this))}return t==="delete"?!1:this}}var $N={get(t){return nf(this,t)},get size(){return sf(this)},has:rf,add:VN,set:YN,delete:HN,clear:XN,forEach:of(!1,!1)},qN={get(t){return nf(this,t,!1,!0)},get size(){return sf(this)},has:rf,add:VN,set:YN,delete:HN,clear:XN,forEach:of(!1,!0)},JN={get(t){return nf(this,t,!0)},get size(){return sf(this,!0)},has(t){return rf.call(this,t,!0)},add:Or("add"),set:Or("set"),delete:Or("delete"),clear:Or("clear"),forEach:of(!0,!1)},KN={get(t){return nf(this,t,!0,!0)},get size(){return sf(this,!0)},has(t){return rf.call(this,t,!0)},add:Or("add"),set:Or("set"),delete:Or("delete"),clear:Or("clear"),forEach:of(!0,!0)},Mj=["keys","values","entries",Symbol.iterator];Mj.forEach(t=>{$N[t]=ac(t,!1,!1),JN[t]=ac(t,!0,!1),qN[t]=ac(t,!1,!0),KN[t]=ac(t,!0,!0)});function QN(t,e){const n=e?t?KN:qN:t?JN:$N;return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(Ku(n,r)&&r in i?n:i,r,s)}var Tj={get:QN(!1,!1)},Nj={get:QN(!0,!1)};function tE(t,e,n){const i=Ne(n);if(i!==n&&e.call(t,i)){const r=zN(t);console.warn(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var eE=new WeakMap,Ej=new WeakMap,nE=new WeakMap,Pj=new WeakMap;function kj(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dj(t){return t.__v_skip||!Object.isExtensible(t)?0:kj(zN(t))}function nb(t){return t&&t.__v_isReadonly?t:rE(t,!1,WN,Tj,eE)}function iE(t){return rE(t,!0,UN,Nj,nE)}function rE(t,e,n,i,r){if(!Qu(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const o=Dj(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return r.set(t,a),a}function Ne(t){return t&&Ne(t.__v_raw)||t}function U0(t){return!!(t&&t.__v_isRef===!0)}Oi("nextTick",()=>Xy);Oi("dispatch",t=>Ba.bind(Ba,t));Oi("watch",(t,{evaluateLater:e,effect:n})=>(i,r)=>{let s=e(i),o=!0,a,l=n(()=>s(c=>{JSON.stringify(c),o?a=c:queueMicrotask(()=>{r(c,a),a=c}),o=!1}));t._x_effects.delete(l)});Oi("store",JB);Oi("data",t=>eN(t));Oi("root",t=>$u(t));Oi("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=Cl(Oj(t))),t._x_refs_proxy));function Oj(t){let e=[],n=t;for(;n;)n._x_refs&&e.push(n._x_refs),n=n.parentNode;return e}var Yh={};function sE(t){return Yh[t]||(Yh[t]=0),++Yh[t]}function Lj(t,e){return qu(t,n=>{if(n._x_ids&&n._x_ids[e])return!0})}function Rj(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=sE(e))}Oi("id",t=>(e,n=null)=>{let i=Lj(t,e),r=i?i._x_ids[e]:sE(e);return n?`${e}-${r}-${n}`:`${e}-${r}`});Oi("el",t=>t);oE("Focus","focus","focus");oE("Persist","persist","persist");function oE(t,e,n){Oi(e,i=>Wr(`You can't use [$${directiveName}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${n}`,i))}function zj({get:t,set:e},{get:n,set:i}){let r=!0,s,o,a=Go(()=>{let l,c;r?(l=t(),i(l),c=n(),r=!1):(l=t(),c=n(),o=JSON.stringify(l),JSON.stringify(c),o!==s?(c=n(),i(l),c=l):(e(c),l=c)),s=JSON.stringify(l),JSON.stringify(c)});return()=>{Il(a)}}Ye("modelable",(t,{expression:e},{effect:n,evaluateLater:i,cleanup:r})=>{let s=i(e),o=()=>{let u;return s(f=>u=f),u},a=i(`${e} = __placeholder`),l=u=>a(()=>{},{scope:{__placeholder:u}}),c=o();l(c),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let u=t._x_model.get,f=t._x_model.set,g=zj({get(){return u()},set(p){f(p)}},{get(){return o()},set(p){l(p)}});r(g)})});var Bj=document.createElement("div");Ye("teleport",(t,{modifiers:e,expression:n},{cleanup:i})=>{t.tagName.toLowerCase()!=="template"&&Wr("x-teleport can only be used on a <template> tag",t);let r=xl(()=>document.querySelector(n),()=>Bj)();r||Wr(`Cannot find x-teleport element for selector: "${n}"`);let s=t.content.cloneNode(!0).firstElementChild;t._x_teleport=s,s._x_teleportBack=t,t._x_forwardEvents&&t._x_forwardEvents.forEach(o=>{s.addEventListener(o,a=>{a.stopPropagation(),t.dispatchEvent(new a.constructor(a.type,a))})}),wl(s,{},t),on(()=>{e.includes("prepend")?r.parentNode.insertBefore(s,r):e.includes("append")?r.parentNode.insertBefore(s,r.nextSibling):r.appendChild(s),Ur(s),s._x_ignore=!0}),i(()=>s.remove())});var aE=()=>{};aE.inline=(t,{modifiers:e},{cleanup:n})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,n(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};Ye("ignore",aE);Ye("effect",(t,{expression:e},{effect:n})=>n(En(t,e)));function V0(t,e,n,i){let r=t,s=l=>i(l),o={},a=(l,c)=>u=>c(l,u);if(n.includes("dot")&&(e=jj(e)),n.includes("camel")&&(e=Gj(e)),n.includes("passive")&&(o.passive=!0),n.includes("capture")&&(o.capture=!0),n.includes("window")&&(r=window),n.includes("document")&&(r=document),n.includes("debounce")){let l=n[n.indexOf("debounce")+1]||"invalid-wait",c=lu(l.split("ms")[0])?Number(l.split("ms")[0]):250;s=EN(s,c)}if(n.includes("throttle")){let l=n[n.indexOf("throttle")+1]||"invalid-wait",c=lu(l.split("ms")[0])?Number(l.split("ms")[0]):250;s=PN(s,c)}return n.includes("prevent")&&(s=a(s,(l,c)=>{c.preventDefault(),l(c)})),n.includes("stop")&&(s=a(s,(l,c)=>{c.stopPropagation(),l(c)})),n.includes("self")&&(s=a(s,(l,c)=>{c.target===t&&l(c)})),(n.includes("away")||n.includes("outside"))&&(r=document,s=a(s,(l,c)=>{t.contains(c.target)||c.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&l(c))})),n.includes("once")&&(s=a(s,(l,c)=>{l(c),r.removeEventListener(e,s,o)})),s=a(s,(l,c)=>{Zj(e)&&Wj(c,n)||l(c)}),r.addEventListener(e,s,o),()=>{r.removeEventListener(e,s,o)}}function jj(t){return t.replace(/-/g,".")}function Gj(t){return t.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function lu(t){return!Array.isArray(t)&&!isNaN(t)}function Fj(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Zj(t){return["keydown","keyup"].includes(t)}function Wj(t,e){let n=e.filter(s=>!["window","document","prevent","stop","once","capture"].includes(s));if(n.includes("debounce")){let s=n.indexOf("debounce");n.splice(s,lu((n[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let s=n.indexOf("throttle");n.splice(s,lu((n[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&kw(t.key).includes(n[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter(s=>n.includes(s));return n=n.filter(s=>!r.includes(s)),!(r.length>0&&r.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),t[`${o}Key`])).length===r.length&&kw(t.key).includes(n[0]))}function kw(t){if(!t)return[];t=Fj(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(n=>{if(e[n]===t)return n}).filter(n=>n)}Ye("model",(t,{modifiers:e,expression:n},{effect:i,cleanup:r})=>{let s=t;e.includes("parent")&&(s=t.parentNode);let o=En(s,n),a;typeof n=="string"?a=En(s,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?a=En(s,`${n()} = __placeholder`):a=()=>{};let l=()=>{let g;return o(p=>g=p),Dw(g)?g.get():g},c=g=>{let p;o(v=>p=v),Dw(p)?p.set(g):a(()=>{},{scope:{__placeholder:g}})};typeof n=="string"&&t.type==="radio"&&on(()=>{t.hasAttribute("name")||t.setAttribute("name",n)});var u=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let f=Qa?()=>{}:V0(t,u,e,g=>{c(Uj(t,e,g,l()))});if(e.includes("fill")&&[null,""].includes(l())&&t.dispatchEvent(new Event(u,{})),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=f,r(()=>t._x_removeModelListeners.default()),t.form){let g=V0(t.form,"reset",[],p=>{Xy(()=>t._x_model&&t._x_model.set(t.value))});r(()=>g())}t._x_model={get(){return l()},set(g){c(g)}},t._x_forceModelUpdate=g=>{g=g===void 0?l():g,g===void 0&&typeof n=="string"&&n.match(/\./)&&(g=""),window.fromModel=!0,on(()=>SN(t,"value",g)),delete window.fromModel},i(()=>{let g=l();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(g)})});function Uj(t,e,n,i){return on(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail??n.target.value;if(t.type==="checkbox")if(Array.isArray(i)){let r=e.includes("number")?Hh(n.target.value):n.target.value;return n.target.checked?i.concat([r]):i.filter(s=>!Vj(s,r))}else return n.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(n.target.selectedOptions).map(r=>{let s=r.value||r.text;return Hh(s)}):Array.from(n.target.selectedOptions).map(r=>r.value||r.text);{let r=n.target.value;return e.includes("number")?Hh(r):e.includes("trim")?r.trim():r}}})}function Hh(t){let e=t?parseFloat(t):null;return Yj(e)?e:t}function Vj(t,e){return t==e}function Yj(t){return!Array.isArray(t)&&!isNaN(t)}function Dw(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}Ye("cloak",t=>queueMicrotask(()=>on(()=>t.removeAttribute(Fo("cloak")))));IN(()=>`[${Fo("init")}]`);Ye("init",xl((t,{expression:e},{evaluate:n})=>typeof e=="string"?!!e.trim()&&n(e,{},!1):n(e,{},!1)));Ye("text",(t,{expression:e},{effect:n,evaluateLater:i})=>{let r=i(e);n(()=>{r(s=>{on(()=>{t.textContent=s})})})});Ye("html",(t,{expression:e},{effect:n,evaluateLater:i})=>{let r=i(e);n(()=>{r(s=>{on(()=>{t.innerHTML=s,t._x_ignoreSelf=!0,Ur(t),delete t._x_ignoreSelf})})})});Vy(fN(":",hN(Fo("bind:"))));var lE=(t,{value:e,modifiers:n,expression:i,original:r},{effect:s})=>{if(!e){let a={};QB(a),En(t,i)(c=>{DN(t,c,r)},{scope:a});return}if(e==="key")return Hj(t,i);if(t._x_inlineBindings&&t._x_inlineBindings[e]&&t._x_inlineBindings[e].extract)return;let o=En(t,i);s(()=>o(a=>{a===void 0&&typeof i=="string"&&i.match(/\./)&&(a=""),on(()=>SN(t,e,a,n))}))};lE.inline=(t,{value:e,modifiers:n,expression:i})=>{e&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[e]={expression:i,extract:!1})};Ye("bind",lE);function Hj(t,e){t._x_keyExpression=e}AN(()=>`[${Fo("data")}]`);Ye("data",xl((t,{expression:e},{cleanup:n})=>{e=e===""?"{}":e;let i={};O0(i,t);let r={};ej(r,i);let s=Ps(t,e,{scope:r});(s===void 0||s===!0)&&(s={}),O0(s,t);let o=jo(s);nN(o);let a=wl(t,o);o.init&&Ps(t,o.init),n(()=>{o.destroy&&Ps(t,o.destroy),a()})}));Ye("show",(t,{modifiers:e,expression:n},{effect:i})=>{let r=En(t,n);t._x_doHide||(t._x_doHide=()=>{on(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{on(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let s=()=>{t._x_doHide(),t._x_isShown=!1},o=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(o),l=G0(f=>f?o():s(),f=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,f,o,s):f?a():s()}),c,u=!0;i(()=>r(f=>{!u&&f===c||(e.includes("immediate")&&(f?a():s()),l(f),c=f,u=!1)}))});Ye("for",(t,{expression:e},{effect:n,cleanup:i})=>{let r=$j(e),s=En(t,r.items),o=En(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},n(()=>Xj(t,r,s,o)),i(()=>{Object.values(t._x_lookup).forEach(a=>a.remove()),delete t._x_prevKeys,delete t._x_lookup})});function Xj(t,e,n,i){let r=o=>typeof o=="object"&&!Array.isArray(o),s=t;n(o=>{qj(o)&&o>=0&&(o=Array.from(Array(o).keys(),I=>I+1)),o===void 0&&(o=[]);let a=t._x_lookup,l=t._x_prevKeys,c=[],u=[];if(r(o))o=Object.entries(o).map(([I,_])=>{let S=Ow(e,_,I,o);i(O=>u.push(O),{scope:{index:I,...S}}),c.push(S)});else for(let I=0;I<o.length;I++){let _=Ow(e,o[I],I,o);i(S=>u.push(S),{scope:{index:I,..._}}),c.push(_)}let f=[],g=[],p=[],v=[];for(let I=0;I<l.length;I++){let _=l[I];u.indexOf(_)===-1&&p.push(_)}l=l.filter(I=>!p.includes(I));let y="template";for(let I=0;I<u.length;I++){let _=u[I],S=l.indexOf(_);if(S===-1)l.splice(I,0,_),f.push([y,I]);else if(S!==I){let O=l.splice(I,1)[0],R=l.splice(S-1,1)[0];l.splice(I,0,R),l.splice(S,0,O),g.push([O,R])}else v.push(_);y=_}for(let I=0;I<p.length;I++){let _=p[I];a[_]._x_effects&&a[_]._x_effects.forEach(HT),a[_].remove(),a[_]=null,delete a[_]}for(let I=0;I<g.length;I++){let[_,S]=g[I],O=a[_],R=a[S],A=document.createElement("div");on(()=>{R||Wr('x-for ":key" is undefined or invalid',s),R.after(A),O.after(R),R._x_currentIfEl&&R.after(R._x_currentIfEl),A.before(O),O._x_currentIfEl&&O.after(O._x_currentIfEl),A.remove()}),R._x_refreshXForScope(c[u.indexOf(S)])}for(let I=0;I<f.length;I++){let[_,S]=f[I],O=_==="template"?s:a[_];O._x_currentIfEl&&(O=O._x_currentIfEl);let R=c[S],A=u[S],d=document.importNode(s.content,!0).firstElementChild,C=jo(R);wl(d,C,s),d._x_refreshXForScope=N=>{Object.entries(N).forEach(([k,z])=>{C[k]=z})},on(()=>{O.after(d),Ur(d)}),typeof A=="object"&&Wr("x-for key cannot be an object, it must be a string or an integer",s),a[A]=d}for(let I=0;I<v.length;I++)a[v[I]]._x_refreshXForScope(c[u.indexOf(v[I])]);s._x_prevKeys=u})}function $j(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,r=t.match(i);if(!r)return;let s={};s.items=r[2].trim();let o=r[1].replace(n,"").trim(),a=o.match(e);return a?(s.item=o.replace(e,"").trim(),s.index=a[1].trim(),a[2]&&(s.collection=a[2].trim())):s.item=o,s}function Ow(t,e,n,i){let r={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{r[o]=e[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{r[o]=e[o]}):r[t.item]=e,t.index&&(r[t.index]=n),t.collection&&(r[t.collection]=i),r}function qj(t){return!Array.isArray(t)&&!isNaN(t)}function cE(){}cE.inline=(t,{expression:e},{cleanup:n})=>{let i=$u(t);i._x_refs||(i._x_refs={}),i._x_refs[e]=t,n(()=>delete i._x_refs[e])};Ye("ref",cE);Ye("if",(t,{expression:e},{effect:n,cleanup:i})=>{let r=En(t,e),s=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return wl(a,{},t),on(()=>{t.after(a),Ur(a)}),t._x_currentIfEl=a,t._x_undoIf=()=>{Zr(a,l=>{l._x_effects&&l._x_effects.forEach(HT)}),a.remove(),delete t._x_currentIfEl},a},o=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};n(()=>r(a=>{a?s():o()})),i(()=>t._x_undoIf&&t._x_undoIf())});Ye("id",(t,{expression:e},{evaluate:n})=>{n(e).forEach(r=>Rj(t,r))});Vy(fN("@",hN(Fo("on:"))));Ye("on",xl((t,{value:e,modifiers:n,expression:i},{cleanup:r})=>{let s=i?En(t,i):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let o=V0(t,e,n,a=>{s(()=>{},{scope:{$event:a},params:[a]})});r(()=>o())}));af("Collapse","collapse","collapse");af("Intersect","intersect","intersect");af("Focus","trap","focus");af("Mask","mask","mask");function af(t,e,n){Ye(e,i=>Wr(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${n}`,i))}_l.setEvaluator(aN);_l.setReactivityEngine({reactive:nb,effect:fj,release:hj,raw:Ne});var Jj=_l,uE=Jj;/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Sl(t){return t+.5|0}const Lr=(t,e,n)=>Math.max(Math.min(t,n),e);function wa(t){return Lr(Sl(t*2.55),0,255)}function jr(t){return Lr(Sl(t*255),0,255)}function rr(t){return Lr(Sl(t/2.55)/100,0,1)}function Lw(t){return Lr(Sl(t*100),0,100)}const fi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Y0=[..."0123456789ABCDEF"],Kj=t=>Y0[t&15],Qj=t=>Y0[(t&240)>>4]+Y0[t&15],lc=t=>(t&240)>>4===(t&15),tG=t=>lc(t.r)&&lc(t.g)&&lc(t.b)&&lc(t.a);function eG(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&fi[t[1]]*17,g:255&fi[t[2]]*17,b:255&fi[t[3]]*17,a:e===5?fi[t[4]]*17:255}:(e===7||e===9)&&(n={r:fi[t[1]]<<4|fi[t[2]],g:fi[t[3]]<<4|fi[t[4]],b:fi[t[5]]<<4|fi[t[6]],a:e===9?fi[t[7]]<<4|fi[t[8]]:255})),n}const nG=(t,e)=>t<255?e(t):"";function iG(t){var e=tG(t)?Kj:Qj;return t?"#"+e(t.r)+e(t.g)+e(t.b)+nG(t.a,e):void 0}const rG=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fE(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function sG(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function oG(t,e,n){const i=fE(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function aG(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function ib(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=aG(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function rb(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(jr)}function sb(t,e,n){return rb(fE,t,e,n)}function lG(t,e,n){return rb(oG,t,e,n)}function cG(t,e,n){return rb(sG,t,e,n)}function hE(t){return(t%360+360)%360}function uG(t){const e=rG.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?wa(+e[5]):jr(+e[5]));const r=hE(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=lG(r,s,o):e[1]==="hsv"?i=cG(r,s,o):i=sb(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function fG(t,e){var n=ib(t);n[0]=hE(n[0]+e),n=sb(n),t.r=n[0],t.g=n[1],t.b=n[2]}function hG(t){if(!t)return;const e=ib(t),n=e[0],i=Lw(e[1]),r=Lw(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${rr(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const Rw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dG(){const t={},e=Object.keys(zw),n=Object.keys(Rw);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,Rw[s]);s=parseInt(zw[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let cc;function gG(t){cc||(cc=dG(),cc.transparent=[0,0,0,0]);const e=cc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const pG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mG(t){const e=pG.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?wa(o):Lr(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?wa(i):Lr(i,0,255)),r=255&(e[4]?wa(r):Lr(r,0,255)),s=255&(e[6]?wa(s):Lr(s,0,255)),{r:i,g:r,b:s,a:n}}}function vG(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${rr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Xh=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,oo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function yG(t,e,n){const i=oo(rr(t.r)),r=oo(rr(t.g)),s=oo(rr(t.b));return{r:jr(Xh(i+n*(oo(rr(e.r))-i))),g:jr(Xh(r+n*(oo(rr(e.g))-r))),b:jr(Xh(s+n*(oo(rr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function uc(t,e,n){if(t){let i=ib(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=sb(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function dE(t,e){return t&&Object.assign(e||{},t)}function Bw(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=jr(t[3]))):(e=dE(t,{r:0,g:0,b:0,a:1}),e.a=jr(e.a)),e}function bG(t){return t.charAt(0)==="r"?mG(t):uG(t)}class tl{constructor(e){if(e instanceof tl)return e;const n=typeof e;let i;n==="object"?i=Bw(e):n==="string"&&(i=eG(e)||gG(e)||bG(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=dE(this._rgb);return e&&(e.a=rr(e.a)),e}set rgb(e){this._rgb=Bw(e)}rgbString(){return this._valid?vG(this._rgb):void 0}hexString(){return this._valid?iG(this._rgb):void 0}hslString(){return this._valid?hG(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=yG(this._rgb,e._rgb,n)),this}clone(){return new tl(this.rgb)}alpha(e){return this._rgb.a=jr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Sl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return uc(this._rgb,2,e),this}darken(e){return uc(this._rgb,2,-e),this}saturate(e){return uc(this._rgb,1,e),this}desaturate(e){return uc(this._rgb,1,-e),this}rotate(e){return fG(this._rgb,e),this}}/*!
 * Chart.js v4.3.3
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Qi(){}const AG=(()=>{let t=0;return()=>t++})();function le(t){return t===null||typeof t>"u"}function Se(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function re(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function je(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function $n(t,e){return je(t)?t:e}function Yt(t,e){return typeof t>"u"?e:t}const IG=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,gE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ve(t,e,n,i){let r,s,o;if(Se(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(re(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function cu(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function uu(t){if(Se(t))return t.map(uu);if(re(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=uu(t[n[r]]);return e}return t}function pE(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function wG(t,e,n,i){if(!pE(t))return;const r=e[t],s=n[t];re(r)&&re(s)?el(r,s,i):e[t]=uu(s)}function el(t,e,n){const i=Se(e)?e:[e],r=i.length;if(!re(t))return t;n=n||{};const s=n.merger||wG;let o;for(let a=0;a<r;++a){if(o=i[a],!re(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function Ga(t,e){return el(t,e,{merger:CG})}function CG(t,e,n){if(!pE(t))return;const i=e[t],r=n[t];re(i)&&re(r)?Ga(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=uu(r))}const jw={"":t=>t,x:t=>t.x,y:t=>t.y};function xG(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function _G(t){const e=xG(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Yr(t,e){return(jw[e]||(jw[e]=_G(e)))(t)}function ob(t){return t.charAt(0).toUpperCase()+t.slice(1)}const nl=t=>typeof t<"u",Hr=t=>typeof t=="function",Gw=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function SG(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ee=Math.PI,Me=2*Ee,MG=Me+Ee,fu=Number.POSITIVE_INFINITY,TG=Ee/180,Ge=Ee/2,ds=Ee/4,Fw=Ee*2/3,Rr=Math.log10,Ui=Math.sign;function Fa(t,e,n){return Math.abs(t-e)<n}function Zw(t){const e=Math.round(t);t=Fa(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Rr(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function NG(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function No(t){return!isNaN(parseFloat(t))&&isFinite(t)}function EG(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function mE(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Si(t){return t*(Ee/180)}function ab(t){return t*(180/Ee)}function Ww(t){if(!je(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function vE(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Ee&&(s+=Me),{angle:s,distance:r}}function H0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function PG(t,e){return(t-e+MG)%Me-Ee}function Jn(t){return(t%Me+Me)%Me}function il(t,e,n,i){const r=Jn(t),s=Jn(e),o=Jn(n),a=Jn(s-r),l=Jn(o-r),c=Jn(r-s),u=Jn(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function an(t,e,n){return Math.max(e,Math.min(n,t))}function kG(t){return an(t,-32768,32767)}function ar(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function lb(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const lr=(t,e,n,i)=>lb(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),DG=(t,e,n)=>lb(t,n,i=>t[i][e]>=n);function OG(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const yE=["push","pop","shift","splice","unshift"];function LG(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),yE.forEach(n=>{const i="_onData"+ob(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function Uw(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(yE.forEach(s=>{delete t[s]}),delete t._chartjs)}function bE(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const AE=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function IE(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,AE.call(window,()=>{i=!1,t.apply(e,n)}))}}function RG(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const cb=t=>t==="start"?"left":t==="end"?"right":"center",gn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,zG=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function wE(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:f,maxDefined:g}=o.getUserBounds();f&&(r=an(Math.min(lr(a,l,c).lo,n?i:lr(e,l,o.getPixelForValue(c)).lo),0,i-1)),g?s=an(Math.max(lr(a,o.axis,u,!0).hi+1,n?0:lr(e,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function CE(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const fc=t=>t===0||t===1,Vw=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Me/n)),Yw=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Me/n)+1,Za={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ge)+1,easeOutSine:t=>Math.sin(t*Ge),easeInOutSine:t=>-.5*(Math.cos(Ee*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>fc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>fc(t)?t:Vw(t,.075,.3),easeOutElastic:t=>fc(t)?t:Yw(t,.075,.3),easeInOutElastic(t){return fc(t)?t:t<.5?.5*Vw(t*2,.1125,.45):.5+.5*Yw(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Za.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Za.easeInBounce(t*2)*.5:Za.easeOutBounce(t*2-1)*.5+.5};function ub(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Hw(t){return ub(t)?t:new tl(t)}function $h(t){return ub(t)?t:new tl(t).saturate(.5).darken(.1).hexString()}const BG=["x","y","borderWidth","radius","tension"],jG=["color","borderColor","backgroundColor"];function GG(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:jG},numbers:{type:"number",properties:BG}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function FG(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Xw=new Map;function ZG(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Xw.get(n);return i||(i=new Intl.NumberFormat(t,e),Xw.set(n,i)),i}function Ml(t,e,n){return ZG(e,n).format(t)}const xE={values(t){return Se(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=WG(t,n)}const o=Rr(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ml(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Rr(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?xE.numeric.call(this,t,e,n):""}};function WG(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var lf={formatters:xE};function UG(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Gs=Object.create(null),X0=Object.create(null);function Wa(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function qh(t,e,n){return typeof e=="string"?el(Wa(t,e),n):el(Wa(t,""),e)}class VG{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>$h(r.backgroundColor),this.hoverBorderColor=(i,r)=>$h(r.borderColor),this.hoverColor=(i,r)=>$h(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return qh(this,e,n)}get(e){return Wa(this,e)}describe(e,n){return qh(X0,e,n)}override(e,n){return qh(Gs,e,n)}route(e,n,i,r){const s=Wa(this,e),o=Wa(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return re(l)?Object.assign({},c,l):Yt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Fe=new VG({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[GG,FG,UG]);function YG(t){return!t||le(t.size)||le(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function hu(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function HG(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,f,g;for(l=0;l<a;l++)if(f=n[l],f!=null&&!Se(f))o=hu(t,r,s,o,f);else if(Se(f))for(c=0,u=f.length;c<u;c++)g=f[c],g!=null&&!Se(g)&&(o=hu(t,r,s,o,g));t.restore();const p=s.length/2;if(p>n.length){for(l=0;l<p;l++)delete r[s[l]];s.splice(0,p)}return o}function gs(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function $w(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function $0(t,e,n,i){_E(t,e,n,i,null)}function _E(t,e,n,i,r){let s,o,a,l,c,u,f,g;const p=e.pointStyle,v=e.rotation,y=e.radius;let I=(v||0)*TG;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(I),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:r?t.ellipse(n,i,r/2,y,0,0,Me):t.arc(n,i,y,0,Me),t.closePath();break;case"triangle":u=r?r/2:y,t.moveTo(n+Math.sin(I)*u,i-Math.cos(I)*y),I+=Fw,t.lineTo(n+Math.sin(I)*u,i-Math.cos(I)*y),I+=Fw,t.lineTo(n+Math.sin(I)*u,i-Math.cos(I)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(I+ds)*l,f=Math.cos(I+ds)*(r?r/2-c:l),a=Math.sin(I+ds)*l,g=Math.sin(I+ds)*(r?r/2-c:l),t.arc(n-f,i-a,c,I-Ee,I-Ge),t.arc(n+g,i-o,c,I-Ge,I),t.arc(n+f,i+a,c,I,I+Ge),t.arc(n-g,i+o,c,I+Ge,I+Ee),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*y,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}I+=ds;case"rectRot":f=Math.cos(I)*(r?r/2:y),o=Math.cos(I)*y,a=Math.sin(I)*y,g=Math.sin(I)*(r?r/2:y),t.moveTo(n-f,i-a),t.lineTo(n+g,i-o),t.lineTo(n+f,i+a),t.lineTo(n-g,i+o),t.closePath();break;case"crossRot":I+=ds;case"cross":f=Math.cos(I)*(r?r/2:y),o=Math.cos(I)*y,a=Math.sin(I)*y,g=Math.sin(I)*(r?r/2:y),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+g,i-o),t.lineTo(n-g,i+o);break;case"star":f=Math.cos(I)*(r?r/2:y),o=Math.cos(I)*y,a=Math.sin(I)*y,g=Math.sin(I)*(r?r/2:y),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+g,i-o),t.lineTo(n-g,i+o),I+=ds,f=Math.cos(I)*(r?r/2:y),o=Math.cos(I)*y,a=Math.sin(I)*y,g=Math.sin(I)*(r?r/2:y),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+g,i-o),t.lineTo(n-g,i+o);break;case"line":o=r?r/2:Math.cos(I)*y,a=Math.sin(I)*y,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(I)*(r?r/2:y),i+Math.sin(I)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function cr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function cf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function uf(t){t.restore()}function XG(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function $G(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function qG(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),le(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function JG(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function KG(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Fs(t,e,n,i,r,s={}){const o=Se(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,qG(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&KG(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),le(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),JG(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function rl(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Ge,Ee,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Ee,Ge,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ge,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Ge,!0),t.lineTo(n+o.topLeft,i)}const QG=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,tF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function eF(t,e){const n=(""+t).match(QG);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const nF=t=>+t||0;function fb(t,e){const n={},i=re(e),r=i?Object.keys(e):e,s=re(t)?i?o=>Yt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=nF(s(o));return n}function SE(t){return fb(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Os(t){return fb(t,["topLeft","topRight","bottomLeft","bottomRight"])}function yn(t){const e=SE(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function tn(t,e){t=t||{},e=e||Fe.font;let n=Yt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Yt(t.style,e.style);i&&!(""+i).match(tF)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Yt(t.family,e.family),lineHeight:eF(Yt(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Yt(t.weight,e.weight),string:""};return r.string=YG(r),r}function Ca(t,e,n,i){let r=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&Se(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function iF(t,e,n){const{min:i,max:r}=t,s=gE(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Jr(t,e){return Object.assign(Object.create(t),e)}function hb(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=EE("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>hb([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return TE(a,l,()=>fF(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Jw(a).includes(l)},ownKeys(a){return Jw(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function Eo(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ME(t,i),setContext:s=>Eo(t,s,n,i),override:s=>Eo(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return TE(s,o,()=>sF(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function ME(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Hr(n)?n:()=>n,isIndexable:Hr(i)?i:()=>i}}const rF=(t,e)=>t?t+ob(e):e,db=(t,e)=>re(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function TE(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function sF(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return Hr(a)&&o.isScriptable(e)&&(a=oF(e,a,t,n)),Se(a)&&a.length&&(a=aF(e,a,t,o.isIndexable)),db(e,a)&&(a=Eo(a,r,s&&s[e],o)),a}function oF(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),db(t,l)&&(l=gb(r._scopes,r,t,l)),l}function aF(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(re(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const f=gb(c,r,t,u);e.push(Eo(f,s,o&&o[t],a))}}return e}function NE(t,e,n){return Hr(t)?t(e,n):t}const lF=(t,e)=>t===!0?e:typeof t=="string"?Yr(e,t):void 0;function cF(t,e,n,i,r){for(const s of e){const o=lF(n,s);if(o){t.add(o);const a=NE(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function gb(t,e,n,i){const r=e._rootScopes,s=NE(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=qw(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=qw(a,o,s,l,i),l===null)?!1:hb(Array.from(a),[""],r,s,()=>uF(e,n,i))}function qw(t,e,n,i,r){for(;n;)n=cF(t,e,n,i,r);return n}function uF(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Se(r)&&re(n)?n:r||{}}function fF(t,e,n,i){let r;for(const s of e)if(r=EE(rF(s,t),n),typeof r<"u")return db(t,r)?gb(n,i,t,r):r}function EE(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Jw(t){let e=t._keys;return e||(e=t._keys=hF(t._scopes)),e}function hF(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function PE(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(Yr(u,s),c)};return o}const dF=Number.EPSILON||1e-14,Po=(t,e)=>e<t.length&&!t[e].skip&&t[e],kE=t=>t==="x"?"y":"x";function gF(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=H0(s,r),l=H0(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=i*c,g=i*u;return{previous:{x:s.x-f*(o.x-r.x),y:s.y-f*(o.y-r.y)},next:{x:s.x+g*(o.x-r.x),y:s.y+g*(o.y-r.y)}}}function pF(t,e,n){const i=t.length;let r,s,o,a,l,c=Po(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Po(t,u+1),!(!l||!c)){if(Fa(e[u],0,dF)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function mF(t,e,n="x"){const i=kE(n),r=t.length;let s,o,a,l=Po(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Po(t,c+1),!a)continue;const u=a[n],f=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=f-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=f+s*e[c])}}function vF(t,e="x"){const n=kE(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Po(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Po(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Ui(r[o-1])!==Ui(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}pF(t,r,s),mF(t,s,e)}function hc(t,e,n){return Math.max(Math.min(t,n),e)}function yF(t,e){let n,i,r,s,o,a=cr(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&cr(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=hc(r.cp1x,e.left,e.right),r.cp1y=hc(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=hc(r.cp2x,e.left,e.right),r.cp2y=hc(r.cp2y,e.top,e.bottom)))}function bF(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")vF(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=gF(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&yF(t,n)}function DE(){return typeof window<"u"&&typeof document<"u"}function pb(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function du(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const ff=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function AF(t,e){return ff(t).getPropertyValue(e)}const IF=["top","right","bottom","left"];function Ls(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=IF[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const wF=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function CF(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(wF(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ys(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=ff(n),s=r.boxSizing==="border-box",o=Ls(r,"padding"),a=Ls(r,"border","width"),{x:l,y:c,box:u}=CF(t,n),f=o.left+(u&&a.left),g=o.top+(u&&a.top);let{width:p,height:v}=e;return s&&(p-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-f)/p*n.width/i),y:Math.round((c-g)/v*n.height/i)}}function xF(t,e,n){let i,r;if(e===void 0||n===void 0){const s=pb(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=ff(s),l=Ls(a,"border","width"),c=Ls(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=du(a.maxWidth,s,"clientWidth"),r=du(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||fu,maxHeight:r||fu}}const dc=t=>Math.round(t*10)/10;function _F(t,e,n,i){const r=ff(t),s=Ls(r,"margin"),o=du(r.maxWidth,t,"clientWidth")||fu,a=du(r.maxHeight,t,"clientHeight")||fu,l=xF(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const g=Ls(r,"border","width"),p=Ls(r,"padding");c-=p.width+g.width,u-=p.height+g.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=dc(Math.min(c,o,l.maxWidth)),u=dc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=dc(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=dc(Math.floor(u*i))),{width:c,height:u}}function Kw(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const SF=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function Qw(t,e){const n=AF(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function bs(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function MF(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function TF(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=bs(t,r,n),a=bs(r,s,n),l=bs(s,e,n),c=bs(o,a,n),u=bs(a,l,n);return bs(c,u,n)}const NF=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},EF=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function yo(t,e,n){return t?NF(e,n):EF()}function OE(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function LE(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function RE(t){return t==="angle"?{between:il,compare:PG,normalize:Jn}:{between:ar,compare:(e,n)=>e-n,normalize:e=>e}}function t1({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function PF(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=RE(i),l=e.length;let{start:c,end:u,loop:f}=t,g,p;if(f){for(c+=l,u+=l,g=0,p=l;g<p&&o(a(e[c%l][i]),r,s);++g)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:t.style}}function zE(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=RE(i),{start:u,end:f,loop:g,style:p}=PF(t,e,n),v=[];let y=!1,I=null,_,S,O;const R=()=>l(r,O,_)&&a(r,O)!==0,A=()=>a(s,_)===0||l(s,O,_),d=()=>y||R(),C=()=>!y||A();for(let N=u,k=u;N<=f;++N)S=e[N%o],!S.skip&&(_=c(S[i]),_!==O&&(y=l(_,r,s),I===null&&d()&&(I=a(_,r)===0?N:k),I!==null&&C()&&(v.push(t1({start:I,end:N,loop:g,count:o,style:p})),I=null),k=N,O=_));return I!==null&&v.push(t1({start:I,end:f,loop:g,count:o,style:p})),v}function BE(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=zE(i[r],t.points,e);s.length&&n.push(...s)}return n}function kF(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function DF(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function OF(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=kF(n,r,s,i);if(i===!0)return e1(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return e1(t,DF(n,o,l,c),n,e)}function e1(t,e,n,i){return!i||!i.setContext||!n?e:LF(t,e,n,i)}function LF(t,e,n,i){const r=t._chart.getContext(),s=n1(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,f=e[0].start,g=f;function p(v,y,I,_){const S=a?-1:1;if(v!==y){for(v+=l;n[v%l].skip;)v-=S;for(;n[y%l].skip;)y+=S;v%l!==y%l&&(c.push({start:v%l,end:y%l,loop:I,style:_}),u=_,f=y%l)}}for(const v of e){f=a?f:v.start;let y=n[f%l],I;for(g=f+1;g<=v.end;g++){const _=n[g%l];I=n1(i.setContext(Jr(r,{type:"segment",p0:y,p1:_,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:o}))),RF(I,u)&&p(f,g-1,v.loop,u),y=_,u=I}f<g-1&&p(f,g-1,v.loop,u)}return c}function n1(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function RF(t,e){if(!e)return!1;const n=[],i=function(r,s){return ub(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.3.3
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */let zF=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=AE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};var er=new zF;const i1="transparent",BF={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Hw(t||i1),r=i.valid&&Hw(e||i1);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class jF{constructor(e,n,i,r){const s=n[i];r=Ca([e.to,r,s,e.from]);const o=Ca([e.from,s,r]);this._active=!0,this._fn=e.fn||BF[e.type||typeof o],this._easing=Za[e.easing]||Za.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ca([e.to,n,r,e.from]),this._from=Ca([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class jE{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!re(e))return;const n=Object.keys(Fe.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!re(s))return;const o={};for(const a of n)o[a]=s[a];(Se(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=FF(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&GF(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let f=s[c];const g=i.get(c);if(f)if(g&&f.active()){f.update(g,u,a);continue}else f.cancel();if(!g||!g.duration){e[c]=u;continue}s[c]=f=new jF(g,e,c,u),r.push(f)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return er.add(this._chart,i),!0}}function GF(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function FF(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function r1(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function ZF(t,e,n){if(n===!1)return!1;const i=r1(t,n),r=r1(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function WF(t){let e,n,i,r;return re(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function GE(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function s1(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],je(c)&&(s||e===0||Ui(e)===Ui(c))&&(e+=c)}return e}}function UF(t){const e=Object.keys(t),n=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],n[i]={x:s,y:t[s]};return n}function o1(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function VF(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function YF(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function HF(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function a1(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function l1(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=VF(s,o,i),f=e.length;let g;for(let p=0;p<f;++p){const v=e[p],{[l]:y,[c]:I}=v,_=v._stacks||(v._stacks={});g=_[c]=HF(r,u,y),g[a]=I,g._top=a1(g,o,!0,i.type),g._bottom=a1(g,o,!1,i.type);const S=g._visualValues||(g._visualValues={});S[a]=I}}function Jh(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function XF(t,e){return Jr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function $F(t,e,n){return Jr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function da(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Kh=t=>t==="reset"||t==="none",c1=(t,e)=>e?t:Object.assign({},t),qF=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:GE(n,!0),values:null};class Ni{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=o1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&da(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(f,g,p,v)=>f==="x"?g:f==="r"?v:p,s=n.xAxisID=Yt(i.xAxisID,Jh(e,"x")),o=n.yAxisID=Yt(i.yAxisID,Jh(e,"y")),a=n.rAxisID=Yt(i.rAxisID,Jh(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Uw(this._data,this),e._stacked&&da(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(re(n))this._data=UF(n);else if(i!==n){if(i){Uw(i,this);const r=this._cachedMeta;da(r),r._parsed=[]}n&&Object.isExtensible(n)&&LG(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=o1(n.vScale,n),n.stack!==i.stack&&(r=!0,da(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&l1(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,f,g;if(this._parsing===!1)i._parsed=r,i._sorted=!0,g=r;else{Se(r[e])?g=this.parseArrayData(i,r,e,n):re(r[e])?g=this.parseObjectData(i,r,e,n):g=this.parsePrimitiveData(i,r,e,n);const p=()=>f[a]===null||c&&f[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=f=g[u],l&&(p()&&(l=!1),c=f);i._sorted=l}o&&l1(this,g)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,f=new Array(r);let g,p,v;for(g=0,p=r;g<p;++g)v=g+i,f[g]={[a]:u||s.parse(c[v],v),[l]:o.parse(n[v],v)};return f}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,u,f;for(l=0,c=r;l<c;++l)u=l+i,f=n[u],a[l]={x:s.parse(f[0],u),y:o.parse(f[1],u)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,f,g,p;for(u=0,f=r;u<f;++u)g=u+i,p=n[g],c[u]={x:s.parse(Yr(p,a),g),y:o.parse(Yr(p,l),g)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:GE(r,!0),values:n._stacks[e.axis]._visualValues};return s1(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=s1(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=qF(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=YF(a);let g,p;function v(){p=r[g];const y=p[a.axis];return!je(p[e.axis])||u>y||f<y}for(g=0;g<o&&!(!v()&&(this.updateRangeFromParsed(c,e,p,l),s));++g);if(s){for(g=o-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],je(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=WF(Yt(this.options.clip,ZF(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const f=r[u];f.hidden||(f.active&&c?o.push(f):f.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=$F(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=XF(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&nl(i);if(a)return c1(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],g=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Fe.elements[e]),v=()=>this.getContext(i,r,n),y=c.resolveNamedOptions(g,p,v,f);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(c1(y,l))),y}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),g=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(g,this.getContext(e,i,n))}const c=new jE(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Kh(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){Kh(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Kh(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&da(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}bt(Ni,"defaults",{}),bt(Ni,"datasetElementType",null),bt(Ni,"dataElementType",null);function JF(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=bE(i.sort((r,s)=>r-s))}return t._cache.$bar}function KF(t){const e=t.iScale,n=JF(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(nl(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function QF(t,e,n,i){const r=n.barThickness;let s,o;return le(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function tZ(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function eZ(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function FE(t,e,n,i){return Se(t)?eZ(t,e,n,i):e[n.axis]=n.parse(t,i),e}function u1(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,f,g;for(c=n,u=n+i;c<u;++c)g=e[c],f={},f[r.axis]=a||r.parse(o[c],c),l.push(FE(g,f,s,c));return l}function Qh(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function nZ(t,e,n){return t!==0?Ui(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function iZ(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function rZ(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=iZ(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[f1(u,o,a,l)]=!0,r=c)),s[f1(r,o,a,l)]=!0,t.borderSkipped=s}function f1(t,e,n,i){return i?(t=sZ(t,e,n),t=h1(t,n,e)):t=h1(t,e,n),t}function sZ(t,e,n){return t===e?n:t===n?e:t}function h1(t,e,n){return t==="start"?e:t==="end"?n:t}function oZ(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Wc extends Ni{parsePrimitiveData(e,n,i,r){return u1(e,n,i,r)}parseArrayData(e,n,i,r){return u1(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,f=[];let g,p,v,y;for(g=i,p=i+r;g<p;++g)y=n[g],v={},v[s.axis]=s.parse(Yr(y,c),g),f.push(FE(Yr(y,u),v,o,g));return f}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=Qh(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:g}=this._getSharedOptions(n,r);for(let p=n;p<n+i;p++){const v=this.getParsed(p),y=s||le(v[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),I=this._calculateBarIndexPixels(p,u),_=(v._stacks||{})[a.axis],S={horizontal:c,base:y.base,enableBorderRadius:!_||Qh(v._custom)||o===_._top||o===_._bottom,x:c?y.head:I.center,y:c?I.center:y.head,height:c?I.size:Math.abs(y.size),width:c?Math.abs(y.size):I.size};g&&(S.options=f||this.resolveDataElementOptions(p,e[p].active?"active":r));const O=S.options||e[p].options;rZ(S,O,_,o),oZ(S,O,u.ratio),this.updateElement(e[p],p,S,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(le(u)||isNaN(u))return!0};for(const l of r)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||KF(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=Qh(c);let f=l[n.axis],g=0,p=i?this.applyStack(n,l,i):f,v,y;p!==f&&(g=p-f,p=f),u&&(f=c.barStart,p=c.barEnd-c.barStart,f!==0&&Ui(f)!==Ui(c.barEnd)&&(g=0),g+=f);const I=!le(s)&&!u?s:g;let _=n.getPixelForValue(I);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(g+p):v=_,y=v-_,Math.abs(y)<o){y=nZ(y,n,a)*o,f===a&&(_-=y/2);const S=n.getPixelForDecimal(0),O=n.getPixelForDecimal(1),R=Math.min(S,O),A=Math.max(S,O);_=Math.max(Math.min(_,A),R),v=_+y,i&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(v)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const S=Ui(y)*n.getLineWidthForValue(a)/2;_+=S,y-=S}return{size:y,base:_,head:v,center:v+y/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=Yt(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=r.barThickness==="flex"?tZ(e,n,r,c):QF(e,n,r,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*f+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&i[s].draw(this._ctx)}}bt(Wc,"id","bar"),bt(Wc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),bt(Wc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Uc extends Ni{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,r){const s=super.parsePrimitiveData(e,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,n,i,r){const s=super.parseArrayData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=Yt(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,n,i,r){const s=super.parseObjectData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=Yt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,r),u=o.axis,f=a.axis;for(let g=n;g<n+i;g++){const p=e[g],v=!s&&this.getParsed(g),y={},I=y[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(v[u]),_=y[f]=s?a.getBasePixel():a.getPixelForValue(v[f]);y.skip=isNaN(I)||isNaN(_),c&&(y.options=l||this.resolveDataElementOptions(g,p.active?"active":r),s&&(y.options.radius=0)),this.updateElement(p,g,y,r)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=Yt(i&&i._custom,s),r}}bt(Uc,"id","bubble"),bt(Uc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),bt(Uc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function aZ(t,e,n){let i=1,r=1,s=0,o=0;if(e<Me){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),f=Math.cos(l),g=Math.sin(l),p=(O,R,A)=>il(O,a,l,!0)?1:Math.max(R,R*n,A,A*n),v=(O,R,A)=>il(O,a,l,!0)?-1:Math.min(R,R*n,A,A*n),y=p(0,c,f),I=p(Ge,u,g),_=v(Ee,c,f),S=v(Ee+Ge,u,g);i=(y-_)/2,r=(I-S)/2,s=-(y+_)/2,o=-(I+S)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class xs extends Ni{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(re(i[e])){const{key:l="value"}=this._parsing;s=c=>+Yr(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return Si(this.options.rotation-90)}_getCircumference(){return Si(this.options.circumference)}_getRotationExtents(){let e=Me,n=-Me;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(IG(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:p,offsetX:v,offsetY:y}=aZ(f,u,l),I=(i.width-o)/g,_=(i.height-o)/p,S=Math.max(Math.min(I,_)/2,0),O=gE(this.options.radius,S),R=Math.max(O*l,0),A=(O-R)/this._getVisibleDatasetWeightTotal();this.offsetX=v*O,this.offsetY=y*O,r.total=this.calculateTotal(),this.outerRadius=O-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Me)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,f=(a.top+a.bottom)/2,g=s&&c.animateScale,p=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:y,includeOptions:I}=this._getSharedOptions(n,r);let _=this._getRotation(),S;for(S=0;S<n;++S)_+=this._circumference(S,s);for(S=n;S<n+i;++S){const O=this._circumference(S,s),R=e[S],A={x:u+this.offsetX,y:f+this.offsetY,startAngle:_,endAngle:_+O,circumference:O,outerRadius:v,innerRadius:p};I&&(A.options=y||this.resolveDataElementOptions(S,R.active?"active":r)),_+=O,this.updateElement(R,S,A,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Me*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Ml(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Yt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}bt(xs,"id","doughnut"),bt(xs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),bt(xs,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),bt(xs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Vc extends Ni{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=wE(n,r,o);this._drawStart=a,this._drawCount=l,CE(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,r),g=o.axis,p=a.axis,{spanGaps:v,segment:y}=this.options,I=No(v)?v:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||r==="none",S=n+i,O=e.length;let R=n>0&&this.getParsed(n-1);for(let A=0;A<O;++A){const d=e[A],C=_?d:{};if(A<n||A>=S){C.skip=!0;continue}const N=this.getParsed(A),k=le(N[p]),z=C[g]=o.getPixelForValue(N[g],A),B=C[p]=s||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,N,l):N[p],A);C.skip=isNaN(z)||isNaN(B)||k,C.stop=A>0&&Math.abs(N[g]-R[g])>I,y&&(C.parsed=N,C.raw=c.data[A]),f&&(C.options=u||this.resolveDataElementOptions(A,d.active?"active":r)),_||this.updateElement(d,A,C,r),R=N}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}bt(Vc,"id","line"),bt(Vc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),bt(Vc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ua extends Ni{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Ml(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,n,i,r){return PE.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,f=c.yCenter,g=c.getIndexAngle(0)-.5*Ee;let p=g,v;const y=360/this.countVisibleElements();for(v=0;v<n;++v)p+=this._computeAngle(v,r,y);for(v=n;v<n+i;v++){const I=e[v];let _=p,S=p+this._computeAngle(v,r,y),O=o.getDataVisibility(v)?c.getDistanceFromCenterForValue(this.getParsed(v).r):0;p=S,s&&(l.animateScale&&(O=0),l.animateRotate&&(_=S=g));const R={x:u,y:f,innerRadius:0,outerRadius:O,startAngle:_,endAngle:S,options:this.resolveDataElementOptions(v,I.active?"active":r)};this.updateElement(I,v,R,r)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Si(this.resolveDataElementOptions(e,n).angle||i):0}}bt(Ua,"id","polarArea"),bt(Ua,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),bt(Ua,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class q0 extends xs{}bt(q0,"id","pie"),bt(q0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Yc extends Ni{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return PE.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=s.getPointPositionForValue(a,this.getParsed(a).r),f=o?s.xCenter:u.x,g=o?s.yCenter:u.y,p={x:f,y:g,angle:u.angle,skip:isNaN(f)||isNaN(g),options:c};this.updateElement(l,a,p,r)}}}bt(Yc,"id","radar"),bt(Yc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),bt(Yc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Hc extends Ni{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=wE(n,i,r);if(this._drawStart=s,this._drawCount=o,CE(n)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,r),f=this.getSharedOptions(u),g=this.includeOptions(r,f),p=o.axis,v=a.axis,{spanGaps:y,segment:I}=this.options,_=No(y)?y:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||s||r==="none";let O=n>0&&this.getParsed(n-1);for(let R=n;R<n+i;++R){const A=e[R],d=this.getParsed(R),C=S?A:{},N=le(d[v]),k=C[p]=o.getPixelForValue(d[p],R),z=C[v]=s||N?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,d,l):d[v],R);C.skip=isNaN(k)||isNaN(z)||N,C.stop=R>0&&Math.abs(d[p]-O[p])>_,I&&(C.parsed=d,C.raw=c.data[R]),g&&(C.options=f||this.resolveDataElementOptions(R,A.active?"active":r)),S||this.updateElement(A,R,C,r),O=d}this.updateSharedOptions(f,r,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}bt(Hc,"id","scatter"),bt(Hc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),bt(Hc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var lZ=Object.freeze({__proto__:null,BarController:Wc,BubbleController:Uc,DoughnutController:xs,LineController:Vc,PieController:q0,PolarAreaController:Ua,RadarController:Yc,ScatterController:Hc});function ps(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class mb{constructor(e){bt(this,"options");this.options=e||{}}static override(e){Object.assign(mb.prototype,e)}init(){}formats(){return ps()}parse(){return ps()}format(){return ps()}add(){return ps()}diff(){return ps()}startOf(){return ps()}endOf(){return ps()}}var cZ={_date:mb};function uZ(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?DG:lr;if(i){if(r._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const f=l(s,e,n-u),g=l(s,e,n+u);return{lo:f.lo,hi:g.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Tl(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:f,hi:g}=uZ(s[a],e,o,r);for(let p=f;p<=g;++p){const v=u[p];v.skip||i(v,c,p)}}}function fZ(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function td(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Tl(t,n,e,function(a,l,c){!r&&!cr(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function hZ(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:f}=vE(o,{x:e.x,y:e.y});il(f,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Tl(t,n,e,s),r}function dZ(t,e,n,i,r,s){let o=[];const a=fZ(n);let l=Number.POSITIVE_INFINITY;function c(u,f,g){const p=u.inRange(e.x,e.y,r);if(i&&!p)return;const v=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(v))&&!p)return;const I=a(e,v);I<l?(o=[{element:u,datasetIndex:f,index:g}],l=I):I===l&&o.push({element:u,datasetIndex:f,index:g})}return Tl(t,n,e,c),o}function ed(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?hZ(t,e,n,r):dZ(t,e,n,i,r,s)}function d1(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Tl(t,n,e,(l,c,u)=>{l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var gZ={evaluateInteractionItems:Tl,modes:{index(t,e,n,i){const r=ys(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?td(t,r,s,i,o):ed(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const r=ys(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?td(t,r,s,i,o):ed(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const r=ys(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return td(t,r,s,i,o)},nearest(t,e,n,i){const r=ys(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return ed(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=ys(e,t);return d1(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=ys(e,t);return d1(t,r,"y",n.intersect,i)}}};const ZE=["left","top","right","bottom"];function ga(t,e){return t.filter(n=>n.pos===e)}function g1(t,e){return t.filter(n=>ZE.indexOf(n.pos)===-1&&n.box.axis===e)}function pa(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function pZ(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function mZ(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!ZE.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function vZ(t,e){const n=mZ(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function yZ(t){const e=pZ(t),n=pa(e.filter(c=>c.box.fullSize),!0),i=pa(ga(e,"left"),!0),r=pa(ga(e,"right")),s=pa(ga(e,"top"),!0),o=pa(ga(e,"bottom")),a=g1(e,"x"),l=g1(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:ga(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function p1(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function WE(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function bZ(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!re(r)){n.size&&(t[r]-=n.size);const f=i[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,t[r]+=n.size}s.getPadding&&WE(o,s.getPadding());const a=Math.max(0,e.outerWidth-p1(o,t,"left","right")),l=Math.max(0,e.outerHeight-p1(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function AZ(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function IZ(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function xa(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,IZ(a.horizontal,e));const{same:f,other:g}=bZ(e,n,a,i);c|=f&&r.length,u=u||g,l.fullSize||r.push(a)}return c&&xa(r,e,n,i)||u}function gc(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function m1(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*u,g=c.size||l.height;nl(c.start)&&(o=c.start),l.fullSize?gc(l,r.left,o,n.outerWidth-r.right-r.left,g):gc(l,e.left+c.placed,o,f,g),c.start=o,c.placed+=f,o=l.bottom}else{const f=e.h*u,g=c.size||l.width;nl(c.start)&&(s=c.start),l.fullSize?gc(l,s,r.top,g,n.outerHeight-r.bottom-r.top):gc(l,s,e.top+c.placed,g,f),c.start=s,c.placed+=f,s=l.right}}e.x=s,e.y=o}var vn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=yn(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=yZ(t.boxes),l=a.vertical,c=a.horizontal;ve(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,I)=>I.box.options&&I.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),g=Object.assign({},r);WE(g,yn(i));const p=Object.assign({maxPadding:g,w:s,h:o,x:r.left,y:r.top},r),v=vZ(l.concat(c),f);xa(a.fullSize,p,f,v),xa(l,p,f,v),xa(c,p,f,v)&&xa(l,p,f,v),AZ(p),m1(a.leftAndTop,p,f,v),p.x+=p.w,p.y+=p.h,m1(a.rightAndBottom,p,f,v),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ve(a.chartArea,y=>{const I=y.box;Object.assign(I,t.chartArea),I.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class UE{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class wZ extends UE{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Xc="$chartjs",CZ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},v1=t=>t===null||t==="";function xZ(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Xc]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",v1(r)){const s=Qw(t,"width");s!==void 0&&(t.width=s)}if(v1(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Qw(t,"height");s!==void 0&&(t.height=s)}return t}const VE=SF?{passive:!0}:!1;function _Z(t,e,n){t.addEventListener(e,n,VE)}function SZ(t,e,n){t.canvas.removeEventListener(e,n,VE)}function MZ(t,e){const n=CZ[t.type]||t.type,{x:i,y:r}=ys(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function gu(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function TZ(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||gu(a.addedNodes,i),o=o&&!gu(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function NZ(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||gu(a.removedNodes,i),o=o&&!gu(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const sl=new Map;let y1=0;function YE(){const t=window.devicePixelRatio;t!==y1&&(y1=t,sl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function EZ(t,e){sl.size||window.addEventListener("resize",YE),sl.set(t,e)}function PZ(t){sl.delete(t),sl.size||window.removeEventListener("resize",YE)}function kZ(t,e,n){const i=t.canvas,r=i&&pb(i);if(!r)return;const s=IE((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),EZ(t,s),o}function nd(t,e,n){n&&n.disconnect(),e==="resize"&&PZ(t)}function DZ(t,e,n){const i=t.canvas,r=IE(s=>{t.ctx!==null&&n(MZ(s,t))},t);return _Z(i,e,r),r}class OZ extends UE{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(xZ(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Xc])return!1;const i=n[Xc].initial;["height","width"].forEach(s=>{const o=i[s];le(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Xc],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:TZ,detach:NZ,resize:kZ}[n]||DZ;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:nd,detach:nd,resize:nd}[n]||SZ)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return _F(e,n,i,r)}isAttached(e){const n=pb(e);return!!(n&&n.isConnected)}}function LZ(t){return!DE()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?wZ:OZ}var Rc;let yr=(Rc=class{constructor(){bt(this,"x");bt(this,"y");bt(this,"active",!1);bt(this,"options");bt(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return No(this.x)&&No(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},bt(Rc,"defaults",{}),bt(Rc,"defaultRoutes"),Rc);function RZ(t,e){const n=t.options.ticks,i=zZ(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?jZ(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return GZ(e,c,s,o/r),c;const u=BZ(s,e,r);if(o>0){let f,g;const p=o>1?Math.round((l-a)/(o-1)):null;for(pc(e,c,u,le(p)?0:a-p,a),f=0,g=o-1;f<g;f++)pc(e,c,u,s[f],s[f+1]);return pc(e,c,u,l,le(p)?e.length:l+p),c}return pc(e,c,u),c}function zZ(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function BZ(t,e,n){const i=FZ(t),r=e.length/n;if(!i)return Math.max(r,1);const s=NG(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function jZ(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function GZ(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function pc(t,e,n,i,r){const s=Yt(i,0),o=Math.min(Yt(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function FZ(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const ZZ=t=>t==="left"?"right":t==="right"?"left":t,b1=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,A1=(t,e)=>Math.min(e||t,t);function I1(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function WZ(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function UZ(t,e){ve(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function ma(t){return t.drawTicks?t.tickLength:0}function w1(t,e){if(!t.display)return 0;const n=tn(t.font,e),i=yn(t.padding);return(Se(t.text)?t.text.length:1)*n.lineHeight+i.height}function VZ(t,e){return Jr(t,{scale:e,type:"scale"})}function YZ(t,e,n){return Jr(t,{tick:n,index:e,type:"tick"})}function HZ(t,e,n){let i=cb(t);return(n&&e!=="right"||!n&&e==="right")&&(i=ZZ(i)),i}function XZ(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let f=0,g,p,v;const y=o-r,I=a-s;if(t.isHorizontal()){if(p=gn(i,s,a),re(n)){const _=Object.keys(n)[0],S=n[_];v=u[_].getPixelForValue(S)+y-e}else n==="center"?v=(c.bottom+c.top)/2+y-e:v=b1(t,n,e);g=a-s}else{if(re(n)){const _=Object.keys(n)[0],S=n[_];p=u[_].getPixelForValue(S)-I+e}else n==="center"?p=(c.left+c.right)/2-I+e:p=b1(t,n,e);v=gn(i,o,r),f=n==="left"?-Ge:Ge}return{titleX:p,titleY:v,maxWidth:g,rotation:f}}class Vs extends yr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=$n(e,Number.POSITIVE_INFINITY),n=$n(n,Number.NEGATIVE_INFINITY),i=$n(i,Number.POSITIVE_INFINITY),r=$n(r,Number.NEGATIVE_INFINITY),{min:$n(e,i),max:$n(n,r),minDefined:je(e),maxDefined:je(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:$n(n,$n(i,n)),max:$n(i,$n(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xe(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=iF(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?I1(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=RZ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xe(this.options.afterUpdate,[this])}beforeSetDimensions(){xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=xe(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=A1(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),f=u.widest.width,g=u.highest.height,p=an(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/i:p/(i-1),f+6>a&&(a=p/(i-(e.offset?.5:1)),l=this.maxHeight-ma(e.grid)-n.padding-w1(e.title,this.chart.options.font),c=Math.sqrt(f*f+g*g),o=ab(Math.min(Math.asin(an((u.highest.height+6)/a,-1,1)),Math.asin(an(l/c,-1,1))-Math.asin(an(g/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=w1(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=ma(s)+l):(e.height=this.maxHeight,e.width=ma(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:g}=this._getLabelSizes(),p=i.padding*2,v=Si(this.labelRotation),y=Math.cos(v),I=Math.sin(v);if(a){const _=i.mirror?0:I*f.width+y*g.height;e.height=Math.min(this.maxHeight,e.height+_+p)}else{const _=i.mirror?0:y*f.width+I*g.height;e.width=Math.min(this.maxWidth,e.width+_+p)}this._calculatePadding(c,u,I,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,p=0;l?c?(g=r*e.width,p=i*n.height):(g=i*e.height,p=r*n.width):s==="start"?p=n.width:s==="end"?g=e.width:s!=="inner"&&(g=e.width/2,p=n.width/2),this.paddingLeft=Math.max((g-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let u=n.height/2,f=e.height/2;s==="start"?(u=0,f=e.height):s==="end"&&(u=n.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)le(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=I1(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/A1(n,i));let c=0,u=0,f,g,p,v,y,I,_,S,O,R,A;for(f=0;f<n;f+=l){if(v=e[f].label,y=this._resolveTickFontOptions(f),r.font=I=y.string,_=s[I]=s[I]||{data:{},gc:[]},S=y.lineHeight,O=R=0,!le(v)&&!Se(v))O=hu(r,_.data,_.gc,O,v),R=S;else if(Se(v))for(g=0,p=v.length;g<p;++g)A=v[g],!le(A)&&!Se(A)&&(O=hu(r,_.data,_.gc,O,A),R+=S);o.push(O),a.push(R),c=Math.max(O,c),u=Math.max(R,u)}UZ(s,n);const d=o.indexOf(c),C=a.indexOf(u),N=k=>({width:o[k]||0,height:a[k]||0});return{first:N(0),last:N(n-1),widest:N(d),highest:N(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return kG(this._alignToPixels?gs(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=YZ(this.getContext(),e,i))}return this.$context||(this.$context=VZ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Si(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),g=ma(s),p=[],v=a.setContext(this.getContext()),y=v.display?v.width:0,I=y/2,_=function(ut){return gs(i,ut,y)};let S,O,R,A,d,C,N,k,z,B,U,X;if(o==="top")S=_(this.bottom),C=this.bottom-g,k=S-I,B=_(e.top)+I,X=e.bottom;else if(o==="bottom")S=_(this.top),B=e.top,X=_(e.bottom)-I,C=S+I,k=this.top+g;else if(o==="left")S=_(this.right),d=this.right-g,N=S-I,z=_(e.left)+I,U=e.right;else if(o==="right")S=_(this.left),z=e.left,U=_(e.right)-I,d=S+I,N=this.left+g;else if(n==="x"){if(o==="center")S=_((e.top+e.bottom)/2+.5);else if(re(o)){const ut=Object.keys(o)[0],dt=o[ut];S=_(this.chart.scales[ut].getPixelForValue(dt))}B=e.top,X=e.bottom,C=S+I,k=C+g}else if(n==="y"){if(o==="center")S=_((e.left+e.right)/2);else if(re(o)){const ut=Object.keys(o)[0],dt=o[ut];S=_(this.chart.scales[ut].getPixelForValue(dt))}d=S-I,N=d-g,z=e.left,U=e.right}const K=Yt(r.ticks.maxTicksLimit,f),st=Math.max(1,Math.ceil(f/K));for(O=0;O<f;O+=st){const ut=this.getContext(O),dt=s.setContext(ut),wt=a.setContext(ut),mt=dt.lineWidth,Pt=dt.color,Ct=wt.dash||[],J=wt.dashOffset,Q=dt.tickWidth,tt=dt.tickColor,nt=dt.tickBorderDash||[],Gt=dt.tickBorderDashOffset;R=WZ(this,O,l),R!==void 0&&(A=gs(i,R,mt),c?d=N=z=U=A:C=k=B=X=A,p.push({tx1:d,ty1:C,tx2:N,ty2:k,x1:z,y1:B,x2:U,y2:X,width:mt,color:Pt,borderDash:Ct,borderDashOffset:J,tickWidth:Q,tickColor:tt,tickBorderDash:nt,tickBorderDashOffset:Gt}))}return this._ticksLength=f,this._borderValue=S,p}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=s,g=ma(i.grid),p=g+u,v=f?-u:p,y=-Si(this.labelRotation),I=[];let _,S,O,R,A,d,C,N,k,z,B,U,X="middle";if(r==="top")d=this.bottom-v,C=this._getXAxisLabelAlignment();else if(r==="bottom")d=this.top+v,C=this._getXAxisLabelAlignment();else if(r==="left"){const st=this._getYAxisLabelAlignment(g);C=st.textAlign,A=st.x}else if(r==="right"){const st=this._getYAxisLabelAlignment(g);C=st.textAlign,A=st.x}else if(n==="x"){if(r==="center")d=(e.top+e.bottom)/2+p;else if(re(r)){const st=Object.keys(r)[0],ut=r[st];d=this.chart.scales[st].getPixelForValue(ut)+p}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")A=(e.left+e.right)/2-p;else if(re(r)){const st=Object.keys(r)[0],ut=r[st];A=this.chart.scales[st].getPixelForValue(ut)}C=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(l==="start"?X="top":l==="end"&&(X="bottom"));const K=this._getLabelSizes();for(_=0,S=a.length;_<S;++_){O=a[_],R=O.label;const st=s.setContext(this.getContext(_));N=this.getPixelForTick(_)+s.labelOffset,k=this._resolveTickFontOptions(_),z=k.lineHeight,B=Se(R)?R.length:1;const ut=B/2,dt=st.color,wt=st.textStrokeColor,mt=st.textStrokeWidth;let Pt=C;o?(A=N,C==="inner"&&(_===S-1?Pt=this.options.reverse?"left":"right":_===0?Pt=this.options.reverse?"right":"left":Pt="center"),r==="top"?c==="near"||y!==0?U=-B*z+z/2:c==="center"?U=-K.highest.height/2-ut*z+z:U=-K.highest.height+z/2:c==="near"||y!==0?U=z/2:c==="center"?U=K.highest.height/2-ut*z:U=K.highest.height-B*z,f&&(U*=-1),y!==0&&!st.showLabelBackdrop&&(A+=z/2*Math.sin(y))):(d=N,U=(1-B)*z/2);let Ct;if(st.showLabelBackdrop){const J=yn(st.backdropPadding),Q=K.heights[_],tt=K.widths[_];let nt=U-J.top,Gt=0-J.left;switch(X){case"middle":nt-=Q/2;break;case"bottom":nt-=Q;break}switch(C){case"center":Gt-=tt/2;break;case"right":Gt-=tt;break}Ct={left:Gt,top:nt,width:tt+J.width,height:Q+J.height,color:st.backdropColor}}I.push({label:R,font:k,textOffset:U,options:{rotation:y,color:dt,strokeColor:wt,strokeWidth:mt,textAlign:Pt,textBaseline:X,translation:[A,d],backdrop:Ct}})}return I}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Si(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,g;this.isHorizontal()?(c=gs(e,this.left,o)-o/2,u=gs(e,this.right,a)+a/2,f=g=l):(f=gs(e,this.top,o)-o/2,g=gs(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,f),n.lineTo(u,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&cf(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Fs(i,c,0,u,l,a)}r&&uf(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=tn(i.font),o=yn(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||re(n)?(l+=o.bottom,Se(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:f,rotation:g}=XZ(this,l,n,a);Fs(e,i.text,0,0,s,{color:i.color,maxWidth:f,rotation:g,textAlign:HZ(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Yt(e.grid&&e.grid.z,-1),r=Yt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Vs.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return tn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class mc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;JZ(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,$Z(e,o,i),this.override&&Fe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Fe[r]&&(delete Fe[r][i],this.override&&delete Gs[i])}}function $Z(t,e,n){const i=el(Object.create(null),[n?Fe.get(n):{},Fe.get(e),t.defaults]);Fe.set(e,i),t.defaultRoutes&&qZ(e,t.defaultRoutes),t.descriptors&&Fe.describe(e,t.descriptors)}function qZ(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Fe.route(s,r,l,a)})}function JZ(t){return"id"in t&&"defaults"in t}class KZ{constructor(){this.controllers=new mc(Ni,"datasets",!0),this.elements=new mc(yr,"elements"),this.plugins=new mc(Object,"plugins"),this.scales=new mc(Vs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ve(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=ob(e);xe(i["before"+r],[],i),n[e](i),xe(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var ji=new KZ;class QZ{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(xe(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=Yt(i.options&&i.options.plugins,{}),s=t4(i);return r===!1&&!n?[]:n4(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function t4(t){const e={},n=[],i=Object.keys(ji.plugins.items);for(let s=0;s<i.length;s++)n.push(ji.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function e4(t,e){return!e&&t===!1?null:t===!0?{}:t}function n4(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=e4(i[l],r);c!==null&&s.push({plugin:a,options:i4(t.config,{plugin:a,local:n[l]},c,o)})}return s}function i4(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function J0(t,e){const n=Fe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function r4(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function s4(t,e){return t===e?"_index_":"_value_"}function C1(t){if(t==="x"||t==="y"||t==="r")return t}function o4(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function K0(t,...e){if(C1(t))return t;for(const n of e){const i=n.axis||o4(n.position)||t.length>1&&C1(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function x1(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function a4(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return x1(t,"x",n[0])||x1(t,"y",n[0])}return{}}function l4(t,e){const n=Gs[t.type]||{scales:{}},i=e.scales||{},r=J0(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!re(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=K0(o,a,a4(o,t),Fe.scales[a.type]),c=s4(l,r),u=n.scales||{};s[o]=Ga(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||J0(a,e),u=(Gs[a]||{}).scales||{};Object.keys(u).forEach(f=>{const g=r4(f,l),p=o[g+"AxisID"]||g;s[p]=s[p]||Object.create(null),Ga(s[p],[{axis:g},i[p],u[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];Ga(a,[Fe.scales[a.type],Fe.scale])}),s}function HE(t){const e=t.options||(t.options={});e.plugins=Yt(e.plugins,{}),e.scales=l4(t,e)}function XE(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function c4(t){return t=t||{},t.data=XE(t.data),HE(t),t}const _1=new Map,$E=new Set;function vc(t,e){let n=_1.get(t);return n||(n=e(),_1.set(t,n),$E.add(n)),n}const va=(t,e,n)=>{const i=Yr(e,n);i!==void 0&&t.add(i)};class u4{constructor(e){this._config=c4(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=XE(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),HE(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return vc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return vc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return vc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(f=>va(l,e,f))),u.forEach(f=>va(l,r,f)),u.forEach(f=>va(l,Gs[s]||{},f)),u.forEach(f=>va(l,Fe,f)),u.forEach(f=>va(l,X0,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),$E.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Gs[n]||{},Fe.datasets[n]||{},{type:n},Fe,X0]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=S1(this._resolverCache,e,r);let l=o;if(h4(o,n)){s.$shared=!1,i=Hr(i)?i():i;const c=this.createResolver(e,i,a);l=Eo(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=S1(this._resolverCache,e,i);return re(n)?Eo(s,n,void 0,r):s}}function S1(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:hb(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const f4=t=>re(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||Hr(t[n]),!1);function h4(t,e){const{isScriptable:n,isIndexable:i}=ME(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Hr(a)||f4(a))||o&&Se(a))return!0}return!1}var d4="4.3.3";const g4=["top","bottom","left","right","chartArea"];function M1(t,e){return t==="top"||t==="bottom"||g4.indexOf(t)===-1&&e==="x"}function T1(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function N1(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),xe(n&&n.onComplete,[t],e)}function p4(t){const e=t.chart,n=e.options.animation;xe(n&&n.onProgress,[t],e)}function qE(t){return DE()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const $c={},E1=t=>{const e=qE(t);return Object.values($c).filter(n=>n.canvas===e).pop()};function m4(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function v4(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function y4(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}class sr{static register(...e){ji.add(...e),P1()}static unregister(...e){ji.remove(...e),P1()}constructor(e,n){const i=this.config=new u4(n),r=qE(e),s=E1(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||LZ(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=AG(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new QZ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=RG(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],$c[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}er.listen(this,"complete",N1),er.listen(this,"progress",p4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return le(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ji}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Kw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $w(this.canvas,this.ctx),this}stop(){return er.stop(this),this}resize(e,n){er.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Kw(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),xe(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ve(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=K0(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ve(s,o=>{const a=o.options,l=a.id,c=K0(l,a),u=Yt(a.type,o.dtype);(a.position===void 0||M1(a.position,c)!==M1(o.dposition))&&(a.position=o.dposition),r[l]=!0;let f=null;if(l in i&&i[l].type===u)f=i[l];else{const g=ji.getScale(u);f=new g({id:l,type:u,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(a,e)}),ve(r,(o,a)=>{o||delete i[a]}),ve(i,o=>{vn.configure(this,o,o.options),vn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(T1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||J0(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=ji.getController(a),{datasetElementType:c,dataElementType:u}=Fe.datasets[a];Object.assign(l,{dataElementType:ji.getElement(u),datasetElementType:c&&ji.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ve(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),g=!r&&s.indexOf(f)===-1;f.buildOrUpdateElements(g),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||ve(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(T1("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ve(this.scales,e=>{vn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Gw(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;m4(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!Gw(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ve(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Hr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(er.has(this)?this.attached&&!er.running(this)&&er.start(this):(this.draw(),N1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=y4(e)||this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&cf(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&uf(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return cr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=gZ.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Jr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);nl(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),er.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),$w(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete $c[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ve(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ve(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ve(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!cu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=SG(e),c=v4(e,this._lastEvent,i,l);i&&(this._lastEvent=null,xe(s.onHover,[e,a,this],this),l&&xe(s.onClick,[e,a,this],this));const u=!cu(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}bt(sr,"defaults",Fe),bt(sr,"instances",$c),bt(sr,"overrides",Gs),bt(sr,"registry",ji),bt(sr,"version",d4),bt(sr,"getChart",E1);function P1(){return ve(sr.instances,t=>t._plugins.invalidate())}function b4(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Ge,i-Ge),t.closePath(),t.clip()}function A4(t){return fb(t,["outerStart","outerEnd","innerStart","innerEnd"])}function I4(t,e,n,i){const r=A4(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return an(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:an(r.innerStart,0,o),innerEnd:an(r.innerEnd,0,o)}}function ao(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function pu(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,f=Math.max(e.outerRadius+i+n-c,0),g=u>0?u+i+n+c:0;let p=0;const v=r-l;if(i){const st=u>0?u-i:0,ut=f>0?f-i:0,dt=(st+ut)/2,wt=dt!==0?v*dt/(dt+i):v;p=(v-wt)/2}const y=Math.max(.001,v*f-n/Ee)/f,I=(v-y)/2,_=l+I+p,S=r-I-p,{outerStart:O,outerEnd:R,innerStart:A,innerEnd:d}=I4(e,g,f,S-_),C=f-O,N=f-R,k=_+O/C,z=S-R/N,B=g+A,U=g+d,X=_+A/B,K=S-d/U;if(t.beginPath(),s){const st=(k+z)/2;if(t.arc(o,a,f,k,st),t.arc(o,a,f,st,z),R>0){const mt=ao(N,z,o,a);t.arc(mt.x,mt.y,R,z,S+Ge)}const ut=ao(U,S,o,a);if(t.lineTo(ut.x,ut.y),d>0){const mt=ao(U,K,o,a);t.arc(mt.x,mt.y,d,S+Ge,K+Math.PI)}const dt=(S-d/g+(_+A/g))/2;if(t.arc(o,a,g,S-d/g,dt,!0),t.arc(o,a,g,dt,_+A/g,!0),A>0){const mt=ao(B,X,o,a);t.arc(mt.x,mt.y,A,X+Math.PI,_-Ge)}const wt=ao(C,_,o,a);if(t.lineTo(wt.x,wt.y),O>0){const mt=ao(C,k,o,a);t.arc(mt.x,mt.y,O,_-Ge,k)}}else{t.moveTo(o,a);const st=Math.cos(k)*f+o,ut=Math.sin(k)*f+a;t.lineTo(st,ut);const dt=Math.cos(z)*f+o,wt=Math.sin(z)*f+a;t.lineTo(dt,wt)}t.closePath()}function w4(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){pu(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Me||Me))}return pu(t,e,n,i,l,r),t.fill(),l}function C4(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:f,borderDashOffset:g}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(f||[]),t.lineDashOffset=g,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let v=e.endAngle;if(s){pu(t,e,n,i,v,r);for(let y=0;y<s;++y)t.stroke();isNaN(a)||(v=o+(a%Me||Me))}p&&b4(t,e,v),s||(pu(t,e,n,i,v,r),t.stroke())}class _a extends yr{constructor(n){super();bt(this,"circumference");bt(this,"endAngle");bt(this,"fullCircles");bt(this,"innerRadius");bt(this,"outerRadius");bt(this,"pixelMargin");bt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=vE(s,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:f,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,y=Yt(g,c-l)>=Me||il(o,l,c),I=ar(a,u+p,f+p);return y&&I}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,f=(s+o)/2,g=(a+l+u+c)/2;return{x:i+Math.cos(f)*g,y:r+Math.sin(f)*g}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Me?Math.floor(r/Me):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Ee,r||0)),u=s*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,w4(n,this,u,o,a),C4(n,this,u,o,a),n.restore()}}bt(_a,"id","arc"),bt(_a,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),bt(_a,"defaultRoutes",{backgroundColor:"backgroundColor"}),bt(_a,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function JE(t,e,n=e){t.lineCap=Yt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Yt(n.borderDash,e.borderDash)),t.lineDashOffset=Yt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Yt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Yt(n.borderWidth,e.borderWidth),t.strokeStyle=Yt(n.borderColor,e.borderColor)}function x4(t,e,n){t.lineTo(n.x,n.y)}function _4(t){return t.stepped?XG:t.tension||t.cubicInterpolationMode==="monotone"?$G:x4}function KE(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function S4(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=KE(r,n,i),u=_4(s);let{move:f=!0,reverse:g}=i||{},p,v,y;for(p=0;p<=c;++p)v=r[(a+(g?c-p:p))%o],!v.skip&&(f?(t.moveTo(v.x,v.y),f=!1):u(t,y,v,g,s.stepped),y=v);return l&&(v=r[(a+(g?c:0))%o],u(t,y,v,g,s.stepped)),!!l}function M4(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=KE(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,f=0,g,p,v,y,I,_;const S=R=>(o+(c?a-R:R))%s,O=()=>{y!==I&&(t.lineTo(u,I),t.lineTo(u,y),t.lineTo(u,_))};for(l&&(p=r[S(0)],t.moveTo(p.x,p.y)),g=0;g<=a;++g){if(p=r[S(g)],p.skip)continue;const R=p.x,A=p.y,d=R|0;d===v?(A<y?y=A:A>I&&(I=A),u=(f*u+R)/++f):(O(),t.lineTo(R,A),v=d,f=0,y=I=A),_=A}O()}function Q0(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?M4:S4}function T4(t){return t.stepped?MF:t.tension||t.cubicInterpolationMode==="monotone"?TF:bs}function N4(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),JE(t,e.options),t.stroke(r)}function E4(t,e,n,i){const{segments:r,options:s}=e,o=Q0(e);for(const a of r)JE(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const P4=typeof Path2D=="function";function k4(t,e,n,i){P4&&!e.options.segment?N4(t,e,n,i):E4(t,e,n,i)}class zr extends yr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;bF(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=OF(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=BE(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=T4(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:f,end:g}=o[c],p=s[f],v=s[g];if(p===v){a.push(p);continue}const y=Math.abs((r-p[n])/(v[n]-p[n])),I=l(p,v,y,i.stepped);I[n]=e[n],a.push(I)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Q0(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Q0(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),k4(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}bt(zr,"id","line"),bt(zr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),bt(zr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),bt(zr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function k1(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class qc extends yr{constructor(n){super();bt(this,"parsed");bt(this,"skip");bt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return k1(this,n,"x",i)}inYRange(n,i){return k1(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!cr(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,$0(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}bt(qc,"id","point"),bt(qc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),bt(qc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function QE(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,f;return t.horizontal?(f=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-f,u=i+f):(f=s/2,a=n-f,l=n+f,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Br(t,e,n,i){return t?0:an(e,n,i)}function D4(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=SE(i);return{t:Br(r.top,s.top,0,n),r:Br(r.right,s.right,0,e),b:Br(r.bottom,s.bottom,0,n),l:Br(r.left,s.left,0,e)}}function O4(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Os(r),o=Math.min(e,n),a=t.borderSkipped,l=i||re(r);return{topLeft:Br(!l||a.top||a.left,s.topLeft,0,o),topRight:Br(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Br(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Br(!l||a.bottom||a.right,s.bottomRight,0,o)}}function L4(t){const e=QE(t),n=e.right-e.left,i=e.bottom-e.top,r=D4(t,n/2,i/2),s=O4(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function id(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&QE(t,i);return a&&(r||ar(e,a.left,a.right))&&(s||ar(n,a.top,a.bottom))}function R4(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function z4(t,e){t.rect(e.x,e.y,e.w,e.h)}function rd(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Jc extends yr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=L4(this),a=R4(o.radius)?rl:z4;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,rd(o,n,s)),e.clip(),a(e,rd(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,rd(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return id(this,e,n,i)}inXRange(e,n){return id(this,e,null,n)}inYRange(e,n){return id(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}bt(Jc,"id","bar"),bt(Jc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),bt(Jc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var B4=Object.freeze({__proto__:null,ArcElement:_a,BarElement:Jc,LineElement:zr,PointElement:qc});const ty=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],D1=ty.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function tP(t){return ty[t%ty.length]}function eP(t){return D1[t%D1.length]}function j4(t,e){return t.borderColor=tP(e),t.backgroundColor=eP(e),++e}function G4(t,e){return t.backgroundColor=t.data.map(()=>tP(e++)),e}function F4(t,e){return t.backgroundColor=t.data.map(()=>eP(e++)),e}function Z4(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof xs?e=G4(n,e):r instanceof Ua?e=F4(n,e):r&&(e=j4(n,e))}}function O1(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function W4(t){return t&&(t.borderColor||t.backgroundColor)}var U4={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:s}=r;if(!n.forceOverride&&(O1(i)||W4(r)||s&&O1(s)))return;const o=Z4(t);i.forEach(o)}};function V4(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,f,g,p,v,y;for(o[l++]=t[u],f=0;f<s-2;f++){let I=0,_=0,S;const O=Math.floor((f+1)*a)+1+e,R=Math.min(Math.floor((f+2)*a)+1,n)+e,A=R-O;for(S=O;S<R;S++)I+=t[S].x,_+=t[S].y;I/=A,_/=A;const d=Math.floor(f*a)+1+e,C=Math.min(Math.floor((f+1)*a)+1,n)+e,{x:N,y:k}=t[u];for(p=v=-1,S=d;S<C;S++)v=.5*Math.abs((N-I)*(t[S].y-k)-(N-t[S].x)*(_-k)),v>p&&(p=v,g=t[S],y=S);o[l++]=g,u=y}return o[l++]=t[c],o}function Y4(t,e,n,i){let r=0,s=0,o,a,l,c,u,f,g,p,v,y;const I=[],_=e+n-1,S=t[e].x,R=t[_].x-S;for(o=e;o<e+n;++o){a=t[o],l=(a.x-S)/R*i,c=a.y;const A=l|0;if(A===u)c<v?(v=c,f=o):c>y&&(y=c,g=o),r=(s*r+a.x)/++s;else{const d=o-1;if(!le(f)&&!le(g)){const C=Math.min(f,g),N=Math.max(f,g);C!==p&&C!==d&&I.push({...t[C],x:r}),N!==p&&N!==d&&I.push({...t[N],x:r})}o>0&&d!==p&&I.push(t[d]),I.push(a),u=A,s=0,v=y=c,f=g=p=o}}return I}function nP(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function L1(t){t.data.datasets.forEach(e=>{nP(e)})}function H4(t,e){const n=e.length;let i=0,r;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=an(lr(e,s.axis,o).lo,0,n-1)),c?r=an(lr(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var X4={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){L1(t);return}const i=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),c=o||r.data;if(Ca([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:f,count:g}=H4(l,c);const p=n.threshold||4*i;if(g<=p){nP(r);return}le(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let v;switch(n.algorithm){case"lttb":v=V4(c,f,g,i,n);break;case"min-max":v=Y4(c,f,g,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=v})},destroy(t){L1(t)}};function $4(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=vb(l,c,r);const u=ey(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const f=BE(e,u);for(const g of f){const p=ey(n,s[g.start],s[g.end],g.loop),v=zE(a,r,p);for(const y of v)o.push({source:y,target:g,start:{[n]:R1(u,p,"start",Math.max)},end:{[n]:R1(u,p,"end",Math.min)}})}}return o}function ey(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=Jn(r),s=Jn(s)),{property:t,start:r,end:s}}function q4(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=vb(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function vb(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function R1(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function iP(t,e){let n=[],i=!1;return Se(t)?(i=!0,n=t):n=q4(t,e),n.length?new zr({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function z1(t){return t&&t.fill!==!1}function J4(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!je(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function K4(t,e,n){const i=nW(t);if(re(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return je(r)&&Math.floor(r)===r?Q4(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Q4(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function tW(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:re(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function eW(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:re(t)?i=t.value:i=e.getBaseValue(),i}function nW(t){const e=t.options,n=e.fill;let i=Yt(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function iW(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=rW(e,n);a.push(iP({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)sW(r,o[u],a)}return new zr({points:r,options:{}})}function rW(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function sW(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=oW(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function oW(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],f=o[u.start][n],g=o[u.end][n];if(ar(r,f,g)){a=r===f,l=r===g;break}}return{first:a,last:l,point:i}}class rP{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:Me},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function aW(t){const{chart:e,fill:n,line:i}=t;if(je(n))return lW(e,n);if(n==="stack")return iW(t);if(n==="shape")return!0;const r=cW(t);return r instanceof rP?r:iP(r,i)}function lW(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function cW(t){return(t.scale||{}).getPointPositionForValue?fW(t):uW(t)}function uW(t){const{scale:e={},fill:n}=t,i=tW(n,e);if(je(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function fW(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=eW(n,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new rP({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function sd(t,e,n){const i=aW(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:f=c}=l||{};i&&r.points.length&&(cf(t,n),hW(t,{line:r,target:i,above:u,below:f,area:n,scale:s,axis:o}),uf(t))}function hW(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(B1(t,i,o.top),j1(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),B1(t,i,o.bottom)),j1(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function B1(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],f=r[vb(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function j1(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=$4(n,i,r);for(const{source:l,target:c,start:u,end:f}of a){const{style:{backgroundColor:g=s}={}}=l,p=i!==!0;t.save(),t.fillStyle=g,dW(t,o,p&&ey(r,u,f)),t.beginPath();const v=!!n.pathSegment(t,l);let y;if(p){v?t.closePath():G1(t,i,f,r);const I=!!i.pathSegment(t,c,{move:v,reverse:!0});y=v&&I,y||G1(t,i,u,r)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function dW(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function G1(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var gW={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof zr&&(l={visible:t.isDatasetVisible(o),index:o,fill:K4(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=J4(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&sd(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;z1(s)&&sd(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!z1(i)||n.drawTime!=="beforeDatasetDraw"||sd(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const F1=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},pW=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Z1 extends yr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=xe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=tn(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=F1(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let f=e;s.textAlign="left",s.textBaseline="middle";let g=-1,p=-u;return this.legendItems.forEach((v,y)=>{const I=i+n/2+s.measureText(v.text).width;(y===0||c[c.length-1]+I+2*a>o)&&(f+=u,c[c.length-(y>0?0:1)]=0,p+=u,g++),l[y]={left:0,top:p,row:g,width:I,height:r},c[c.length-1]+=I+a}),f}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let f=a,g=0,p=0,v=0,y=0;return this.legendItems.forEach((I,_)=>{const{itemWidth:S,itemHeight:O}=mW(i,n,s,I,r);_>0&&p+O+2*a>u&&(f+=g+a,c.push({width:g,height:p}),v+=g+a,y++,g=p=0),l[_]={left:v,top:p,col:y,width:S,height:O},g=Math.max(g,S),p+=O+a}),f+=g,c.push({width:g,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=yo(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=gn(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=gn(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=gn(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=gn(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;cf(e,this),this._draw(),uf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=Fe.color,l=yo(e.rtl,this.left,this.width),c=tn(o.font),{padding:u}=o,f=c.size,g=f/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:v,boxHeight:y,itemHeight:I}=F1(o,f),_=function(d,C,N){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;r.save();const k=Yt(N.lineWidth,1);if(r.fillStyle=Yt(N.fillStyle,a),r.lineCap=Yt(N.lineCap,"butt"),r.lineDashOffset=Yt(N.lineDashOffset,0),r.lineJoin=Yt(N.lineJoin,"miter"),r.lineWidth=k,r.strokeStyle=Yt(N.strokeStyle,a),r.setLineDash(Yt(N.lineDash,[])),o.usePointStyle){const z={radius:y*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:k},B=l.xPlus(d,v/2),U=C+g;_E(r,z,B,U,o.pointStyleWidth&&v)}else{const z=C+Math.max((f-y)/2,0),B=l.leftForLtr(d,v),U=Os(N.borderRadius);r.beginPath(),Object.values(U).some(X=>X!==0)?rl(r,{x:B,y:z,w:v,h:y,radius:U}):r.rect(B,z,v,y),r.fill(),k!==0&&r.stroke()}r.restore()},S=function(d,C,N){Fs(r,N.text,d,C+I/2,c,{strikethrough:N.hidden,textAlign:l.textAlign(N.textAlign)})},O=this.isHorizontal(),R=this._computeTitleHeight();O?p={x:gn(s,this.left+u,this.right-i[0]),y:this.top+u+R,line:0}:p={x:this.left+u,y:gn(s,this.top+R+u,this.bottom-n[0].height),line:0},OE(this.ctx,e.textDirection);const A=I+u;this.legendItems.forEach((d,C)=>{r.strokeStyle=d.fontColor,r.fillStyle=d.fontColor;const N=r.measureText(d.text).width,k=l.textAlign(d.textAlign||(d.textAlign=o.textAlign)),z=v+g+N;let B=p.x,U=p.y;l.setWidth(this.width),O?C>0&&B+z+u>this.right&&(U=p.y+=A,p.line++,B=p.x=gn(s,this.left+u,this.right-i[p.line])):C>0&&U+A>this.bottom&&(B=p.x=B+n[p.line].width+u,p.line++,U=p.y=gn(s,this.top+R+u,this.bottom-n[p.line].height));const X=l.x(B);if(_(X,U,d),B=zG(k,B+v+g,O?B+z:this.right,e.rtl),S(l.x(B),U,d),O)p.x+=z+u;else if(typeof d.text!="string"){const K=c.lineHeight;p.y+=sP(d,K)+u}else p.y+=A}),LE(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=tn(n.font),r=yn(n.padding);if(!n.display)return;const s=yo(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,f=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),u=this.top+c,f=gn(e.align,f,this.right-g);else{const v=this.columnSizes.reduce((y,I)=>Math.max(y,I.height),0);u=c+gn(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const p=gn(a,f,f+g);o.textAlign=s.textAlign(cb(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Fs(o,n.text,p,u,i)}_computeTitleHeight(){const e=this.options.title,n=tn(e.font),i=yn(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(ar(e,this.left,this.right)&&ar(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ar(e,r.left,r.left+r.width)&&ar(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!bW(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=pW(r,i);r&&!s&&xe(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&xe(n.onHover,[e,i,this],this)}else i&&xe(n.onClick,[e,i,this],this)}}function mW(t,e,n,i,r){const s=vW(i,t,e,n),o=yW(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function vW(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function yW(t,e,n){let i=t;return typeof e.text!="string"&&(i=sP(e,n)),i}function sP(t,e){const n=t.text?t.text.length:0;return e*n}function bW(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var AW={id:"legend",_element:Z1,start(t,e,n){const i=t.legend=new Z1({ctx:t.ctx,options:n,chart:t});vn.configure(t,i,n),vn.addBox(t,i)},stop(t){vn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;vn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=yn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class yb extends yr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Se(i.text)?i.text.length:1;this._padding=yn(i.padding);const s=r*tn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,f;return this.isHorizontal()?(u=gn(a,i,s),f=n+e,c=s-i):(o.position==="left"?(u=i+e,f=gn(a,r,n),l=Ee*-.5):(u=s-e,f=gn(a,n,r),l=Ee*.5),c=r-n),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=tn(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Fs(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:cb(n.align),textBaseline:"middle",translation:[o,a]})}}function IW(t,e){const n=new yb({ctx:t.ctx,options:e,chart:t});vn.configure(t,n,e),vn.addBox(t,n),t.titleBlock=n}var wW={id:"title",_element:yb,start(t,e,n){IW(t,n)},stop(t){const e=t.titleBlock;vn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;vn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yc=new WeakMap;var CW={id:"subtitle",start(t,e,n){const i=new yb({ctx:t.ctx,options:n,chart:t});vn.configure(t,i,n),vn.addBox(t,i),yc.set(t,i)},stop(t){vn.removeBox(t,yc.get(t)),yc.delete(t)},beforeUpdate(t,e,n){const i=yc.get(t);vn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sa={average(t){if(!t.length)return!1;let e,n,i=0,r=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=H0(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Bi(t,e){return e&&(Se(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function nr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function xW(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function W1(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=tn(e.bodyFont),c=tn(e.titleFont),u=tn(e.footerFont),f=s.length,g=r.length,p=i.length,v=yn(e.padding);let y=v.height,I=0,_=i.reduce((R,A)=>R+A.before.length+A.lines.length+A.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,f&&(y+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),_){const R=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=p*R+(_-p)*l.lineHeight+(_-1)*e.bodySpacing}g&&(y+=e.footerMarginTop+g*u.lineHeight+(g-1)*e.footerSpacing);let S=0;const O=function(R){I=Math.max(I,n.measureText(R).width+S)};return n.save(),n.font=c.string,ve(t.title,O),n.font=l.string,ve(t.beforeBody.concat(t.afterBody),O),S=e.displayColors?o+2+e.boxPadding:0,ve(i,R=>{ve(R.before,O),ve(R.lines,O),ve(R.after,O)}),S=0,n.font=u.string,ve(t.footer,O),n.restore(),I+=v.width,{width:I,height:y}}function _W(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function SW(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function MW(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),SW(c,t,e,n)&&(c="center"),c}function U1(t,e,n){const i=n.yAlign||e.yAlign||_W(t,n);return{xAlign:n.xAlign||e.xAlign||MW(t,e,n,i),yAlign:i}}function TW(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function NW(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function V1(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:f,bottomLeft:g,bottomRight:p}=Os(o);let v=TW(e,a);const y=NW(e,l,c);return l==="center"?a==="left"?v+=c:a==="right"&&(v-=c):a==="left"?v-=Math.max(u,g)+r:a==="right"&&(v+=Math.max(f,p)+r),{x:an(v,0,i.width-e.width),y:an(y,0,i.height-e.height)}}function bc(t,e,n){const i=yn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Y1(t){return Bi([],nr(t))}function EW(t,e,n){return Jr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function H1(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const oP={beforeTitle:Qi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Qi,beforeBody:Qi,beforeLabel:Qi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return le(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Qi,afterBody:Qi,beforeFooter:Qi,footer:Qi,afterFooter:Qi};function Ln(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?oP[e].call(n,i):r}class ny extends yr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new jE(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=EW(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Ln(i,"beforeTitle",this,e),s=Ln(i,"title",this,e),o=Ln(i,"afterTitle",this,e);let a=[];return a=Bi(a,nr(r)),a=Bi(a,nr(s)),a=Bi(a,nr(o)),a}getBeforeBody(e,n){return Y1(Ln(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return ve(e,s=>{const o={before:[],lines:[],after:[]},a=H1(i,s);Bi(o.before,nr(Ln(a,"beforeLabel",this,s))),Bi(o.lines,Ln(a,"label",this,s)),Bi(o.after,nr(Ln(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return Y1(Ln(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Ln(i,"beforeFooter",this,e),s=Ln(i,"footer",this,e),o=Ln(i,"afterFooter",this,e);let a=[];return a=Bi(a,nr(r)),a=Bi(a,nr(s)),a=Bi(a,nr(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(xW(this.chart,n[l]));return e.filter&&(a=a.filter((u,f,g)=>e.filter(u,f,g,i))),e.itemSort&&(a=a.sort((u,f)=>e.itemSort(u,f,i))),ve(a,u=>{const f=H1(e.callbacks,u);r.push(Ln(f,"labelColor",this,u)),s.push(Ln(f,"labelPointStyle",this,u)),o.push(Ln(f,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Sa[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=W1(this,i),c=Object.assign({},a,l),u=U1(this.chart,i,c),f=V1(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=Os(a),{x:g,y:p}=e,{width:v,height:y}=n;let I,_,S,O,R,A;return s==="center"?(R=p+y/2,r==="left"?(I=g,_=I-o,O=R+o,A=R-o):(I=g+v,_=I+o,O=R-o,A=R+o),S=I):(r==="left"?_=g+Math.max(l,u)+o:r==="right"?_=g+v-Math.max(c,f)-o:_=this.caretX,s==="top"?(O=p,R=O-o,I=_-o,S=_+o):(O=p+y,R=O+o,I=_+o,S=_-o),A=O),{x1:I,x2:_,x3:S,y1:O,y2:R,y3:A}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=yo(i.rtl,this.x,this.width);for(e.x=bc(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=tn(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=tn(s.bodyFont),f=bc(this,"left",s),g=r.x(f),p=l<u.lineHeight?(u.lineHeight-l)/2:0,v=n.y+p;if(s.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},I=r.leftForLtr(g,c)+c/2,_=v+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,$0(e,y,I,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,$0(e,y,I,_)}else{e.lineWidth=re(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(g,c),I=r.leftForLtr(r.xPlus(g,1),c-2),_=Os(o.borderRadius);Object.values(_).some(S=>S!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,rl(e,{x:y,y:v,w:c,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),rl(e,{x:I,y:v+1,w:c-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,v,c,l),e.strokeRect(y,v,c,l),e.fillStyle=o.backgroundColor,e.fillRect(I,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,f=tn(i.bodyFont);let g=f.lineHeight,p=0;const v=yo(i.rtl,this.x,this.width),y=function(N){n.fillText(N,v.x(e.x+p),e.y+g/2),e.y+=g+s},I=v.textAlign(o);let _,S,O,R,A,d,C;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=bc(this,I,i),n.fillStyle=i.bodyColor,ve(this.beforeBody,y),p=a&&I!=="right"?o==="center"?c/2+u:c+2+u:0,R=0,d=r.length;R<d;++R){for(_=r[R],S=this.labelTextColors[R],n.fillStyle=S,ve(_.before,y),O=_.lines,a&&O.length&&(this._drawColorBox(n,e,R,v,i),g=Math.max(f.lineHeight,l)),A=0,C=O.length;A<C;++A)y(O[A]),g=f.lineHeight;ve(_.after,y)}p=0,g=f.lineHeight,ve(this.afterBody,y),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=yo(i.rtl,this.x,this.width);for(e.x=bc(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=tn(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:f,topRight:g,bottomLeft:p,bottomRight:v}=Os(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-g,l),n.quadraticCurveTo(a+c,l,a+c,l+g),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+u-v),n.quadraticCurveTo(a+c,l+u,a+c-v,l+u),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Sa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=W1(this,e),l=Object.assign({},o,this._size),c=U1(n,e,l),u=V1(e,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=yn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),OE(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),LE(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!cu(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!cu(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n;const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=Sa[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}bt(ny,"positioners",Sa);var PW={id:"tooltip",_element:ny,positioners:Sa,afterInit(t,e,n){n&&(t.tooltip=new ny({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},kW=Object.freeze({__proto__:null,Colors:U4,Decimation:X4,Filler:gW,Legend:AW,SubTitle:CW,Title:wW,Tooltip:PW});const DW=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function OW(t,e,n,i){const r=t.indexOf(e);if(r===-1)return DW(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const LW=(t,e)=>t===null?null:an(Math.round(t),0,e);function X1(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class iy extends Vs{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(le(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:OW(i,e,Yt(n,e),this._addedLabels),LW(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return X1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}bt(iy,"id","category"),bt(iy,"defaults",{ticks:{callback:X1}});function RW(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:g}=t,p=s||1,v=u-1,{min:y,max:I}=e,_=!le(o),S=!le(a),O=!le(c),R=(I-y)/(f+1);let A=Zw((I-y)/v/p)*p,d,C,N,k;if(A<1e-14&&!_&&!S)return[{value:y},{value:I}];k=Math.ceil(I/A)-Math.floor(y/A),k>v&&(A=Zw(k*A/v/p)*p),le(l)||(d=Math.pow(10,l),A=Math.ceil(A*d)/d),r==="ticks"?(C=Math.floor(y/A)*A,N=Math.ceil(I/A)*A):(C=y,N=I),_&&S&&s&&EG((a-o)/s,A/1e3)?(k=Math.round(Math.min((a-o)/A,u)),A=(a-o)/k,C=o,N=a):O?(C=_?o:C,N=S?a:N,k=c-1,A=(N-C)/k):(k=(N-C)/A,Fa(k,Math.round(k),A/1e3)?k=Math.round(k):k=Math.ceil(k));const z=Math.max(Ww(A),Ww(C));d=Math.pow(10,le(l)?z:l),C=Math.round(C*d)/d,N=Math.round(N*d)/d;let B=0;for(_&&(g&&C!==o?(n.push({value:o}),C<o&&B++,Fa(Math.round((C+B*A)*d)/d,o,$1(o,R,t))&&B++):C<o&&B++);B<k;++B){const U=Math.round((C+B*A)*d)/d;if(S&&U>a)break;n.push({value:U})}return S&&g&&N!==a?n.length&&Fa(n[n.length-1].value,a,$1(a,R,t))?n[n.length-1].value=a:n.push({value:a}):(!S||N===a)&&n.push({value:N}),n}function $1(t,e,{horizontal:n,minRotation:i}){const r=Si(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class mu extends Vs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return le(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Ui(r),c=Ui(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=RW(r,s);return e.bounds==="ticks"&&mE(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Ml(e,this.chart.options.locale,this.options.ticks.format)}}class ry extends mu{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=je(e)?e:0,this.max=je(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Si(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}bt(ry,"id","linear"),bt(ry,"defaults",{ticks:{callback:lf.formatters.numeric}});const ol=t=>Math.floor(Rr(t)),ms=(t,e)=>Math.pow(10,ol(t)+e);function q1(t){return t/Math.pow(10,ol(t))===1}function J1(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function zW(t,e){const n=e-t;let i=ol(n);for(;J1(t,e,i)>10;)i++;for(;J1(t,e,i)<10;)i--;return Math.min(i,ol(t))}function BW(t,{min:e,max:n}){e=$n(t.min,e);const i=[],r=ol(e);let s=zW(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let f=Math.floor((c-u)/Math.pow(10,s)),g=$n(t.min,Math.round((l+u+f*Math.pow(10,s))*o)/o);for(;g<n;)i.push({value:g,major:q1(g),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,o=s>=0?1:o),g=Math.round((l+u+f*Math.pow(10,s))*o)/o;const p=$n(t.max,g);return i.push({value:p,major:q1(p),significand:f}),i}class sy extends Vs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=mu.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return je(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=je(e)?Math.max(0,e):null,this.max=je(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!je(this._userMin)&&(this.min=e===ms(this.min,0)?ms(this.min,-1):ms(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(ms(i,-1)),o(ms(r,1)))),i<=0&&s(ms(r,-1)),r<=0&&o(ms(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=BW(n,this);return e.bounds==="ticks"&&mE(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Ml(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Rr(e),this._valueRange=Rr(this.max)-Rr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Rr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}bt(sy,"id","logarithmic"),bt(sy,"defaults",{ticks:{callback:lf.formatters.logarithmic,major:{enabled:!0}}});function oy(t){const e=t.ticks;if(e.display&&t.display){const n=yn(e.backdropPadding);return Yt(e.font&&e.font.size,Fe.font.size)+n.height}return 0}function jW(t,e,n){return n=Se(n)?n:[n],{w:HG(t,e.string,n),h:n.length*e.lineHeight}}function K1(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function GW(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ee/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+r[l],a),f=tn(c.font),g=jW(t.ctx,f,t._pointLabels[l]);i[l]=g;const p=Jn(t.getIndexAngle(l)+a),v=Math.round(ab(p)),y=K1(v,u.x,g.w,0,180),I=K1(v,u.y,g.h,90,270);FW(n,e,p,y,I)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=UW(t,i,r)}function FW(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function ZW(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(ab(Jn(l.angle+Ge))),u=HW(l.y,a.h,c),f=VW(c),g=YW(l.x,a.w,f);return{visible:!0,x:l.x,y:u,textAlign:f,left:g,top:u,right:g+a.w,bottom:u+a.h}}function WW(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(cr({x:n,y:i},e)||cr({x:n,y:s},e)||cr({x:r,y:i},e)||cr({x:r,y:s},e))}function UW(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:oy(s)/2,additionalAngle:o?Ee/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const f=ZW(t,u,l);i.push(f),a==="auto"&&(f.visible=WW(f,c),f.visible&&(c=f))}return i}function VW(t){return t===0||t===180?"center":t<180?"left":"right"}function YW(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function HW(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function XW(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!le(a)){const l=Os(e.borderRadius),c=yn(e.backdropPadding);t.fillStyle=a;const u=i-c.left,f=r-c.top,g=s-i+c.width,p=o-r+c.height;Object.values(l).some(v=>v!==0)?(t.beginPath(),rl(t,{x:u,y:f,w:g,h:p,radius:l}),t.fill()):t.fillRect(u,f,g,p)}}function $W(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(r));XW(n,o,s);const a=tn(o.font),{x:l,y:c,textAlign:u}=s;Fs(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function aP(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Me);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function qW(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),aP(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function JW(t,e,n){return Jr(t,{label:n,index:e,type:"pointLabel"})}class Ma extends mu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=yn(oy(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=je(e)&&!isNaN(e)?e:0,this.max=je(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/oy(this.options))}generateTickLabels(e){mu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=xe(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?GW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=Me/(this._pointLabels.length||1),i=this.options.startAngle||0;return Jn(e*n+Si(i))}getDistanceFromCenterForValue(e){if(le(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(le(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return JW(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-Ge+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),aP(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&$W(this,o),r.display&&this.ticks.forEach((u,f)=>{if(f!==0){l=this.getDistanceFromCenterForValue(u.value);const g=this.getContext(f),p=r.setContext(g),v=s.setContext(g);qW(this,p,l,o,v)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:g}=u;!g||!f||(e.lineWidth=g,e.strokeStyle=f,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=tn(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const f=yn(c.backdropPadding);e.fillRect(-o/2-f.left,-s-u.size/2-f.top,o+f.width,u.size+f.height)}Fs(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}bt(Ma,"id","radialLinear"),bt(Ma,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:lf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),bt(Ma,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),bt(Ma,"descriptors",{angleLines:{_fallback:"grid"}});const hf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bn=Object.keys(hf);function Q1(t,e){return t-e}function tC(t,e){if(le(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),je(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(No(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function eC(t,e,n,i){const r=Bn.length;for(let s=Bn.indexOf(t);s<r-1;++s){const o=hf[Bn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Bn[s]}return Bn[r-1]}function KW(t,e,n,i,r){for(let s=Bn.length-1;s>=Bn.indexOf(n);s--){const o=Bn[s];if(hf[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Bn[n?Bn.indexOf(n):0]}function QW(t){for(let e=Bn.indexOf(t)+1,n=Bn.length;e<n;++e)if(hf[Bn[e]].common)return Bn[e]}function nC(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=lb(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function t9(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function iC(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:t9(t,i,r,n)}class al extends Vs{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new cZ._date(e.adapters.date);r.init(n),Ga(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:tC(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=je(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=je(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=OG(r,s,o);return this._unit=n.unit||(i.autoSkip?eC(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):KW(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:QW(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),iC(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=an(n,0,o),i=an(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||eC(s.minUnit,n,i,this._getLabelCapacity(n)),a=Yt(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=No(l)||l===!0,u={};let f=n,g,p;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const v=r.ticks.source==="data"&&this.getDataTimestamps();for(g=f,p=0;g<i;g=+e.add(g,a,o),p++)nC(u,g,v);return(g===i||r.bounds==="ticks"||p===1)&&nC(u,g,v),Object.keys(u).sort(Q1).map(y=>+y)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return xe(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],f=c&&a[c],g=i[n],p=c&&f&&g&&g.major;return this._adapter.format(e,r||(p?f:u))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Si(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,iC(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(tC(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return bE(e.sort(Q1))}}bt(al,"id","time"),bt(al,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ac(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=lr(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=lr(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class ay extends al{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ac(n,this.min),this._tableRange=Ac(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ac(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Ac(this._table,i*this._tableRange+this._minPos,!0)}}bt(ay,"id","timeseries"),bt(ay,"defaults",al.defaults);var e9=Object.freeze({__proto__:null,CategoryScale:iy,LinearScale:ry,LogarithmicScale:sy,RadialLinearScale:Ma,TimeScale:al,TimeSeriesScale:ay});const n9=[lZ,B4,kW,e9];sr.register(...n9);const ir={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},i9=Object.keys(ir).map(t=>ir[t]).join(""),od="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",r9=/\s/g,rC=new RegExp(`^(${od}\\*)?([${i9}])(/${od})?([-+]{1,2}${od})?$`,"g");function lP(t){throw new Error(`Invalid calc() expression: ${t}`)}function s9(t,e){const n=rC.exec(t.replace(r9,""));n||lP(t),rC.lastIndex=0;const[,i,r,s,o]=n,{x:a,y:l,width:c,height:u}=e;let f=0;switch(r){case ir.width:{f=c;break}case ir.height:{f=u;break}case ir.x:{f=a;break}case ir.y:{f=l;break}case ir.minimum:{f=Math.min(u,c);break}case ir.maximum:{f=Math.max(u,c);break}case ir.diagonal:{f=Math.sqrt(u*u+c*c);break}}return i&&(f*=parseFloat(i)),s&&(f/=parseFloat(s.slice(1))),o&&(f+=o9(o)),f}function o9(t){if(!t)return 0;const[e]=t;switch(e){case"+":return parseFloat(t.substr(1));case"-":return-parseFloat(t.substr(1))}return parseFloat(t)}function ei(t){return typeof t=="string"&&t.includes("calc")}const cP="calc(",sC=cP.length;function ni(t,e){let n=t,i=0;do{let r=n.indexOf(cP,i);if(r===-1)return n;let s=r+sC,o=1;t:do{switch(n[s]){case"(":{o++;break}case")":{if(o--,o===0)break t;break}case void 0:lP(n)}s++}while(!0);let a=n.slice(r+sC,s);ei(a)&&(a=ni(a,e));const l=String(s9(a,e));n=n.slice(0,r)+l+n.slice(s+1),i=r+l.length}while(!0)}const{round:a9,floor:l9,PI:uP}=Math,c9={linear:function(t,e,n){var i=t[1]-t[0],r=e[1]-e[0];return(n-t[0])/i*r+e[0]||0}},Hi=function(t){return t%360+(t<0?360:0)},Zs=function(t,e){return e*a9(t/e)},df=function(t){return 180*t/uP%360},jn=function(t,e){return e=e||!1,t=e?t:t%360,t*uP/180},ly=function(t,e){if(e===void 0)e=t===void 0?1:t,t=0;else if(e<t){const n=t;t=e,e=n}return l9(Math.random()*(e-t+1)+t)},{cos:Ic,sin:ad,atan2:u9}=Math,fP=function(t,e){var n=jn(t.y),i=jn(e.y),r=t.x,s=e.x,o=jn(s-r),a=ad(o)*Ic(i),l=Ic(n)*ad(i)-ad(n)*Ic(i)*Ic(o),c=df(u9(a,l)),u=["NE","E","SE","S","SW","W","NW","N"],f=c-22.5;return f<0&&(f+=360),f=parseInt(f/45),u[f]},bb=function(t,e){var n=t.x,i=t.y,r=e.x,s=e.y;return(n-=r)*n+(i-=s)*i},hP=function(t,e){return Math.sqrt(bb(t,e))},$t={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:vu,cos:cy,sin:uy,sqrt:oC,min:aC,max:lC,atan2:f9,round:cC,pow:h9,PI:uC}=Math,Z=function(t,e){if(!(this instanceof Z))return new Z(t,e);if(typeof t=="string"){var n=t.split(t.indexOf("@")===-1?" ":"@");t=parseFloat(n[0]),e=parseFloat(n[1])}else Object(t)===t&&(e=t.y,t=t.x);this.x=t===void 0?0:t,this.y=e===void 0?0:e};Z.fromPolar=function(t,e,n){n=new Z(n);var i=vu(t*cy(e)),r=vu(t*uy(e)),s=Hi(df(e));return s<90?r=-r:s<180?(i=-i,r=-r):s<270&&(i=-i),new Z(n.x+i,n.y+r)};Z.random=function(t,e,n,i){return new Z(ly(t,e),ly(n,i))};Z.prototype={type:$t.Point,chooseClosest:function(t){var e=t.length;if(e===1)return new Z(t[0]);for(var n=null,i=1/0,r=0;r<e;r++){var s=new Z(t[r]),o=this.squaredDistance(s);o<i&&(n=s,i=o)}return n},adhereToRect:function(t){return t.containsPoint(this)?this:(this.x=aC(lC(this.x,t.x),t.x+t.width),this.y=aC(lC(this.y,t.y),t.y+t.height),this)},angleBetween:function(t,e){var n=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return n<0&&(n+=360),n},bearing:function(t){return fP(this,t)},changeInAngle:function(t,e,n){return this.clone().offset(-t,-e).theta(n)-this.theta(n)},clone:function(){return new Z(this)},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),new Z(this.x-(t||0),this.y-(e||0))},distance:function(t){return hP(this,t)},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},lerp:function(t,e){var n=this.x,i=this.y;return new Z((1-e)*n+e*t.x,(1-e)*i+e*t.y)},magnitude:function(){return oC(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return vu(t.x-this.x)+vu(t.y-this.y)},move:function(t,e){var n=jn(new Z(t).theta(this)),i=this.offset(cy(n)*e,-uy(n)*e);return i},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return new Z(t).move(this,this.distance(t))},rotate:function(t,e){if(e===0)return this;t=t||new Z(0,0),e=jn(Hi(-e));var n=cy(e),i=uy(e),r=n*(this.x-t.x)-i*(this.y-t.y)+t.x,s=i*(this.x-t.x)+n*(this.y-t.y)+t.y;return this.x=r,this.y=s,this},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=h9(10,t);break}return this.x=cC(this.x*e)/e,this.y=cC(this.y*e)/e,this},scale:function(t,e,n){return n=n&&new Z(n)||new Z(0,0),this.x=n.x+t*(this.x-n.x),this.y=n.y+e*(this.y-n.y),this},snapToGrid:function(t,e){return this.x=Zs(this.x,t),this.y=Zs(this.y,e||t),this},squaredDistance:function(t){return bb(this,t)},theta:function(t){t=new Z(t);var e=-(t.y-this.y),n=t.x-this.x,i=f9(e,n);return i<0&&(i=2*uC+i),180*i/uC},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&new Z(t)||new Z(0,0);var e=this.x,n=this.y;return this.x=oC((e-t.x)*(e-t.x)+(n-t.y)*(n-t.y)),this.y=jn(t.theta(new Z(e,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x=t||0,this.y=e||0,this},vectorAngle:function(t){var e=new Z(0,0);return e.angleBetween(this,t)}};Z.prototype.translate=Z.prototype.offset;const yu=Z,{max:ld,min:cd}=Math,It=function(t,e){if(!(this instanceof It))return new It(t,e);if(t instanceof It)return new It(t.start,t.end);this.start=new Z(t),this.end=new Z(e)};It.prototype={type:$t.Line,angle:function(){var t=new Z(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)},bbox:function(){var t=cd(this.start.x,this.end.x),e=cd(this.start.y,this.end.y),n=ld(this.start.x,this.end.x),i=ld(this.start.y,this.end.y);return new vt(t,e,n-t,i-e)},bearing:function(){return fP(this.start,this.end)},clone:function(){return new It(this.start,this.end)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointLength:function(t){return this.closestPointNormalizedLength(t)*this.length()},closestPointNormalizedLength:function(t){var e=this.vector().dot(new It(this.start,t).vector()),n=cd(1,ld(0,e/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},containsPoint:function(t){var e=this.start,n=this.end;if(e.cross(t,n)!==0)return!1;var i=this.length();return!(new It(e,t).length()>i||new It(t,n).length()>i)},divideAt:function(t){var e=this.pointAt(t);return[new It(this.start,e),new It(e,this.end)]},divideAtLength:function(t){var e=this.pointAtLength(t);return[new It(this.start,e),new It(e,this.end)]},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t,e){if(t&&t.intersectionWithLine){var n=t.intersectionWithLine(this,e);return n&&t instanceof It&&(n=n[0]),n}return null},intersectionWithLine:function(t){var e=new Z(this.end.x-this.start.x,this.end.y-this.start.y),n=new Z(t.end.x-t.start.x,t.end.y-t.start.y),i=e.x*n.y-e.y*n.x,r=new Z(t.start.x-this.start.x,t.start.y-this.start.y),s=r.x*n.y-r.y*n.x,o=r.x*e.y-r.y*e.x;if(i===0||s*i<0||o*i<0)return null;if(i>0){if(s>i||o>i)return null}else if(s<i||o<i)return null;return[new Z(this.start.x+s*e.x/i,this.start.y+s*e.y/i)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return hP(this.start,this.end)},midpoint:function(){return new Z((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(t){const e=this.clone();if(!this.isDifferentiable())return e;const{start:n,end:i}=e,r=n.clone().rotate(i,270),s=i.clone().rotate(n,90);return n.move(s,t),i.move(r,t),e},pointAt:function(t){var e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)},pointAtLength:function(t){var e=this.start,n=this.end,i=!0;t<0&&(i=!1,t=-t);var r=this.length();return t>=r?i?n.clone():e.clone():this.pointAt((i?t:r-t)/r)},pointOffset:function(t){t=new Z(t);var e=this.start,n=this.end,i=(n.x-e.x)*(t.y-e.y)-(n.y-e.y)*(t.x-e.x);return i/this.length()},rotate:function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},round:function(t){return this.start.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this},setLength:function(t){var e=this.length();if(!e)return this;var n=t/e;return this.scale(n,n,this.start)},squaredLength:function(){return bb(this.start,this.end)},tangentAt:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,i=this.pointAt(t),r=new It(e,n);return r.translate(i.x-e.x,i.y-e.y),r},tangentAtLength:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,i=this.pointAtLength(t),r=new It(e,n);return r.translate(i.x-e.x,i.y-e.y),r},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(t,e){return this.start.translate(t,e),this.end.translate(t,e),this},vector:function(){return new Z(this.end.x-this.start.x,this.end.y-this.start.y)}};It.prototype.intersection=It.prototype.intersect;const Rs=It,{sqrt:fC,round:wc,pow:d9}=Math,Tn=function(t,e,n){if(!(this instanceof Tn))return new Tn(t,e,n);if(t instanceof Tn)return new Tn(new Z(t.x,t.y),t.a,t.b);t=new Z(t),this.x=t.x,this.y=t.y,this.a=e,this.b=n};Tn.fromRect=function(t){return t=new vt(t),new Tn(t.center(),t.width/2,t.height/2)};Tn.prototype={type:$t.Ellipse,bbox:function(){return new vt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new Z(this.x,this.y)},clone:function(){return new Tn(this)},containsPoint:function(t){return this.normalizedDistance(t)<=1},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.a+=2*t,this.b+=2*e,this},intersectionWithLine:function(t){var e=[],n=t.start,i=t.end,r=this.a,s=this.b,o=t.vector(),a=n.difference(new Z(this)),l=new Z(o.x/(r*r),o.y/(s*s)),c=new Z(a.x/(r*r),a.y/(s*s)),u=o.dot(l),f=o.dot(c),g=a.dot(c)-1,p=f*f-u*g;if(p<0)return null;if(p>0){var v=fC(p),y=(-f-v)/u,I=(-f+v)/u;if((y<0||1<y)&&(I<0||1<I))return null;0<=y&&y<=1&&e.push(n.lerp(i,y)),0<=I&&I<=1&&e.push(n.lerp(i,I))}else{var _=-f/u;if(0<=_&&_<=1)e.push(n.lerp(i,_));else return null}return e},intersectionWithLineFromCenterToPoint:function(t,e){t=new Z(t),e&&t.rotate(new Z(this.x,this.y),e);var n=t.x-this.x,i=t.y-this.y,r;if(n===0)return r=this.bbox().pointNearestToPoint(t),e?r.rotate(new Z(this.x,this.y),-e):r;var s=i/n,o=s*s,a=this.a*this.a,l=this.b*this.b,c=fC(1/(1/a+o/l));c=n<0?-c:c;var u=s*c;return r=new Z(this.x+c,this.y+u),e?r.rotate(new Z(this.x,this.y),-e):r},normalizedDistance:function(t){var e=t.x,n=t.y,i=this.a,r=this.b,s=this.x,o=this.y;return(e-s)*(e-s)/(i*i)+(n-o)*(n-o)/(r*r)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=d9(10,t);break}return this.x=wc(this.x*e)/e,this.y=wc(this.y*e)/e,this.a=wc(this.a*e)/e,this.b=wc(this.b*e)/e,this},tangentTheta:function(t){var e=30,n=t.x,i=t.y,r=this.a,s=this.b,o=this.bbox().center(),a=o.x,l=o.y,c=n>o.x+r/2,u=n<o.x-r/2,f,g;return c||u?(f=n>o.x?i-e:i+e,g=r*r/(n-a)-r*r*(i-l)*(f-l)/(s*s*(n-a))+a):(g=i>o.y?n+e:n-e,f=s*s/(i-l)-s*s*(n-a)*(g-a)/(r*r*(i-l))+l),new Z(g,f).theta(t)},toString:function(){return new Z(this.x,this.y).toString()+" "+this.a+" "+this.b}};const g9=Tn,{abs:hC,cos:p9,sin:m9,min:ya,max:dC,round:Cc,pow:v9}=Math,vt=function(t,e,n,i){if(!(this instanceof vt))return new vt(t,e,n,i);Object(t)===t&&(e=t.y,n=t.width,i=t.height,t=t.x),this.x=t===void 0?0:t,this.y=e===void 0?0:e,this.width=n===void 0?0:n,this.height=i===void 0?0:i};vt.fromEllipse=function(t){return t=new Tn(t),new vt(t.x-t.a,t.y-t.b,2*t.a,2*t.b)};vt.fromPointUnion=function(...t){if(t.length===0)return null;const e=new Z;let n,i,r,s;n=i=1/0,r=s=-1/0;for(let o=0;o<t.length;o++){e.update(t[o]);const a=e.x,l=e.y;a<n&&(n=a),a>r&&(r=a),l<i&&(i=l),l>s&&(s=l)}return new vt(n,i,r-n,s-i)};vt.fromRectUnion=function(...t){if(t.length===0)return null;const e=new vt;let n,i,r,s;n=i=1/0,r=s=-1/0;for(let o=0;o<t.length;o++){e.update(t[o]);const a=e.x,l=e.y,c=a+e.width,u=l+e.height;a<n&&(n=a),c>r&&(r=c),l<i&&(i=l),u>s&&(s=u)}return new vt(n,i,r-n,s-i)};vt.prototype={type:$t.Rect,bbox:function(t){return this.clone().rotateAroundCenter(t)},rotateAroundCenter:function(t){if(!t)return this;const{width:e,height:n}=this,i=jn(t),r=hC(m9(i)),s=hC(p9(i)),o=e*s+n*r,a=e*r+n*s;return this.x+=(e-o)/2,this.y+=(n-a)/2,this.width=o,this.height=a,this},bottomLeft:function(){return new Z(this.x,this.y+this.height)},bottomLine:function(){return new It(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new Z(this.x+this.width/2,this.y+this.height)},center:function(){return new Z(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new vt(this)},containsPoint:function(t){return t=new Z(t),t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=new vt(this).normalize(),n=new vt(t).normalize(),i=e.width,r=e.height,s=n.width,o=n.height;if(!i||!r||!s||!o)return!1;var a=e.x,l=e.y,c=n.x,u=n.y;return s+=c,i+=a,o+=u,r+=l,a<=c&&s<=i&&l<=u&&o<=r},corner:function(){return new Z(this.x+this.width,this.y+this.height)},equals:function(t){var e=new vt(this).normalize(),n=new vt(t).normalize();return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},intersect:function(t){var e=this.origin(),n=this.corner(),i=t.origin(),r=t.corner();if(r.x<=e.x||r.y<=e.y||i.x>=n.x||i.y>=n.y)return null;var s=dC(e.x,i.x),o=dC(e.y,i.y);return new vt(s,o,ya(n.x,r.x)-s,ya(n.y,r.y)-o)},intersectionWithLine:function(t){var e=this,n=[e.topLine(),e.rightLine(),e.bottomLine(),e.leftLine()],i=[],r=[],s,o,a=n.length;for(o=0;o<a;o++)s=t.intersect(n[o]),s!==null&&r.indexOf(s.toString())<0&&(i.push(s),r.push(s.toString()));return i.length>0?i:null},intersectionWithLineFromCenterToPoint:function(t,e){t=new Z(t);var n=new Z(this.x+this.width/2,this.y+this.height/2),i;e&&t.rotate(n,e);for(var r=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],s=new It(n,t),o=r.length-1;o>=0;--o){var a=r[o].intersection(s);if(a!==null){i=a;break}}return i&&e&&i.rotate(n,-e),i},leftLine:function(){return new It(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new Z(this.x,this.y+this.height/2)},maxRectScaleToFit:function(t,e){t=new vt(t),e||(e=t.center());var n,i,r,s,o,a,l,c,u=e.x,f=e.y;n=i=r=s=o=a=l=c=1/0;var g=t.topLeft();g.x<u&&(n=(this.x-u)/(g.x-u)),g.y<f&&(o=(this.y-f)/(g.y-f));var p=t.bottomRight();p.x>u&&(i=(this.x+this.width-u)/(p.x-u)),p.y>f&&(a=(this.y+this.height-f)/(p.y-f));var v=t.topRight();v.x>u&&(r=(this.x+this.width-u)/(v.x-u)),v.y<f&&(l=(this.y-f)/(v.y-f));var y=t.bottomLeft();return y.x<u&&(s=(this.x-u)/(y.x-u)),y.y>f&&(c=(this.y+this.height-f)/(y.y-f)),{sx:ya(n,i,r,s),sy:ya(o,a,l,c)}},maxRectUniformScaleToFit:function(t,e){var n=this.maxRectScaleToFit(t,e);return ya(n.sx,n.sy)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},normalize:function(){var t=this.x,e=this.y,n=this.width,i=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,i=-this.height),this.x=t,this.y=e,this.width=n,this.height=i,this},offset:function(t,e){return Z.prototype.offset.call(this,t,e)},origin:function(){return new Z(this.x,this.y)},pointNearestToPoint:function(t){if(t=new Z(t),this.containsPoint(t)){var e=this.sideNearestToPoint(t);switch(e){case"right":return new Z(this.x+this.width,t.y);case"left":return new Z(this.x,t.y);case"bottom":return new Z(t.x,this.y+this.height);case"top":return new Z(t.x,this.y)}}return t.adhereToRect(this)},rightLine:function(){return new It(this.topRight(),this.bottomRight())},rightMiddle:function(){return new Z(this.x+this.width,this.y+this.height/2)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=v9(10,t);break}return this.x=Cc(this.x*e)/e,this.y=Cc(this.y*e)/e,this.width=Cc(this.width*e)/e,this.height=Cc(this.height*e)/e,this},scale:function(t,e,n){return n=this.origin().scale(t,e,n),this.x=n.x,this.y=n.y,this.width*=t,this.height*=e,this},sideNearestToPoint:function(t){t=new Z(t);var e=t.x-this.x,n=this.x+this.width-t.x,i=t.y-this.y,r=this.y+this.height-t.y,s=e,o="left";return n<s&&(s=n,o="right"),i<s&&(s=i,o="top"),r<s&&(o="bottom"),o},snapToGrid:function(t,e){var n=this.origin().snapToGrid(t,e),i=this.corner().snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=i.x-n.x,this.height=i.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new It(this.topLeft(),this.topRight())},topMiddle:function(){return new Z(this.x+this.width/2,this.y)},topRight:function(){return new Z(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){return vt.fromRectUnion(this,t)},update:function(t,e,n,i){return Object(t)===t&&(e=t.y,n=t.width,i=t.height,t=t.x),this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0,this}};vt.prototype.bottomRight=vt.prototype.corner;vt.prototype.topLeft=vt.prototype.origin;vt.prototype.translate=vt.prototype.offset;const y9=vt;function dP(t){const e=t.trim();if(e==="")return[];const n=[],i=e.split(/\b\s*,\s*|,\s*|\s+/),r=i.length;for(let s=0;s<r;s+=2)n.push({x:+i[s],y:+i[s+1]});return n}function gP(t){const e=t.length;if(e===0)return[];const n=[];for(let i=0;i<e;i++){const r=t[i].clone();n.push(r)}return n}function pP(t){const{abs:e}=Math;var n,i,r=t.length;if(r===0)return[];var s;for(n=0;n<r;n++)(s===void 0||t[n].y<s.y||t[n].y===s.y&&t[n].x>s.x)&&(s=t[n]);var o=[];for(n=0;n<r;n++){var a=s.theta(t[n]);a===0&&(a=360);var l=[t[n],n,a];o.push(l)}if(o.sort(function(X,K){var st=X[2]-K[2];return st===0&&(st=K[1]-X[1]),st}),o.length>2){var c=o[o.length-1];o.unshift(c)}for(var u={},f=[],g,p,v,y,I,_;o.length!==0;)if(g=o.pop(),p=g[0],!u.hasOwnProperty(g[0]+"@@"+g[1]))for(var S=!1;!S;)if(f.length<2)f.push(g),S=!0;else{v=f.pop(),y=v[0],I=f.pop(),_=I[0];var O=_.cross(y,p);if(O<0)f.push(I),f.push(v),f.push(g),S=!0;else if(O===0){var R=1e-10,A=y.angleBetween(_,p);e(A-180)<R||y.equals(p)||_.equals(y)?(u[v[0]+"@@"+v[1]]=y,f.push(I)):e((A+1)%360-1)<R&&(f.push(I),o.push(v))}else u[v[0]+"@@"+v[1]]=y,f.push(I)}f.length>2&&f.pop();var d,C=-1;for(i=f.length,n=0;n<i;n++){var N=f[n][1];(d===void 0||N<d)&&(d=N,C=n)}var k=[];if(C>0){var z=f.slice(C),B=f.slice(0,C);k=z.concat(B)}else k=f;var U=[];for(i=k.length,n=0;n<i;n++)U.push(k[n][0]);return U}const Ce=function(t){if(!(this instanceof Ce))return new Ce(t);if(typeof t=="string")return new Ce.parse(t);this.points=Array.isArray(t)?t.map(Z):[]};Ce.parse=function(t){return new Ce(dP(t))};Ce.fromRect=function(t){return new Ce([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft(),t.topLeft()])};Ce.prototype={type:$t.Polyline,bbox:function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,r=this.points,s=r.length;if(s===0)return null;for(var o=0;o<s;o++){var a=r[o],l=a.x,c=a.y;l<t&&(t=l),l>e&&(e=l),c<n&&(n=c),c>i&&(i=c)}return new vt(t,n,e-t,i-n)},clone:function(){return new Ce(gP(this.points))},closestPoint:function(t){var e=this.closestPointLength(t);return this.pointAtLength(e)},closestPointLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return 0;for(var i,r=1/0,s=0,o=n-1,a=0;a<o;a++){var l=new It(e[a],e[a+1]),c=l.length(),u=l.closestPointNormalizedLength(t),f=l.pointAt(u),g=f.squaredDistance(t);g<r&&(r=g,i=s+u*c),s+=c}return i},closestPointNormalizedLength:function(t){var e=this.closestPointLength(t);if(e===0)return 0;var n=this.length();return n===0?0:e/n},closestPointTangent:function(t){var e=this.closestPointLength(t);return this.tangentAtLength(e)},containsPoint:function(t){var e=this.points,n=e.length;if(n===0)return!1;for(var i=t.x,r=t.y,s=n-1,o=0,a=0,l=new It,c=new It,u=new Z;o<n;o++){var f=e[s],g=e[o];if(t.equals(f)||(l.start=f,l.end=g,l.containsPoint(t)))return!0;if(r<=f.y&&r>g.y||r>f.y&&r<=g.y){var p=f.x-i>g.x-i?f.x-i:g.x-i;p>=0&&(u.x=i+p,u.y=r,c.start=t,c.end=u,l.intersect(c)&&a++)}s=o}return a%2===1},close:function(){const{start:t,end:e,points:n}=this;return t&&e&&!t.equals(e)&&n.push(t.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new Ce(pP(this.points))},equals:function(t){if(!t)return!1;var e=this.points,n=t.points,i=e.length;if(n.length!==i)return!1;for(var r=0;r<i;r++){var s=e[r],o=t.points[r];if(!s.equals(o))return!1}return!0},intersectionWithLine:function(t){for(var e=new It(t),n=[],i=this.lengthPoints(),r=new It,s=0,o=i.length-1;s<o;s++){r.start=i[s],r.end=i[s+1];var a=e.intersectionWithLine(r);a&&n.push(a[0])}return n.length>0?n:null},isDifferentiable:function(){var t=this.points,e=t.length;if(e===0)return!1;for(var n=new It,i=e-1,r=0;r<i;r++)if(n.start=t[r],n.end=t[r+1],n.isDifferentiable())return!0;return!1},length:function(){var t=this.lengthPoints(),e=t.length;if(e===0)return 0;for(var n=0,i=e-1,r=0;r<i;r++)n+=t[r].distance(t[r+1]);return n},pointAt:function(t){var e=this.lengthPoints(),n=e.length;if(n===0)return null;if(n===1||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();var i=this.length(),r=i*t;return this.pointAtLength(r)},pointAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0)return null;if(n===1)return e[0].clone();var i=!0;t<0&&(i=!1,t=-t);for(var r=0,s=n-1,o=0;o<s;o++){var a=i?o:s-1-o,l=e[a],c=e[a+1],u=new It(l,c),f=l.distance(c);if(t<=r+f)return u.pointAtLength((i?1:-1)*(t-r));r+=f}var g=i?e[n-1]:e[0];return g.clone()},round:function(t){for(var e=this.points,n=e.length,i=0;i<n;i++)e[i].round(t);return this},scale:function(t,e,n){for(var i=this.points,r=i.length,s=0;s<r;s++)i[s].scale(t,e,n);return this},simplify:function(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let i=0;for(;e[i+2];){const r=i,s=i+1,o=i+2,a=e[r],l=e[s],c=e[o];new It(a,c).closestPoint(l).distance(l)<=n?e.splice(s,1):i+=1}return this},tangentAt:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return null;t<0&&(t=0),t>1&&(t=1);var i=this.length(),r=i*t;return this.tangentAtLength(r)},tangentAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return null;var i=!0;t<0&&(i=!1,t=-t);for(var r,s=0,o=n-1,a=0;a<o;a++){var l=i?a:o-1-a,c=e[l],u=e[l+1],f=new It(c,u),g=c.distance(u);if(f.isDifferentiable()){if(t<=s+g)return f.tangentAtLength((i?1:-1)*(t-s));r=f}s+=g}if(r){var p=i?1:0;return r.tangentAt(p)}return null},toString:function(){return this.points+""},translate:function(t,e){for(var n=this.points,i=n.length,r=0;r<i;r++)n[r].translate(t,e);return this},serialize:function(){var t=this.points,e=t.length;if(e===0)return"";for(var n="",i=0;i<e;i++){var r=t[i];n+=r.x+","+r.y+" "}return n.trim()}};Object.defineProperty(Ce.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[0]}});Object.defineProperty(Ce.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[e-1]}});const{abs:xc,sqrt:b9,min:gC,max:pC,pow:ud}=Math,ue=function(t,e,n,i){if(!(this instanceof ue))return new ue(t,e,n,i);if(t instanceof ue)return new ue(t.start,t.controlPoint1,t.controlPoint2,t.end);this.start=new Z(t),this.controlPoint1=new Z(e),this.controlPoint2=new Z(n),this.end=new Z(i)};ue.throughPoints=function(){function t(n){var i=[],r=[],s=n.length-1,o;if(s==1)return i[0]=new Z((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),r[0]=new Z(2*i[0].x-n[0].x,2*i[0].y-n[0].y),[i,r];var a=[];for(o=1;o<s-1;o++)a[o]=4*n[o].x+2*n[o+1].x;a[0]=n[0].x+2*n[1].x,a[s-1]=(8*n[s-1].x+n[s].x)/2;var l=e(a);for(o=1;o<s-1;++o)a[o]=4*n[o].y+2*n[o+1].y;a[0]=n[0].y+2*n[1].y,a[s-1]=(8*n[s-1].y+n[s].y)/2;var c=e(a);for(o=0;o<s;o++)i.push(new Z(l[o],c[o])),o<s-1?r.push(new Z(2*n[o+1].x-l[o+1],2*n[o+1].y-c[o+1])):r.push(new Z((n[s].x+l[s-1])/2,(n[s].y+c[s-1])/2));return[i,r]}function e(n){var i=n.length,r=[],s=[],o=2;r[0]=n[0]/o;for(var a=1;a<i;a++)s[a]=1/o,o=(a<i-1?4:3.5)-s[a],r[a]=(n[a]-r[a-1])/o;for(a=1;a<i;a++)r[i-a-1]-=s[i-a]*r[i-a];return r}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var i=t(n),r=[],s=i[0].length,o=0;o<s;o++){var a=new Z(i[0][o].x,i[0][o].y),l=new Z(i[1][o].x,i[1][o].y);r.push(new ue(n[o],a,l,n[o+1]))}return r}}();ue.prototype={type:$t.Curve,bbox:function(){for(var t=this.start,e=this.controlPoint1,n=this.controlPoint2,i=this.end,r=t.x,s=t.y,o=e.x,a=e.y,l=n.x,c=n.y,u=i.x,f=i.y,g=new Array,p=new Array,v=[new Array,new Array],y,I,_,S,O,R,A,d,C=0;C<2;++C){if(C===0?(I=6*r-12*o+6*l,y=-3*r+9*o-9*l+3*u,_=3*o-3*r):(I=6*s-12*a+6*c,y=-3*s+9*a-9*c+3*f,_=3*a-3*s),xc(y)<1e-12){if(xc(I)<1e-12)continue;S=-_/I,0<S&&S<1&&p.push(S);continue}A=I*I-4*_*y,d=b9(A),!(A<0)&&(O=(-I+d)/(2*y),0<O&&O<1&&p.push(O),R=(-I-d)/(2*y),0<R&&R<1&&p.push(R))}for(var N=p.length,k=N,z,B,U;N--;)S=p[N],z=1-S,B=z*z*z*r+3*z*z*S*o+3*z*S*S*l+S*S*S*u,v[0][N]=B,U=z*z*z*s+3*z*z*S*a+3*z*S*S*c+S*S*S*f,v[1][N]=U,g[N]={X:B,Y:U};p[k]=0,p[k+1]=1,g[k]={X:r,Y:s},g[k+1]={X:u,Y:f},v[0][k]=r,v[1][k]=s,v[0][k+1]=u,v[1][k+1]=f,p.length=k+2,v[0].length=k+2,v[1].length=k+2,g.length=k+2;var X=gC.apply(null,v[0]),K=gC.apply(null,v[1]),st=pC.apply(null,v[0]),ut=pC.apply(null,v[1]);return new vt(X,K,st-X,ut-K)},clone:function(){return new ue(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(t,e){return this.pointAtT(this.closestPointT(t,e))},closestPointLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,i=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,r={precision:n,subdivisions:i};return this.lengthAtT(this.closestPointT(t,r),r)},closestPointNormalizedLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,i=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,r={precision:n,subdivisions:i},s=this.closestPointLength(t,r);if(!s)return 0;var o=this.length(r);return o===0?0:s/o},closestPointT:function(t,e){e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,r,s,o,a,l,c,u,f=i.length,g=f?1/f:0,p=0;p<f;p++){var v=i[p],y=v.start.distance(t),I=v.end.distance(t),_=y+I;(!u||_<u)&&(r=v,s=p*g,o=(p+1)*g,a=y,l=I,c=v.start.distance(v.end),u=_)}for(var S=ud(10,-n);;){var O=a?xc(a-l)/a:0,R=l?xc(a-l)/l:0,A=O<S||R<S,d=a?a<c*S:!0,C=l?l<c*S:!0,N=d||C;if(A||N)return a<=l?s:o;var k=r.divide(.5);g/=2;var z=k[0].start.distance(t),B=k[0].end.distance(t),U=z+B,X=k[1].start.distance(t),K=k[1].end.distance(t),st=X+K;U<=st?(r=k[0],o-=g,a=z,l=B):(r=k[1],s+=g,a=X,l=K)}},closestPointTangent:function(t,e){return this.tangentAtT(this.closestPointT(t,e))},containsPoint:function(t,e){var n=this.toPolyline(e);return n.containsPoint(t)},divideAt:function(t,e){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);var n=this.tAt(t,e);return this.divideAtT(n)},divideAtLength:function(t,e){var n=this.tAtLength(t,e);return this.divideAtT(n)},divideAtT:function(t){var e=this.start,n=this.controlPoint1,i=this.controlPoint2,r=this.end;if(t<=0)return[new ue(e,e,e,e),new ue(e,n,i,r)];if(t>=1)return[new ue(e,n,i,r),new ue(r,r,r,r)];var s=this.getSkeletonPoints(t),o=s.startControlPoint1,a=s.startControlPoint2,l=s.divider,c=s.dividerControlPoint1,u=s.dividerControlPoint2;return[new ue(e,o,a,l),new ue(l,c,u,r)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.controlPoint1.x===t.controlPoint1.x&&this.controlPoint1.y===t.controlPoint1.y&&this.controlPoint2.x===t.controlPoint2.x&&this.controlPoint2.y===t.controlPoint2.y&&this.end.x===t.end.x&&this.end.y===t.end.y},getSkeletonPoints:function(t){var e=this.start,n=this.controlPoint1,i=this.controlPoint2,r=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:i.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:i.clone(),divider:r.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:r.clone()};var s=new It(e,n).pointAt(t),o=new It(n,i).pointAt(t),a=new It(i,r).pointAt(t),l=new It(s,o).pointAt(t),c=new It(o,a).pointAt(t),u=new It(l,c).pointAt(t),f={startControlPoint1:s,startControlPoint2:l,divider:u,dividerControlPoint1:c,dividerControlPoint2:a};return f},getSubdivisions:function(t){t=t||{};var e=t.precision===void 0?this.PRECISION:t.precision,n=this.start,i=this.controlPoint1,r=this.controlPoint2,s=this.end,o=[new ue(n,i,r,s)];if(e===0)return o;var a=!this.isDifferentiable();if(a)return o;var l=this.endpointDistance(),c=ud(10,-e),u=2,f=i.cross(n,s)===0&&r.cross(n,s)===0;f&&(u=2*e);for(var g=0;;){g+=1;for(var p=[],v=o.length,y=0;y<v;y++){var I=o[y],_=I.divide(.5);p.push(_[0],_[1])}for(var S=0,O=p.length,R=0;R<O;R++){var A=p[R];S+=A.endpointDistance()}if(g>=u){var d=S!==0?(S-l)/S:0;if(d<c)return p}o=p,l=S}},isDifferentiable:function(){var t=this.start,e=this.controlPoint1,n=this.controlPoint2,i=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(i))},length:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,i=0,r=n.length,s=0;s<r;s++){var o=n[s];i+=o.endpointDistance()}return i},lengthAtT:function(t,e){if(t<=0)return 0;e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,i=this.divide(t)[0],r=i.length({precision:n});return r},pointAt:function(t,e){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var n=this.tAt(t,e);return this.pointAtT(n)},pointAtLength:function(t,e){var n=this.tAtLength(t,e);return this.pointAtT(n)},pointAtT:function(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider},PRECISION:3,round:function(t){return this.start.round(t),this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},tangentAt:function(t,e){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var n=this.tAt(t,e);return this.tangentAtT(n)},tangentAtLength:function(t,e){if(!this.isDifferentiable())return null;var n=this.tAtLength(t,e);return this.tangentAtT(n)},tangentAtT:function(t){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var e=this.getSkeletonPoints(t),n=e.startControlPoint2,i=e.dividerControlPoint1,r=e.divider,s=new It(n,i);return s.translate(r.x-n.x,r.y-n.y),s},tAt:function(t,e){if(t<=0)return 0;if(t>=1)return 1;e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,i=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,r={precision:n,subdivisions:i},s=this.length(r),o=s*t;return this.tAtLength(o,r)},tAtLength:function(t,e){var n=!0;t<0&&(n=!1,t=-t),e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:i}):e.subdivisions,s={precision:i,subdivisions:r},o,a,l,c,u,f=0,g=r.length,p=1/g,v=0;v<g;v++){var y=n?v:g-1-v,I=r[v],_=I.endpointDistance();if(t<=f+_){o=I,a=y*p,l=(y+1)*p,c=n?t-f:_+f-t,u=n?_+f-t:t-f;break}f+=_}if(!o)return n?1:0;for(var S=this.length(s),O=ud(10,-i);;){var R;if(R=S!==0?c/S:0,R<O)return a;if(R=S!==0?u/S:0,R<O)return l;var A,d,C=o.divide(.5);p/=2;var N=C[0].endpointDistance(),k=C[1].endpointDistance();c<=N?(o=C[0],l-=p,A=c,d=N-A):(o=C[1],a+=p,A=c-N,d=k-A),c=A,u=d}},toPoints:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,i=[n[0].start.clone()],r=n.length,s=0;s<r;s++){var o=n[s];i.push(o.end.clone())}return i},toPolyline:function(t){return new Ce(this.toPoints(t))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};ue.prototype.divide=ue.prototype.divideAtT;function Nl(t){var e,n,i=[];for(n=arguments.length,e=1;e<n;e++)i.push(arguments[e]);if(!t)throw new Error("Missing a parent object.");var r=Object.create(t);for(n=i.length,e=0;e<n;e++){var s=i[e],o,a;for(a in s)s.hasOwnProperty(a)&&(delete r[a],o=Object.getOwnPropertyDescriptor(s,a),Object.defineProperty(r,a,o))}return r}const _t=function(t){if(!(this instanceof _t))return new _t(t);if(typeof t=="string")return new _t.parse(t);this.segments=[];var e,n;if(t)if(Array.isArray(t)&&t.length!==0)if(t=t.reduce(function(a,l){return a.concat(l)},[]),n=t.length,t[0].isSegment)for(e=0;e<n;e++){var i=t[e];this.appendSegment(i)}else{var r=null;for(e=0;e<n;e++){var s=t[e];if(!(s instanceof It||s instanceof ue))throw new Error("Cannot construct a path segment from the provided object.");e===0&&this.appendSegment(_t.createSegment("M",s.start)),r&&!r.end.equals(s.start)&&this.appendSegment(_t.createSegment("M",s.start)),s instanceof It?this.appendSegment(_t.createSegment("L",s.end)):s instanceof ue&&this.appendSegment(_t.createSegment("C",s.controlPoint1,s.controlPoint2,s.end)),r=s}}else if(t.isSegment)this.appendSegment(t);else if(t instanceof It)this.appendSegment(_t.createSegment("M",t.start)),this.appendSegment(_t.createSegment("L",t.end));else if(t instanceof ue)this.appendSegment(_t.createSegment("M",t.start)),this.appendSegment(_t.createSegment("C",t.controlPoint1,t.controlPoint2,t.end));else if(t instanceof Ce){if(!(t.points&&t.points.length!==0))return;for(n=t.points.length,e=0;e<n;e++){var o=t.points[e];e===0?this.appendSegment(_t.createSegment("M",o)):this.appendSegment(_t.createSegment("L",o))}}else throw new Error("Cannot construct a path from the provided object.")};_t.parse=function(t){if(!t)return new _t;for(var e=new _t,n=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,i=t.match(n),r=i.length,s=0;s<r;s++){var o=i[s],a=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=o.match(a),c=_t.createSegment.apply(this,l);e.appendSegment(c)}return e};_t.createSegment=function(t){if(!t)throw new Error("Type must be provided.");var e=_t.segmentTypes[t];if(!e)throw new Error(t+" is not a recognized path segment type.");for(var n=[],i=arguments.length,r=1;r<i;r++)n.push(arguments[r]);return Vi(e,n)};_t.prototype={type:$t.Path,appendSegment:function(t){var e=this.segments,n=e.length,i,r=n!==0?e[n-1]:null,s=null;if(Array.isArray(t)){if(t=t.reduce(function(c,u){return c.concat(u)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var o=t.length,a=0;a<o;a++){var l=t[a];i=this.prepareSegment(l,r,s),e.push(i),r=i}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,r,s),e.push(i)}},bbox:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n,i=0;i<e;i++){var r=t[i];if(r.isVisible){var s=r.bbox();n=n?n.union(s):s}}if(n)return n;var o=t[e-1];return new vt(o.end.x,o.end.y,0,0)},clone:function(){for(var t=this.segments,e=t.length,n=new _t,i=0;i<e;i++){var r=t[i].clone();n.appendSegment(r)}return n},closestPoint:function(t,e){var n=this.closestPointT(t,e);return n?this.pointAtT(n):null},closestPointLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,r={precision:n,segmentSubdivisions:i},s=this.closestPointT(t,r);return s?this.lengthAtT(s,r):0},closestPointNormalizedLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,r={precision:n,segmentSubdivisions:i},s=this.closestPointLength(t,r);if(s===0)return 0;var o=this.length(r);return o===0?0:s/o},closestPointT:function(t,e){var n=this.segments,i=n.length;if(i===0)return null;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o,a=1/0,l=0;l<i;l++){var c=n[l],u=s[l];if(c.isVisible){var f=c.closestPointT(t,{precision:r,subdivisions:u}),g=c.pointAtT(f),p=new It(g,t).squaredLength();p<a&&(o={segmentIndex:l,value:f},a=p)}}return o||{segmentIndex:i-1,value:1}},closestPointTangent:function(t,e){var n=this.segments,i=n.length;if(i===0)return null;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o,a=1/0,l=0;l<i;l++){var c=n[l],u=s[l];if(c.isDifferentiable()){var f=c.closestPointT(t,{precision:r,subdivisions:u}),g=c.pointAtT(f),p=new It(g,t).squaredLength();p<a&&(o=c.tangentAtT(f),a=p)}}return o||null},containsPoint:function(t,e){var n=this.toPolylines(e);if(!n)return!1;for(var i=n.length,r=0,s=0;s<i;s++){var o=n[s];o.containsPoint(t)&&r++}return r%2===1},divideAt:function(t,e){var n=this.segments,i=n.length;if(i===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var r=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o={precision:r,segmentSubdivisions:s},a=this.length(o),l=a*t;return this.divideAtLength(l,o)},divideAtLength:function(t,e){var n=this.segments.length;if(n===0)return null;var i=!0;t<0&&(i=!1,t=-t),e=e||{};var r=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o,a,l=0,c,u,f,g,p;for(o=0;o<n;o++){var v=i?o:n-1-o;a=this.getSegment(v);var y=s[v],I=a.length({precision:r,subdivisions:y});if(a.isDifferentiable()&&(f=a,g=v,t<=l+I)){u=v,c=a.divideAtLength((i?1:-1)*(t-l),{precision:r,subdivisions:y});break}l+=I}if(!f)return null;c||(u=g,p=i?1:0,c=f.divideAtT(p));var _=this.clone();_.replaceSegment(u,c);var S=u,O=u+1,R=u+2;c[0].isDifferentiable()||(_.removeSegment(S),O-=1,R-=1);var A=_.getSegment(O).start;_.insertSegment(O,_t.createSegment("M",A)),R+=1,c[1].isDifferentiable()||(_.removeSegment(R-1),R-=1);var d=R-S-1;for(o=R;o<_.segments.length;o++){var C=this.getSegment(o-d);if(a=_.getSegment(o),a.type==="Z"&&!C.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var N=_t.createSegment("L",C.end);_.replaceSegment(o,N)}}var k=new _t(_.segments.slice(0,O)),z=new _t(_.segments.slice(O));return[k,z]},equals:function(t){if(!t)return!1;var e=this.segments,n=t.segments,i=e.length;if(n.length!==i)return!1;for(var r=0;r<i;r++){var s=e[r],o=n[r];if(s.type!==o.type||!s.equals(o))return!1}return!0},getSegment:function(t){var e=this.segments,n=e.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");return e[t]},getSegmentSubdivisions:function(t){var e=this.segments,n=e.length;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,r=[],s=0;s<n;s++){var o=e[s],a=o.getSubdivisions({precision:i});r.push(a)}return r},getSubpaths:function(){const e=this.clone().validate().segments,n=e.length,i=[];for(let r=0;r<n;r++){const s=e[r];s.isSubpathStart?i.push(new _t(s)):i[i.length-1].appendSegment(s)}return i},insertSegment:function(t,e){var n=this.segments,i=n.length;if(t<0&&(t=i+t+1),t>i||t<0)throw new Error("Index out of range.");var r,s=null,o=null;if(i!==0&&(t>=1?(s=n[t-1],o=s.nextSegment):o=n[0]),Array.isArray(e)){if(e=e.reduce(function(u,f){return u.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var a=e.length,l=0;l<a;l++){var c=e[l];r=this.prepareSegment(c,s,o),n.splice(t+l,0,r),s=r}}else{if(!e||!e.isSegment)throw new Error("Segment required.");r=this.prepareSegment(e,s,o),n.splice(t,0,r)}},intersectionWithLine:function(t,e){var n=null,i=this.toPolylines(e);if(!i)return null;for(var r=0,s=i.length;r<s;r++){var o=i[r],a=t.intersect(o);a&&(n||(n=[]),Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}return n},isDifferentiable:function(){for(var t=this.segments,e=t.length,n=0;n<e;n++){var i=t[n];if(i.isDifferentiable())return!0}return!1},isValid:function(){var t=this.segments,e=t.length===0||t[0].type==="M";return e},length:function(t){var e=this.segments,n=e.length;if(n===0)return 0;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,r=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s=0,o=0;o<n;o++){var a=e[o],l=r[o];s+=a.length({subdivisions:l})}return s},lengthAtT:function(t,e){var n=this.segments,i=n.length;if(i===0)return 0;var r=t.segmentIndex;if(r<0)return 0;var s=t.value;r>=i?(r=i-1,s=1):s<0?s=0:s>1&&(s=1),e=e||{};for(var o=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,l,c=0,u=0;u<r;u++){var f=n[u];l=a[u],c+=f.length({precisison:o,subdivisions:l})}return f=n[r],l=a[r],c+=f.lengthAtT(s,{precisison:o,subdivisions:l}),c},pointAt:function(t,e){var n=this.segments,i=n.length;if(i===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();e=e||{};var r=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o={precision:r,segmentSubdivisions:s},a=this.length(o),l=a*t;return this.pointAtLength(l,o)},pointAtLength:function(t,e){var n=this.segments,i=n.length;if(i===0)return null;if(t===0)return this.start.clone();var r=!0;t<0&&(r=!1,t=-t),e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,a,l=0,c=0;c<i;c++){var u=r?c:i-1-c,f=n[u],g=o[u],p=f.length({precision:s,subdivisions:g});if(f.isVisible){if(t<=l+p)return f.pointAtLength((r?1:-1)*(t-l),{precision:s,subdivisions:g});a=f}l+=p}if(a)return r?a.end:a.start;var v=n[i-1];return v.end.clone()},pointAtT:function(t){var e=this.segments,n=e.length;if(n===0)return null;var i=t.segmentIndex;if(i<0)return e[0].pointAtT(0);if(i>=n)return e[n-1].pointAtT(1);var r=t.value;return r<0?r=0:r>1&&(r=1),e[i].pointAtT(r)},PRECISION:3,prepareSegment:function(t,e,n){t.previousSegment=e,t.nextSegment=n,e&&(e.nextSegment=t),n&&(n.previousSegment=t);var i=t;return t.isSubpathStart&&(t.subpathStartSegment=t,i=n),i&&this.updateSubpathStartSegment(i),t},removeSegment:function(t){var e=this.segments,n=e.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");var i=e.splice(t,1)[0],r=i.previousSegment,s=i.nextSegment;r&&(r.nextSegment=s),s&&(s.previousSegment=r),i.isSubpathStart&&s&&this.updateSubpathStartSegment(s)},replaceSegment:function(t,e){var n=this.segments,i=n.length;if(i===0)throw new Error("Path has no segments.");if(t<0&&(t=i+t),t>=i||t<0)throw new Error("Index out of range.");var r,s=n[t],o=s.previousSegment,a=s.nextSegment,l=s.isSubpathStart;if(Array.isArray(e)){if(e=e.reduce(function(g,p){return g.concat(p)},[]),!e[0].isSegment)throw new Error("Segments required.");n.splice(t,1);for(var c=e.length,u=0;u<c;u++){var f=e[u];r=this.prepareSegment(f,o,a),n.splice(t+u,0,r),o=r,l&&r.isSubpathStart&&(l=!1)}}else{if(!e||!e.isSegment)throw new Error("Segment required.");r=this.prepareSegment(e,o,a),n.splice(t,1,r),l&&r.isSubpathStart&&(l=!1)}l&&a&&this.updateSubpathStartSegment(a)},round:function(t){for(var e=this.segments,n=e.length,i=0;i<n;i++){var r=e[i];r.round(t)}return this},scale:function(t,e,n){for(var i=this.segments,r=i.length,s=0;s<r;s++){var o=i[s];o.scale(t,e,n)}return this},segmentAt:function(t,e){var n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null},segmentAtLength:function(t,e){var n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null},segmentIndexAt:function(t,e){var n=this.segments,i=n.length;if(i===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var r=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o={precision:r,segmentSubdivisions:s},a=this.length(o),l=a*t;return this.segmentIndexAtLength(l,o)},segmentIndexAtLength:function(t,e){var n=this.segments,i=n.length;if(i===0)return null;var r=!0;t<0&&(r=!1,t=-t),e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,a=null,l=0,c=0;c<i;c++){var u=r?c:i-1-c,f=n[u],g=o[u],p=f.length({precision:s,subdivisions:g});if(f.isVisible){if(t<=l+p)return u;a=u}l+=p}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(t,e){var n=this.segments,i=n.length;if(i===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var r=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o={precision:r,segmentSubdivisions:s},a=this.length(o),l=a*t;return this.tangentAtLength(l,o)},tangentAtLength:function(t,e){var n=this.segments,i=n.length;if(i===0)return null;var r=!0;t<0&&(r=!1,t=-t),e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,a,l=0,c=0;c<i;c++){var u=r?c:i-1-c,f=n[u],g=o[u],p=f.length({precision:s,subdivisions:g});if(f.isDifferentiable()){if(t<=l+p)return f.tangentAtLength((r?1:-1)*(t-l),{precision:s,subdivisions:g});a=f}l+=p}if(a){var v=r?1:0;return a.tangentAtT(v)}return null},tangentAtT:function(t){var e=this.segments,n=e.length;if(n===0)return null;var i=t.segmentIndex;if(i<0)return e[0].tangentAtT(0);if(i>=n)return e[n-1].tangentAtT(1);var r=t.value;return r<0?r=0:r>1&&(r=1),e[i].tangentAtT(r)},toPoints:function(t){var e=this.segments,n=e.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,r=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s=[],o=[],a=0;a<n;a++){var l=e[a];if(l.isVisible){var c=r[a];if(c.length>0){var u=c.map(function(f){return f.start});Array.prototype.push.apply(o,u)}else o.push(l.start)}else o.length>0&&(o.push(e[a-1].end),s.push(o),o=[])}return o.length>0&&(o.push(this.end),s.push(o)),s},toPolylines:function(t){var e=[],n=this.toPoints(t);if(!n)return null;for(var i=0,r=n.length;i<r;i++)e.push(new Ce(n[i]));return e},toString:function(){for(var t=this.segments,e=t.length,n="",i=0;i<e;i++){var r=t[i];n+=r.serialize()+" "}return n.trim()},translate:function(t,e){for(var n=this.segments,i=n.length,r=0;r<i;r++){var s=n[r];s.translate(t,e)}return this},updateSubpathStartSegment:function(t){for(var e=t.previousSegment;t&&!t.isSubpathStart;)e?t.subpathStartSegment=e.subpathStartSegment:t.subpathStartSegment=null,e=t,t=t.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,_t.createSegment("M",0,0)),this}};Object.defineProperty(_t.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n=0;n<e;n++){var i=t[n];if(i.isVisible)return i.start}return t[e-1].end}});Object.defineProperty(_t.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n=e-1;n>=0;n--){var i=t[n];if(i.isVisible)return i.end}return t[e-1].end}});function Vi(t,e){return e.unshift(null),new(Function.prototype.bind.apply(t,e))}var Ys={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(t){if(t<=0)return 0;var e=this.length();return t>=1?e:e*t},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Ys,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Ys,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Ys,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var un=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof un))return Vi(un,t);if(e===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var i;if(t[0]instanceof It){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new Z(+t[0],+t[1]),this;if(e<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" coordinates provided).");var r;for(i=[],n=0;n<e;n+=2)r=t.slice(n,n+2),i.push(Vi(un,r));return i}else{if(e===1)return this.end=new Z(t[0]),this;var s;for(i=[],n=0;n<e;n+=1)s=t[n],i.push(new un(s));return i}},mP={clone:function(){return new un(this.end)},divideAt:function(t){var e=new It(this.start,this.end),n=e.divideAt(t);return[new un(n[0]),new un(n[1])]},divideAtLength:function(t){var e=new It(this.start,this.end),n=e.divideAtLength(t);return[new un(n[0]),new un(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(mP,"type",{configurable:!0,enumerable:!0,value:"L"});un.prototype=Nl(Ys,It.prototype,mP);var Kn=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Kn))return Vi(Kn,t);if(e===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var i;if(t[0]instanceof ue){if(e===1)return this.controlPoint1=t[0].controlPoint1.clone(),this.controlPoint2=t[0].controlPoint2.clone(),this.end=t[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===6)return this.controlPoint1=new Z(+t[0],+t[1]),this.controlPoint2=new Z(+t[2],+t[3]),this.end=new Z(+t[4],+t[5]),this;if(e<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" coordinates provided).");var r;for(i=[],n=0;n<e;n+=6)r=t.slice(n,n+6),i.push(Vi(Kn,r));return i}else{if(e===3)return this.controlPoint1=new Z(t[0]),this.controlPoint2=new Z(t[1]),this.end=new Z(t[2]),this;if(e<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" points provided).");var s;for(i=[],n=0;n<e;n+=3)s=t.slice(n,n+3),i.push(Vi(Kn,s));return i}},vP={clone:function(){return new Kn(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(t,e){var n=new ue(this.start,this.controlPoint1,this.controlPoint2,this.end),i=n.divideAt(t,e);return[new Kn(i[0]),new Kn(i[1])]},divideAtLength:function(t,e){var n=new ue(this.start,this.controlPoint1,this.controlPoint2,this.end),i=n.divideAtLength(t,e);return[new Kn(i[0]),new Kn(i[1])]},divideAtT:function(t){var e=new ue(this.start,this.controlPoint1,this.controlPoint2,this.end),n=e.divideAtT(t);return[new Kn(n[0]),new Kn(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.start,e=this.controlPoint1,n=this.controlPoint2,i=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(i))},round:function(t){return this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},serialize:function(){var t=this.controlPoint1,e=this.controlPoint2,n=this.end;return this.type+" "+t.x+" "+t.y+" "+e.x+" "+e.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Object.defineProperty(vP,"type",{configurable:!0,enumerable:!0,value:"C"});Kn.prototype=Nl(Ys,ue.prototype,vP);var _s=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof _s))return Vi(_s,t);if(e===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var i;if(t[0]instanceof It){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(t[0]instanceof ue){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new Z(+t[0],+t[1]),this;if(e<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" coordinates provided).");var r;for(i=[],n=0;n<e;n+=2)r=t.slice(n,n+2),n===0?i.push(Vi(_s,r)):i.push(Vi(un,r));return i}else{if(e===1)return this.end=new Z(t[0]),this;var s;for(i=[],n=0;n<e;n+=1)s=t[n],n===0?i.push(new _s(s)):i.push(new un(s));return i}},Ab={bbox:function(){return null},clone:function(){return new _s(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(t){return this.end.equals(t.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(Ab,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(Ab,"type",{configurable:!0,enumerable:!0,value:"M"});_s.prototype=Nl(Ys,Ab);var ko=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof ko))return Vi(ko,t);if(e>0)throw new Error("Closepath constructor expects no arguments.");return this},Ib={clone:function(){return new ko},divideAt:function(t){var e=new It(this.start,this.end),n=e.divideAt(t);return[n[1].isDifferentiable()?new un(n[0]):this.clone(),new un(n[1])]},divideAtLength:function(t){var e=new It(this.start,this.end),n=e.divideAtLength(t);return[n[1].isDifferentiable()?new un(n[0]):this.clone(),new un(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(Ib,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(Ib,"type",{configurable:!0,enumerable:!0,value:"Z"});ko.prototype=Nl(Ys,It.prototype,Ib);var A9=_t.segmentTypes={L:un,C:Kn,M:_s,Z:ko,z:ko};_t.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(A9).join("")+",.]*$");_t.isDataSupported=function(t){return typeof t!="string"?!1:this.regexSupportedData.test(t)};const I9={curveThroughPoints:function(t){return console.warn("deprecated"),new _t(ue.throughPoints(t)).serialize()},getCurveControlPoints:function(t){console.warn("deprecated");var e=[],n=[],i=t.length-1,r;if(i==1)return e[0]=new Z((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=new Z(2*e[0].x-t[0].x,2*e[0].y-t[0].y),[e,n];var s=[];for(r=1;r<i-1;r++)s[r]=4*t[r].x+2*t[r+1].x;s[0]=t[0].x+2*t[1].x,s[i-1]=(8*t[i-1].x+t[i].x)/2;var o=this.getFirstControlPoints(s);for(r=1;r<i-1;++r)s[r]=4*t[r].y+2*t[r+1].y;s[0]=t[0].y+2*t[1].y,s[i-1]=(8*t[i-1].y+t[i].y)/2;var a=this.getFirstControlPoints(s);for(r=0;r<i;r++)e.push(new Z(o[r],a[r])),r<i-1?n.push(new Z(2*t[r+1].x-o[r+1],2*t[r+1].y-a[r+1])):n.push(new Z((t[i].x+o[i-1])/2,(t[i].y+a[i-1])/2));return[e,n]},getCurveDivider:function(t,e,n,i){console.warn("deprecated");var r=new ue(t,e,n,i);return function(o){var a=r.divide(o);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(t){console.warn("deprecated");var e=t.length,n=[],i=[],r=2;n[0]=t[0]/r;for(var s=1;s<e;s++)i[s]=1/r,r=(s<e-1?4:3.5)-i[s],n[s]=(t[s]-n[s-1])/r;for(s=1;s<e;s++)n[e-s-1]-=i[e-s]*n[e-s];return n},getInversionSolver:function(t,e,n,i){console.warn("deprecated");var r=new ue(t,e,n,i);return function(o){return r.closestPointT(o)}}},Gn=function(t){if(!(this instanceof Gn))return new Gn(t);if(typeof t=="string")return new Gn.parse(t);this.points=Array.isArray(t)?t.map(Z):[]};Gn.parse=function(t){return new Gn(dP(t))};Gn.fromRect=function(t){return new Gn([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft()])};Gn.prototype=Nl(Ce.prototype,{type:$t.Polygon,clone:function(){return new Gn(gP(this.points))},convexHull:function(){return new Gn(pP(this.points))},lengthPoints:function(){const{start:t,end:e,points:n}=this;return n.length<=1||t.equals(e)?n:[...n,t.clone()]}});function yP(t,e,n,i){switch(t.type){case $t.Line:{switch(e.type){case $t.Line:return Ss(t,e)}break}case $t.Ellipse:{switch(e.type){case $t.Line:return wb(t,e);case $t.Ellipse:return bP(t,e)}break}case $t.Rect:{switch(e.type){case $t.Line:return AP(t,e);case $t.Ellipse:return IP(t,e);case $t.Rect:return Cb(t,e)}break}case $t.Polyline:{switch(e.type){case $t.Line:return gf(t,e);case $t.Ellipse:return xb(t,e);case $t.Rect:return wP(t,e);case $t.Polyline:return CP(t,e)}break}case $t.Polygon:{switch(e.type){case $t.Line:return _b(t,e);case $t.Ellipse:return pf(t,e);case $t.Rect:return xP(t,e);case $t.Polyline:return _P(t,e);case $t.Polygon:return SP(t,e)}break}case $t.Path:{switch(e.type){case $t.Line:return MP(t,e,n);case $t.Ellipse:return TP(t,e,n);case $t.Rect:return NP(t,e,n);case $t.Polyline:return Sb(t,e,n);case $t.Polygon:return mf(t,e,n);case $t.Path:return EP(t,e,n,i)}break}}switch(e.type){case $t.Ellipse:case $t.Rect:case $t.Polyline:case $t.Polygon:case $t.Path:return yP(e,t,i,n);default:throw Error(`The intersection for ${t} and ${e} could not be found.`)}}function Ss(t,e){const n=t.start.x,i=t.start.y,r=t.end.x,s=t.end.y,o=e.start.x,a=e.start.y,l=e.end.x,c=e.end.y,u=r-n,f=s-i,g=l-o,p=c-a,v=n-o,y=i-a,I=u*p-g*f,_=(u*y-f*v)/I,S=(g*y-p*v)/I;return _>=0&&_<=1&&S>=0&&S<=1}function wb(t,e){const n=t.a,i=t.b,r=t.x,s=t.y,o=e.start.x-r,a=e.end.x-r,l=e.start.y-s,c=e.end.y-s,u=n*n,f=i*i,g=a-o,p=c-l,v=g*g/u+p*p/f,y=2*o*g/u+2*l*p/f,I=o*o/u+l*l/f-1,_=y*y-4*v*I;if(_===0){const S=-y/2/v;return S>=0&&S<=1}else if(_>0){const S=Math.sqrt(_),O=(-y+S)/2/v,R=(-y-S)/2/v;return O>=0&&O<=1||R>=0&&R<=1}return!1}function bP(t,e){return w9(t,0,e,0)}function AP(t,e){const{start:n,end:i}=e,{x:r,y:s,width:o,height:a}=t;return n.x>r+o&&i.x>r+o||n.x<r&&i.x<r||n.y>s+a&&i.y>s+a||n.y<s&&i.y<s?!1:t.containsPoint(e.start)||t.containsPoint(e.end)?!0:Ss(t.topLine(),e)||Ss(t.rightLine(),e)||Ss(t.bottomLine(),e)||Ss(t.leftLine(),e)}function IP(t,e){return Cb(t,vt.fromEllipse(e))?pf(Gn.fromRect(t),e):!1}function Cb(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function gf(t,e){return PP(t,e,{interior:!1})}function xb(t,e){return kP(t,e,{interior:!1})}function wP(t,e){return DP(t,e,{interior:!1})}function CP(t,e){return vf(t,e,{interior:!1})}function _b(t,e){return PP(t,e,{interior:!0})}function pf(t,e){return kP(t,e,{interior:!0})}function xP(t,e){return DP(t,e,{interior:!0})}function _P(t,e){return vf(t,e,{interior:!0})}function SP(t,e){return Mb(t,e,{interior:!0})}function MP(t,e,n){return t.getSubpaths().some(i=>{const[r]=i.toPolylines(n),{type:s}=i.getSegment(-1);return s==="Z"?_b(r,e):gf(r,e)})}function TP(t,e,n){return t.getSubpaths().some(i=>{const[r]=i.toPolylines(n),{type:s}=i.getSegment(-1);return s==="Z"?pf(r,e):xb(r,e)})}function NP(t,e,n){return mf(t,Gn.fromRect(e),n)}function Sb(t,e,n){return OP(t,e,n,{interior:!1})}function mf(t,e,n){return OP(t,e,n,{interior:!0})}function EP(t,e,n,i){return t.getSubpaths().some(r=>{const[s]=r.toPolylines(n),{type:o}=r.getSegment(-1);return o==="Z"?mf(e,s,i):Sb(e,s,i)})}function PP(t,e,n={}){const{interior:i=!1}=n;let r;if(i){if(t.containsPoint(e.start))return!0;const{start:a,end:l,points:c}=t;r=l.equals(a)?c:[...c,a]}else r=t.points;const{length:s}=r,o=new It;for(let a=0;a<s-1;a++)if(o.start=r[a],o.end=r[a+1],Ss(e,o))return!0;return!1}function kP(t,e,n={}){const{start:i,end:r,points:s}=t;if(e.containsPoint(i))return!0;let o;const{interior:a=!1}=n;if(a){if(t.containsPoint(e.center()))return!0;o=r.equals(i)?s:[...s,i]}else o=s;const{length:l}=o,c=new It;for(let u=0;u<l-1;u++)if(c.start=o[u],c.end=o[u+1],wb(e,c))return!0;return!1}function DP(t,e,n){const i=Gn.fromRect(e);return Mb(t,i,n)}function OP(t,e,n,i){return t.getSubpaths().some(r=>{const[s]=r.toPolylines(n),{type:o}=r.getSegment(-1);return o==="Z"?Mb(e,s,i):vf(e,s,i)})}function vf(t,e,n={}){const{interior:i=!1}=n;let r;if(i){const{start:l}=e;if(t.containsPoint(l))return!0;r=t.clone().close()}else r=t;const s=e.points,{length:o}=s,a=new It;for(let l=0;l<o-1;l++)if(a.start=s[l],a.end=s[l+1],gf(r,a))return!0;return!1}function Mb(t,e,n){return e.containsPoint(t.start)||vf(t,e.clone().close(),n)}function w9(t,e,n,i){const{cos:r,sin:s}=Math,o=s(e),a=r(e),l=s(i),c=r(i),u=o*o,f=a*a,g=o*a,p=l*l,v=c*c,y=l*c,I=t.a*t.a,_=t.b*t.b,S=n.a*n.a,O=n.b*n.b,R=I*u+_*f,A=S*p+O*v,d=I*f+_*u,C=S*v+O*p;let N=2*(_-I)*g,k=2*(O-S)*y,z=-2*R*t.x-N*t.y,B=-2*A*n.x-k*n.y,U=-N*t.x-2*d*t.y,X=-k*n.x-2*C*n.y;const K=R*t.x*t.x+d*t.y*t.y+N*t.x*t.y-I*_,st=A*n.x*n.x+C*n.y*n.y+k*n.x*n.y-S*O;N=N/2,k=k/2,z=z/2,B=B/2,U=U/2,X=X/2;const ut=Tr([[R,N,z],[N,d,U],[z,U,K]]),dt=Tr([[A,k,B],[k,C,X],[B,X,st]]),wt=.33333333*(Tr([[A,N,z],[k,d,U],[B,U,K]])+Tr([[R,k,z],[N,C,U],[z,X,K]])+Tr([[R,N,B],[N,d,X],[z,U,st]])),mt=.33333333*(Tr([[R,k,B],[N,C,X],[z,X,st]])+Tr([[A,N,B],[k,d,X],[B,U,st]])+Tr([[A,k,z],[k,C,U],[B,X,K]])),Pt=_c([[ut,wt],[wt,mt]]),Ct=_c([[ut,mt],[wt,dt]]),J=_c([[wt,mt],[mt,dt]]);return!(_c([[2*Pt,Ct],[Ct,2*J]])>0&&(mt>0||wt>0))}function _c(t){return t[0][0]*t[1][1]-t[0][1]*t[1][0]}function Tr(t){return t[0][0]*t[1][1]*t[2][2]-t[0][0]*t[1][2]*t[2][1]-t[0][1]*t[1][0]*t[2][2]+t[0][1]*t[1][2]*t[2][0]+t[0][2]*t[1][0]*t[2][1]-t[0][2]*t[1][1]*t[2][0]}const C9=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:bP,ellipseWithLine:wb,exists:yP,lineWithLine:Ss,pathWithEllipse:TP,pathWithLine:MP,pathWithPath:EP,pathWithPolygon:mf,pathWithPolyline:Sb,pathWithRect:NP,polygonWithEllipse:pf,polygonWithLine:_b,polygonWithPolygon:SP,polygonWithPolyline:_P,polygonWithRect:xP,polylineWithEllipse:xb,polylineWithLine:gf,polylineWithPolyline:CP,polylineWithRect:wP,rectWithEllipse:IP,rectWithLine:AP,rectWithRect:Cb},Symbol.toStringTag,{value:"Module"})),x9=C9,LP=Object.freeze(Object.defineProperty({__proto__:null,Curve:ue,Ellipse:Tn,Line:It,Path:_t,Point:Z,Polygon:Gn,Polyline:Ce,Rect:vt,bezier:I9,ellipse:g9,intersection:x9,line:Rs,normalizeAngle:Hi,point:yu,random:ly,rect:y9,scale:c9,snapToGrid:Zs,toDeg:df,toRad:jn,types:$t},Symbol.toStringTag,{value:"Module"}));var Mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _9(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var RP={},Tb="1.13.6",mC=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},bf=Array.prototype,Nb=Object.prototype,vC=typeof Symbol<"u"?Symbol.prototype:null,S9=bf.push,El=bf.slice,ll=Nb.toString,M9=Nb.hasOwnProperty,zP=typeof ArrayBuffer<"u",T9=typeof DataView<"u",N9=Array.isArray,yC=Object.keys,bC=Object.create,AC=zP&&ArrayBuffer.isView,E9=isNaN,P9=isFinite,BP=!{toString:null}.propertyIsEnumerable("toString"),IC=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],k9=Math.pow(2,53)-1;function Pn(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var s=Array(e+1);for(r=0;r<e;r++)s[r]=arguments[r];return s[e]=i,t.apply(this,s)}}function Kr(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function jP(t){return t===null}function Eb(t){return t===void 0}function Pb(t){return t===!0||t===!1||ll.call(t)==="[object Boolean]"}function GP(t){return!!(t&&t.nodeType===1)}function An(t){var e="[object "+t+"]";return function(n){return ll.call(n)===e}}const Af=An("String"),kb=An("Number"),FP=An("Date"),ZP=An("RegExp"),WP=An("Error"),Db=An("Symbol"),Ob=An("ArrayBuffer");var UP=An("Function"),D9=mC.document&&mC.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof D9!="function"&&(UP=function(t){return typeof t=="function"||!1});const bn=UP,VP=An("Object");var YP=T9&&VP(new DataView(new ArrayBuffer(8))),Lb=typeof Map<"u"&&VP(new Map),O9=An("DataView");function L9(t){return t!=null&&bn(t.getInt8)&&Ob(t.buffer)}const cl=YP?L9:O9,Qr=N9||An("Array");function ts(t,e){return t!=null&&M9.call(t,e)}var fy=An("Arguments");(function(){fy(arguments)||(fy=function(t){return ts(t,"callee")})})();const If=fy;function HP(t){return!Db(t)&&P9(t)&&!isNaN(parseFloat(t))}function Rb(t){return kb(t)&&E9(t)}function zb(t){return function(){return t}}function XP(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=k9}}function $P(t){return function(e){return e==null?void 0:e[t]}}const bu=$P("byteLength"),R9=XP(bu);var z9=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function B9(t){return AC?AC(t)&&!cl(t):R9(t)&&z9.test(ll.call(t))}const Bb=zP?B9:zb(!1),Fn=$P("length");function j9(t){for(var e={},n=t.length,i=0;i<n;++i)e[t[i]]=!0;return{contains:function(r){return e[r]===!0},push:function(r){return e[r]=!0,t.push(r)}}}function qP(t,e){e=j9(e);var n=IC.length,i=t.constructor,r=bn(i)&&i.prototype||Nb,s="constructor";for(ts(t,s)&&!e.contains(s)&&e.push(s);n--;)s=IC[n],s in t&&t[s]!==r[s]&&!e.contains(s)&&e.push(s)}function rn(t){if(!Kr(t))return[];if(yC)return yC(t);var e=[];for(var n in t)ts(t,n)&&e.push(n);return BP&&qP(t,e),e}function JP(t){if(t==null)return!0;var e=Fn(t);return typeof e=="number"&&(Qr(t)||Af(t)||If(t))?e===0:Fn(rn(t))===0}function jb(t,e){var n=rn(e),i=n.length;if(t==null)return!i;for(var r=Object(t),s=0;s<i;s++){var o=n[s];if(e[o]!==r[o]||!(o in r))return!1}return!0}function pe(t){if(t instanceof pe)return t;if(!(this instanceof pe))return new pe(t);this._wrapped=t}pe.VERSION=Tb;pe.prototype.value=function(){return this._wrapped};pe.prototype.valueOf=pe.prototype.toJSON=pe.prototype.value;pe.prototype.toString=function(){return String(this._wrapped)};function wC(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,bu(t))}var CC="[object DataView]";function hy(t,e,n,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var r=typeof t;return r!=="function"&&r!=="object"&&typeof e!="object"?!1:KP(t,e,n,i)}function KP(t,e,n,i){t instanceof pe&&(t=t._wrapped),e instanceof pe&&(e=e._wrapped);var r=ll.call(t);if(r!==ll.call(e))return!1;if(YP&&r=="[object Object]"&&cl(t)){if(!cl(e))return!1;r=CC}switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return vC.valueOf.call(t)===vC.valueOf.call(e);case"[object ArrayBuffer]":case CC:return KP(wC(t),wC(e),n,i)}var s=r==="[object Array]";if(!s&&Bb(t)){var o=bu(t);if(o!==bu(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var a=t.constructor,l=e.constructor;if(a!==l&&!(bn(a)&&a instanceof a&&bn(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),s){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!hy(t[c],e[c],n,i))return!1}else{var u=rn(t),f;if(c=u.length,rn(e).length!==c)return!1;for(;c--;)if(f=u[c],!(ts(e,f)&&hy(t[f],e[f],n,i)))return!1}return n.pop(),i.pop(),!0}function QP(t,e){return hy(t,e)}function Zo(t){if(!Kr(t))return[];var e=[];for(var n in t)e.push(n);return BP&&qP(t,e),e}function Gb(t){var e=Fn(t);return function(n){if(n==null)return!1;var i=Zo(n);if(Fn(i))return!1;for(var r=0;r<e;r++)if(!bn(n[t[r]]))return!1;return t!==nk||!bn(n[Fb])}}var Fb="forEach",tk="has",Zb=["clear","delete"],ek=["get",tk,"set"],G9=Zb.concat(Fb,ek),nk=Zb.concat(ek),F9=["add"].concat(Zb,Fb,tk);const ik=Lb?Gb(G9):An("Map"),rk=Lb?Gb(nk):An("WeakMap"),sk=Lb?Gb(F9):An("Set"),ok=An("WeakSet");function Hs(t){for(var e=rn(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i}function ak(t){for(var e=rn(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i}function Wb(t){for(var e={},n=rn(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e}function ul(t){var e=[];for(var n in t)bn(t[n])&&e.push(n);return e.sort()}function Ub(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||n==null)return n;for(var r=1;r<i;r++)for(var s=arguments[r],o=t(s),a=o.length,l=0;l<a;l++){var c=o[l];(!e||n[c]===void 0)&&(n[c]=s[c])}return n}}const Vb=Ub(Zo),Do=Ub(rn),Yb=Ub(Zo,!0);function Z9(){return function(){}}function lk(t){if(!Kr(t))return{};if(bC)return bC(t);var e=Z9();e.prototype=t;var n=new e;return e.prototype=null,n}function ck(t,e){var n=lk(t);return e&&Do(n,e),n}function uk(t){return Kr(t)?Qr(t)?t.slice():Vb({},t):t}function fk(t,e){return e(t),t}function Hb(t){return Qr(t)?t:[t]}pe.toPath=Hb;function Pl(t){return pe.toPath(t)}function Xb(t,e){for(var n=e.length,i=0;i<n;i++){if(t==null)return;t=t[e[i]]}return n?t:void 0}function $b(t,e,n){var i=Xb(t,Pl(e));return Eb(i)?n:i}function hk(t,e){e=Pl(e);for(var n=e.length,i=0;i<n;i++){var r=e[i];if(!ts(t,r))return!1;t=t[r]}return!!n}function wf(t){return t}function Ws(t){return t=Do({},t),function(e){return jb(e,t)}}function Cf(t){return t=Pl(t),function(e){return Xb(e,t)}}function kl(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(i){return t.call(e,i)};case 3:return function(i,r,s){return t.call(e,i,r,s)};case 4:return function(i,r,s,o){return t.call(e,i,r,s,o)}}return function(){return t.apply(e,arguments)}}function dk(t,e,n){return t==null?wf:bn(t)?kl(t,e,n):Kr(t)&&!Qr(t)?Ws(t):Cf(t)}function xf(t,e){return dk(t,e,1/0)}pe.iteratee=xf;function Wn(t,e,n){return pe.iteratee!==xf?pe.iteratee(t,e):dk(t,e,n)}function gk(t,e,n){e=Wn(e,n);for(var i=rn(t),r=i.length,s={},o=0;o<r;o++){var a=i[o];s[a]=e(t[a],a,t)}return s}function qb(){}function pk(t){return t==null?qb:function(e){return $b(t,e)}}function mk(t,e,n){var i=Array(Math.max(0,t));e=kl(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i}function Au(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const Oo=Date.now||function(){return new Date().getTime()};function vk(t){var e=function(s){return t[s]},n="(?:"+rn(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(s){return s=s==null?"":""+s,i.test(s)?s.replace(r,e):s}}const yk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},bk=vk(yk),W9=Wb(yk),Ak=vk(W9),Ik=pe.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var fd=/(.)^/,U9={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V9=/\\|'|\r|\n|\u2028|\u2029/g;function Y9(t){return"\\"+U9[t]}var H9=/^\s*(\w|\$)+\s*$/;function wk(t,e,n){!e&&n&&(e=n),e=Yb({},e,pe.templateSettings);var i=RegExp([(e.escape||fd).source,(e.interpolate||fd).source,(e.evaluate||fd).source].join("|")+"|$","g"),r=0,s="__p+='";t.replace(i,function(c,u,f,g,p){return s+=t.slice(r,p).replace(V9,Y9),r=p+c.length,u?s+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:g&&(s+=`';
`+g+`
__p+='`),c}),s+=`';
`;var o=e.variable;if(o){if(!H9.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var a;try{a=new Function(o,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return a.call(this,c,pe)};return l.source="function("+o+`){
`+s+"}",l}function Ck(t,e,n){e=Pl(e);var i=e.length;if(!i)return bn(n)?n.call(t):n;for(var r=0;r<i;r++){var s=t==null?void 0:t[e[r]];s===void 0&&(s=n,r=i),t=bn(s)?s.call(t):s}return t}var X9=0;function xk(t){var e=++X9+"";return t?t+e:e}function _k(t){var e=pe(t);return e._chain=!0,e}function Sk(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var s=lk(t.prototype),o=t.apply(s,r);return Kr(o)?o:s}var Xs=Pn(function(t,e){var n=Xs.placeholder,i=function(){for(var r=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===n?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return Sk(t,i,this,this,o)};return i});Xs.placeholder=pe;const Jb=Pn(function(t,e,n){if(!bn(t))throw new TypeError("Bind must be called on a function");var i=Pn(function(r){return Sk(t,i,e,this,n.concat(r))});return i}),ai=XP(Fn);function $s(t,e,n,i){if(i=i||[],!e&&e!==0)e=1/0;else if(e<=0)return i.concat(t);for(var r=i.length,s=0,o=Fn(t);s<o;s++){var a=t[s];if(ai(a)&&(Qr(a)||If(a)))if(e>1)$s(a,e-1,n,i),r=i.length;else for(var l=0,c=a.length;l<c;)i[r++]=a[l++];else n||(i[r++]=a)}return i}const Mk=Pn(function(t,e){e=$s(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=Jb(t[i],t)}return t});function Tk(t,e){var n=function(i){var r=n.cache,s=""+(e?e.apply(this,arguments):i);return ts(r,s)||(r[s]=t.apply(this,arguments)),r[s]};return n.cache={},n}const Kb=Pn(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),Nk=Xs(Kb,pe,1);function Ek(t,e,n){var i,r,s,o,a=0;n||(n={});var l=function(){a=n.leading===!1?0:Oo(),i=null,o=t.apply(r,s),i||(r=s=null)},c=function(){var u=Oo();!a&&n.leading===!1&&(a=u);var f=e-(u-a);return r=this,s=arguments,f<=0||f>e?(i&&(clearTimeout(i),i=null),a=u,o=t.apply(r,s),i||(r=s=null)):!i&&n.trailing!==!1&&(i=setTimeout(l,f)),o};return c.cancel=function(){clearTimeout(i),a=0,i=r=s=null},c}function Pk(t,e,n){var i,r,s,o,a,l=function(){var u=Oo()-r;e>u?i=setTimeout(l,e-u):(i=null,n||(o=t.apply(a,s)),i||(s=a=null))},c=Pn(function(u){return a=this,s=u,r=Oo(),i||(i=setTimeout(l,e),n&&(o=t.apply(a,s))),o});return c.cancel=function(){clearTimeout(i),i=s=a=null},c}function kk(t,e){return Xs(e,t)}function _f(t){return function(){return!t.apply(this,arguments)}}function Dk(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function Ok(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Qb(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const Lk=Xs(Qb,2);function tA(t,e,n){e=Wn(e,n);for(var i=rn(t),r,s=0,o=i.length;s<o;s++)if(r=i[s],e(t[r],r,t))return r}function Rk(t){return function(e,n,i){n=Wn(n,i);for(var r=Fn(e),s=t>0?0:r-1;s>=0&&s<r;s+=t)if(n(e[s],s,e))return s;return-1}}const Sf=Rk(1),eA=Rk(-1);function nA(t,e,n,i){n=Wn(n,i,1);for(var r=n(e),s=0,o=Fn(t);s<o;){var a=Math.floor((s+o)/2);n(t[a])<r?s=a+1:o=a}return s}function zk(t,e,n){return function(i,r,s){var o=0,a=Fn(i);if(typeof s=="number")t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(i,r),i[s]===r?s:-1;if(r!==r)return s=e(El.call(i,o,a),Rb),s>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(i[s]===r)return s;return-1}}const iA=zk(1,Sf,nA),Bk=zk(-1,eA);function fl(t,e,n){var i=ai(t)?Sf:tA,r=i(t,e,n);if(r!==void 0&&r!==-1)return t[r]}function jk(t,e){return fl(t,Ws(e))}function ki(t,e,n){e=kl(e,n);var i,r;if(ai(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var s=rn(t);for(i=0,r=s.length;i<r;i++)e(t[s[i]],s[i],t)}return t}function gr(t,e,n){e=Wn(e,n);for(var i=!ai(t)&&rn(t),r=(i||t).length,s=Array(r),o=0;o<r;o++){var a=i?i[o]:o;s[o]=e(t[a],a,t)}return s}function Gk(t){var e=function(n,i,r,s){var o=!ai(n)&&rn(n),a=(o||n).length,l=t>0?0:a-1;for(s||(r=n[o?o[l]:l],l+=t);l>=0&&l<a;l+=t){var c=o?o[l]:l;r=i(r,n[c],c,n)}return r};return function(n,i,r,s){var o=arguments.length>=3;return e(n,kl(i,s,4),r,o)}}const bo=Gk(1),Iu=Gk(-1);function Xr(t,e,n){var i=[];return e=Wn(e,n),ki(t,function(r,s,o){e(r,s,o)&&i.push(r)}),i}function Fk(t,e,n){return Xr(t,_f(Wn(e)),n)}function wu(t,e,n){e=Wn(e,n);for(var i=!ai(t)&&rn(t),r=(i||t).length,s=0;s<r;s++){var o=i?i[s]:s;if(!e(t[o],o,t))return!1}return!0}function Cu(t,e,n){e=Wn(e,n);for(var i=!ai(t)&&rn(t),r=(i||t).length,s=0;s<r;s++){var o=i?i[s]:s;if(e(t[o],o,t))return!0}return!1}function vi(t,e,n,i){return ai(t)||(t=Hs(t)),(typeof n!="number"||i)&&(n=0),iA(t,e,n)>=0}const Zk=Pn(function(t,e,n){var i,r;return bn(e)?r=e:(e=Pl(e),i=e.slice(0,-1),e=e[e.length-1]),gr(t,function(s){var o=r;if(!o){if(i&&i.length&&(s=Xb(s,i)),s==null)return;o=s[e]}return o==null?o:o.apply(s,n)})});function Mf(t,e){return gr(t,Cf(e))}function Wk(t,e){return Xr(t,Ws(e))}function rA(t,e,n){var i=-1/0,r=-1/0,s,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=ai(t)?t:Hs(t);for(var a=0,l=t.length;a<l;a++)s=t[a],s!=null&&s>i&&(i=s)}else e=Wn(e,n),ki(t,function(c,u,f){o=e(c,u,f),(o>r||o===-1/0&&i===-1/0)&&(i=c,r=o)});return i}function Uk(t,e,n){var i=1/0,r=1/0,s,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=ai(t)?t:Hs(t);for(var a=0,l=t.length;a<l;a++)s=t[a],s!=null&&s<i&&(i=s)}else e=Wn(e,n),ki(t,function(c,u,f){o=e(c,u,f),(o<r||o===1/0&&i===1/0)&&(i=c,r=o)});return i}var $9=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function sA(t){return t?Qr(t)?El.call(t):Af(t)?t.match($9):ai(t)?gr(t,wf):Hs(t):[]}function oA(t,e,n){if(e==null||n)return ai(t)||(t=Hs(t)),t[Au(t.length-1)];var i=sA(t),r=Fn(i);e=Math.max(Math.min(e,r),0);for(var s=r-1,o=0;o<e;o++){var a=Au(o,s),l=i[o];i[o]=i[a],i[a]=l}return i.slice(0,e)}function Vk(t){return oA(t,1/0)}function Yk(t,e,n){var i=0;return e=Wn(e,n),Mf(gr(t,function(r,s,o){return{value:r,index:i++,criteria:e(r,s,o)}}).sort(function(r,s){var o=r.criteria,a=s.criteria;if(o!==a){if(o>a||o===void 0)return 1;if(o<a||a===void 0)return-1}return r.index-s.index}),"value")}function Tf(t,e){return function(n,i,r){var s=e?[[],[]]:{};return i=Wn(i,r),ki(n,function(o,a){var l=i(o,a,n);t(s,o,l)}),s}}const Hk=Tf(function(t,e,n){ts(t,n)?t[n].push(e):t[n]=[e]}),Xk=Tf(function(t,e,n){t[n]=e}),$k=Tf(function(t,e,n){ts(t,n)?t[n]++:t[n]=1}),qk=Tf(function(t,e,n){t[n?0:1].push(e)},!0);function Jk(t){return t==null?0:ai(t)?t.length:rn(t).length}function q9(t,e,n){return e in n}const aA=Pn(function(t,e){var n={},i=e[0];if(t==null)return n;bn(i)?(e.length>1&&(i=kl(i,e[1])),e=Zo(t)):(i=q9,e=$s(e,!1,!1),t=Object(t));for(var r=0,s=e.length;r<s;r++){var o=e[r],a=t[o];i(a,o,t)&&(n[o]=a)}return n}),Kk=Pn(function(t,e){var n=e[0],i;return bn(n)?(n=_f(n),e.length>1&&(i=e[1])):(e=gr($s(e,!1,!1),String),n=function(r,s){return!vi(e,s)}),aA(t,n,i)});function lA(t,e,n){return El.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function Ao(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:lA(t,t.length-e)}function zs(t,e,n){return El.call(t,e==null||n?1:e)}function Qk(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:zs(t,Math.max(0,t.length-e))}function tD(t){return Xr(t,Boolean)}function eD(t,e){return $s(t,e,!1)}const cA=Pn(function(t,e){return e=$s(e,!0,!0),Xr(t,function(n){return!vi(e,n)})}),nD=Pn(function(t,e){return cA(t,e)});function hl(t,e,n,i){Pb(e)||(i=n,n=e,e=!1),n!=null&&(n=Wn(n,i));for(var r=[],s=[],o=0,a=Fn(t);o<a;o++){var l=t[o],c=n?n(l,o,t):l;e&&!n?((!o||s!==c)&&r.push(l),s=c):n?vi(s,c)||(s.push(c),r.push(l)):vi(r,l)||r.push(l)}return r}const iD=Pn(function(t){return hl($s(t,!0,!0))});function rD(t){for(var e=[],n=arguments.length,i=0,r=Fn(t);i<r;i++){var s=t[i];if(!vi(e,s)){var o;for(o=1;o<n&&vi(arguments[o],s);o++);o===n&&e.push(s)}}return e}function dl(t){for(var e=t&&rA(t,Fn).length||0,n=Array(e),i=0;i<e;i++)n[i]=Mf(t,i);return n}const sD=Pn(dl);function oD(t,e){for(var n={},i=0,r=Fn(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n}function aD(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),s=0;s<i;s++,t+=n)r[s]=t;return r}function lD(t,e){if(e==null||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(El.call(t,i,i+=e));return n}function uA(t,e){return t._chain?pe(e).chain():e}function fA(t){return ki(ul(t),function(e){var n=pe[e]=t[e];pe.prototype[e]=function(){var i=[this._wrapped];return S9.apply(i,arguments),uA(this,n.apply(pe,i))}}),pe}ki(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=bf[t];pe.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),uA(this,n)}});ki(["concat","join","slice"],function(t){var e=bf[t];pe.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),uA(this,n)}});const J9=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Tb,after:Ok,all:wu,allKeys:Zo,any:Cu,assign:Do,before:Qb,bind:Jb,bindAll:Mk,chain:_k,chunk:lD,clone:uk,collect:gr,compact:tD,compose:Dk,constant:zb,contains:vi,countBy:$k,create:ck,debounce:Pk,default:pe,defaults:Yb,defer:Nk,delay:Kb,detect:fl,difference:cA,drop:zs,each:ki,escape:bk,every:wu,extend:Vb,extendOwn:Do,filter:Xr,find:fl,findIndex:Sf,findKey:tA,findLastIndex:eA,findWhere:jk,first:Ao,flatten:eD,foldl:bo,foldr:Iu,forEach:ki,functions:ul,get:$b,groupBy:Hk,has:hk,head:Ao,identity:wf,include:vi,includes:vi,indexBy:Xk,indexOf:iA,initial:lA,inject:bo,intersection:rD,invert:Wb,invoke:Zk,isArguments:If,isArray:Qr,isArrayBuffer:Ob,isBoolean:Pb,isDataView:cl,isDate:FP,isElement:GP,isEmpty:JP,isEqual:QP,isError:WP,isFinite:HP,isFunction:bn,isMap:ik,isMatch:jb,isNaN:Rb,isNull:jP,isNumber:kb,isObject:Kr,isRegExp:ZP,isSet:sk,isString:Af,isSymbol:Db,isTypedArray:Bb,isUndefined:Eb,isWeakMap:rk,isWeakSet:ok,iteratee:xf,keys:rn,last:Qk,lastIndexOf:Bk,map:gr,mapObject:gk,matcher:Ws,matches:Ws,max:rA,memoize:Tk,methods:ul,min:Uk,mixin:fA,negate:_f,noop:qb,now:Oo,object:oD,omit:Kk,once:Lk,pairs:ak,partial:Xs,partition:qk,pick:aA,pluck:Mf,property:Cf,propertyOf:pk,random:Au,range:aD,reduce:bo,reduceRight:Iu,reject:Fk,rest:zs,restArguments:Pn,result:Ck,sample:oA,select:Xr,shuffle:Vk,size:Jk,some:Cu,sortBy:Yk,sortedIndex:nA,tail:zs,take:Ao,tap:fk,template:wk,templateSettings:Ik,throttle:Ek,times:mk,toArray:sA,toPath:Hb,transpose:dl,unescape:Ak,union:iD,uniq:hl,unique:hl,uniqueId:xk,unzip:dl,values:Hs,where:Wk,without:nD,wrap:kk,zip:sD},Symbol.toStringTag,{value:"Module"}));var dy=fA(J9);dy._=dy;const K9=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Tb,after:Ok,all:wu,allKeys:Zo,any:Cu,assign:Do,before:Qb,bind:Jb,bindAll:Mk,chain:_k,chunk:lD,clone:uk,collect:gr,compact:tD,compose:Dk,constant:zb,contains:vi,countBy:$k,create:ck,debounce:Pk,default:dy,defaults:Yb,defer:Nk,delay:Kb,detect:fl,difference:cA,drop:zs,each:ki,escape:bk,every:wu,extend:Vb,extendOwn:Do,filter:Xr,find:fl,findIndex:Sf,findKey:tA,findLastIndex:eA,findWhere:jk,first:Ao,flatten:eD,foldl:bo,foldr:Iu,forEach:ki,functions:ul,get:$b,groupBy:Hk,has:hk,head:Ao,identity:wf,include:vi,includes:vi,indexBy:Xk,indexOf:iA,initial:lA,inject:bo,intersection:rD,invert:Wb,invoke:Zk,isArguments:If,isArray:Qr,isArrayBuffer:Ob,isBoolean:Pb,isDataView:cl,isDate:FP,isElement:GP,isEmpty:JP,isEqual:QP,isError:WP,isFinite:HP,isFunction:bn,isMap:ik,isMatch:jb,isNaN:Rb,isNull:jP,isNumber:kb,isObject:Kr,isRegExp:ZP,isSet:sk,isString:Af,isSymbol:Db,isTypedArray:Bb,isUndefined:Eb,isWeakMap:rk,isWeakSet:ok,iteratee:xf,keys:rn,last:Qk,lastIndexOf:Bk,map:gr,mapObject:gk,matcher:Ws,matches:Ws,max:rA,memoize:Tk,methods:ul,min:Uk,mixin:fA,negate:_f,noop:qb,now:Oo,object:oD,omit:Kk,once:Lk,pairs:ak,partial:Xs,partition:qk,pick:aA,pluck:Mf,property:Cf,propertyOf:pk,random:Au,range:aD,reduce:bo,reduceRight:Iu,reject:Fk,rest:zs,restArguments:Pn,result:Ck,sample:oA,select:Xr,shuffle:Vk,size:Jk,some:Cu,sortBy:Yk,sortedIndex:nA,tail:zs,take:Ao,tap:fk,template:wk,templateSettings:Ik,throttle:Ek,times:mk,toArray:sA,toPath:Hb,transpose:dl,unescape:Ak,union:iD,uniq:hl,unique:hl,uniqueId:xk,unzip:dl,values:Hs,where:Wk,without:nD,wrap:kk,zip:sD},Symbol.toStringTag,{value:"Module"})),Q9=_9(K9);var cD={exports:{}};/*!
 * jQuery JavaScript Library v3.6.4
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-03-08T15:28Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:Mi,function(e,n){var i=[],r=Object.getPrototypeOf,s=i.slice,o=i.flat?function(h){return i.flat.call(h)}:function(h){return i.concat.apply([],h)},a=i.push,l=i.indexOf,c={},u=c.toString,f=c.hasOwnProperty,g=f.toString,p=g.call(Object),v={},y=function(m){return typeof m=="function"&&typeof m.nodeType!="number"&&typeof m.item!="function"},I=function(m){return m!=null&&m===m.window},_=e.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function O(h,m,b){b=b||_;var w,M,T=b.createElement("script");if(T.text=h,m)for(w in S)M=m[w]||m.getAttribute&&m.getAttribute(w),M&&T.setAttribute(w,M);b.head.appendChild(T).parentNode.removeChild(T)}function R(h){return h==null?h+"":typeof h=="object"||typeof h=="function"?c[u.call(h)]||"object":typeof h}var A="3.6.4",d=function(h,m){return new d.fn.init(h,m)};d.fn=d.prototype={jquery:A,constructor:d,length:0,toArray:function(){return s.call(this)},get:function(h){return h==null?s.call(this):h<0?this[h+this.length]:this[h]},pushStack:function(h){var m=d.merge(this.constructor(),h);return m.prevObject=this,m},each:function(h){return d.each(this,h)},map:function(h){return this.pushStack(d.map(this,function(m,b){return h.call(m,b,m)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(h,m){return(m+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(h,m){return m%2}))},eq:function(h){var m=this.length,b=+h+(h<0?m:0);return this.pushStack(b>=0&&b<m?[this[b]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},d.extend=d.fn.extend=function(){var h,m,b,w,M,T,P=arguments[0]||{},W=1,j=arguments.length,H=!1;for(typeof P=="boolean"&&(H=P,P=arguments[W]||{},W++),typeof P!="object"&&!y(P)&&(P={}),W===j&&(P=this,W--);W<j;W++)if((h=arguments[W])!=null)for(m in h)w=h[m],!(m==="__proto__"||P===w)&&(H&&w&&(d.isPlainObject(w)||(M=Array.isArray(w)))?(b=P[m],M&&!Array.isArray(b)?T=[]:!M&&!d.isPlainObject(b)?T={}:T=b,M=!1,P[m]=d.extend(H,T,w)):w!==void 0&&(P[m]=w));return P},d.extend({expando:"jQuery"+(A+Math.random()).replace(/\D/g,""),isReady:!0,error:function(h){throw new Error(h)},noop:function(){},isPlainObject:function(h){var m,b;return!h||u.call(h)!=="[object Object]"?!1:(m=r(h),m?(b=f.call(m,"constructor")&&m.constructor,typeof b=="function"&&g.call(b)===p):!0)},isEmptyObject:function(h){var m;for(m in h)return!1;return!0},globalEval:function(h,m,b){O(h,{nonce:m&&m.nonce},b)},each:function(h,m){var b,w=0;if(C(h))for(b=h.length;w<b&&m.call(h[w],w,h[w])!==!1;w++);else for(w in h)if(m.call(h[w],w,h[w])===!1)break;return h},makeArray:function(h,m){var b=m||[];return h!=null&&(C(Object(h))?d.merge(b,typeof h=="string"?[h]:h):a.call(b,h)),b},inArray:function(h,m,b){return m==null?-1:l.call(m,h,b)},merge:function(h,m){for(var b=+m.length,w=0,M=h.length;w<b;w++)h[M++]=m[w];return h.length=M,h},grep:function(h,m,b){for(var w,M=[],T=0,P=h.length,W=!b;T<P;T++)w=!m(h[T],T),w!==W&&M.push(h[T]);return M},map:function(h,m,b){var w,M,T=0,P=[];if(C(h))for(w=h.length;T<w;T++)M=m(h[T],T,b),M!=null&&P.push(M);else for(T in h)M=m(h[T],T,b),M!=null&&P.push(M);return o(P)},guid:1,support:v}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=i[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(h,m){c["[object "+m+"]"]=m.toLowerCase()});function C(h){var m=!!h&&"length"in h&&h.length,b=R(h);return y(h)||I(h)?!1:b==="array"||m===0||typeof m=="number"&&m>0&&m-1 in h}var N=function(h){var m,b,w,M,T,P,W,j,H,et,gt,q,at,Et,Wt,St,qe,Ue,Un,be="sizzle"+1*new Date,Zt=h.document,Dn=0,oe=0,Le=ec(),ea=ec(),Kl=ec(),Vn=ec(),as=function(D,G){return D===G&&(gt=!0),0},ls={}.hasOwnProperty,On=[],_r=On.pop,ci=On.push,Sr=On.push,FI=On.slice,cs=function(D,G){for(var V=0,lt=D.length;V<lt;V++)if(D[V]===G)return V;return-1},bh="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",he="[\\x20\\t\\r\\n\\f]",us="(?:\\\\[\\da-fA-F]{1,6}"+he+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ZI="\\["+he+"*("+us+")(?:"+he+"*([*^$|!~]?=)"+he+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+us+"))|)"+he+"*\\]",Ah=":("+us+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ZI+")*)|.*)\\)|)",yR=new RegExp(he+"+","g"),Ql=new RegExp("^"+he+"+|((?:^|[^\\\\])(?:\\\\.)*)"+he+"+$","g"),bR=new RegExp("^"+he+"*,"+he+"*"),WI=new RegExp("^"+he+"*([>+~]|"+he+")"+he+"*"),AR=new RegExp(he+"|>"),IR=new RegExp(Ah),wR=new RegExp("^"+us+"$"),tc={ID:new RegExp("^#("+us+")"),CLASS:new RegExp("^\\.("+us+")"),TAG:new RegExp("^("+us+"|[*])"),ATTR:new RegExp("^"+ZI),PSEUDO:new RegExp("^"+Ah),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+he+"*(even|odd|(([+-]|)(\\d*)n|)"+he+"*(?:([+-]|)"+he+"*(\\d+)|))"+he+"*\\)|)","i"),bool:new RegExp("^(?:"+bh+")$","i"),needsContext:new RegExp("^"+he+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+he+"*((?:-\\d)?\\d*)"+he+"*\\)|)(?=[^-]|$)","i")},CR=/HTML$/i,xR=/^(?:input|select|textarea|button)$/i,_R=/^h\d$/i,na=/^[^{]+\{\s*\[native \w/,SR=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ih=/[+~]/,Ji=new RegExp("\\\\[\\da-fA-F]{1,6}"+he+"?|\\\\([^\\r\\n\\f])","g"),Ki=function(D,G){var V="0x"+D.slice(1)-65536;return G||(V<0?String.fromCharCode(V+65536):String.fromCharCode(V>>10|55296,V&1023|56320))},UI=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,VI=function(D,G){return G?D==="\0"?"":D.slice(0,-1)+"\\"+D.charCodeAt(D.length-1).toString(16)+" ":"\\"+D},YI=function(){q()},MR=ic(function(D){return D.disabled===!0&&D.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Sr.apply(On=FI.call(Zt.childNodes),Zt.childNodes),On[Zt.childNodes.length].nodeType}catch{Sr={apply:On.length?function(G,V){ci.apply(G,FI.call(V))}:function(G,V){for(var lt=G.length,Y=0;G[lt++]=V[Y++];);G.length=lt-1}}}function Ie(D,G,V,lt){var Y,ht,pt,yt,At,Lt,Dt,zt=G&&G.ownerDocument,te=G?G.nodeType:9;if(V=V||[],typeof D!="string"||!D||te!==1&&te!==9&&te!==11)return V;if(!lt&&(q(G),G=G||at,Wt)){if(te!==11&&(At=SR.exec(D)))if(Y=At[1]){if(te===9)if(pt=G.getElementById(Y)){if(pt.id===Y)return V.push(pt),V}else return V;else if(zt&&(pt=zt.getElementById(Y))&&Un(G,pt)&&pt.id===Y)return V.push(pt),V}else{if(At[2])return Sr.apply(V,G.getElementsByTagName(D)),V;if((Y=At[3])&&b.getElementsByClassName&&G.getElementsByClassName)return Sr.apply(V,G.getElementsByClassName(Y)),V}if(b.qsa&&!Vn[D+" "]&&(!St||!St.test(D))&&(te!==1||G.nodeName.toLowerCase()!=="object")){if(Dt=D,zt=G,te===1&&(AR.test(D)||WI.test(D))){for(zt=Ih.test(D)&&Ch(G.parentNode)||G,(zt!==G||!b.scope)&&((yt=G.getAttribute("id"))?yt=yt.replace(UI,VI):G.setAttribute("id",yt=be)),Lt=P(D),ht=Lt.length;ht--;)Lt[ht]=(yt?"#"+yt:":scope")+" "+nc(Lt[ht]);Dt=Lt.join(",")}try{return Sr.apply(V,zt.querySelectorAll(Dt)),V}catch{Vn(D,!0)}finally{yt===be&&G.removeAttribute("id")}}}return j(D.replace(Ql,"$1"),G,V,lt)}function ec(){var D=[];function G(V,lt){return D.push(V+" ")>w.cacheLength&&delete G[D.shift()],G[V+" "]=lt}return G}function xi(D){return D[be]=!0,D}function ui(D){var G=at.createElement("fieldset");try{return!!D(G)}catch{return!1}finally{G.parentNode&&G.parentNode.removeChild(G),G=null}}function wh(D,G){for(var V=D.split("|"),lt=V.length;lt--;)w.attrHandle[V[lt]]=G}function HI(D,G){var V=G&&D,lt=V&&D.nodeType===1&&G.nodeType===1&&D.sourceIndex-G.sourceIndex;if(lt)return lt;if(V){for(;V=V.nextSibling;)if(V===G)return-1}return D?1:-1}function TR(D){return function(G){var V=G.nodeName.toLowerCase();return V==="input"&&G.type===D}}function NR(D){return function(G){var V=G.nodeName.toLowerCase();return(V==="input"||V==="button")&&G.type===D}}function XI(D){return function(G){return"form"in G?G.parentNode&&G.disabled===!1?"label"in G?"label"in G.parentNode?G.parentNode.disabled===D:G.disabled===D:G.isDisabled===D||G.isDisabled!==!D&&MR(G)===D:G.disabled===D:"label"in G?G.disabled===D:!1}}function fs(D){return xi(function(G){return G=+G,xi(function(V,lt){for(var Y,ht=D([],V.length,G),pt=ht.length;pt--;)V[Y=ht[pt]]&&(V[Y]=!(lt[Y]=V[Y]))})})}function Ch(D){return D&&typeof D.getElementsByTagName<"u"&&D}b=Ie.support={},T=Ie.isXML=function(D){var G=D&&D.namespaceURI,V=D&&(D.ownerDocument||D).documentElement;return!CR.test(G||V&&V.nodeName||"HTML")},q=Ie.setDocument=function(D){var G,V,lt=D?D.ownerDocument||D:Zt;return lt==at||lt.nodeType!==9||!lt.documentElement||(at=lt,Et=at.documentElement,Wt=!T(at),Zt!=at&&(V=at.defaultView)&&V.top!==V&&(V.addEventListener?V.addEventListener("unload",YI,!1):V.attachEvent&&V.attachEvent("onunload",YI)),b.scope=ui(function(Y){return Et.appendChild(Y).appendChild(at.createElement("div")),typeof Y.querySelectorAll<"u"&&!Y.querySelectorAll(":scope fieldset div").length}),b.cssHas=ui(function(){try{return at.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),b.attributes=ui(function(Y){return Y.className="i",!Y.getAttribute("className")}),b.getElementsByTagName=ui(function(Y){return Y.appendChild(at.createComment("")),!Y.getElementsByTagName("*").length}),b.getElementsByClassName=na.test(at.getElementsByClassName),b.getById=ui(function(Y){return Et.appendChild(Y).id=be,!at.getElementsByName||!at.getElementsByName(be).length}),b.getById?(w.filter.ID=function(Y){var ht=Y.replace(Ji,Ki);return function(pt){return pt.getAttribute("id")===ht}},w.find.ID=function(Y,ht){if(typeof ht.getElementById<"u"&&Wt){var pt=ht.getElementById(Y);return pt?[pt]:[]}}):(w.filter.ID=function(Y){var ht=Y.replace(Ji,Ki);return function(pt){var yt=typeof pt.getAttributeNode<"u"&&pt.getAttributeNode("id");return yt&&yt.value===ht}},w.find.ID=function(Y,ht){if(typeof ht.getElementById<"u"&&Wt){var pt,yt,At,Lt=ht.getElementById(Y);if(Lt){if(pt=Lt.getAttributeNode("id"),pt&&pt.value===Y)return[Lt];for(At=ht.getElementsByName(Y),yt=0;Lt=At[yt++];)if(pt=Lt.getAttributeNode("id"),pt&&pt.value===Y)return[Lt]}return[]}}),w.find.TAG=b.getElementsByTagName?function(Y,ht){if(typeof ht.getElementsByTagName<"u")return ht.getElementsByTagName(Y);if(b.qsa)return ht.querySelectorAll(Y)}:function(Y,ht){var pt,yt=[],At=0,Lt=ht.getElementsByTagName(Y);if(Y==="*"){for(;pt=Lt[At++];)pt.nodeType===1&&yt.push(pt);return yt}return Lt},w.find.CLASS=b.getElementsByClassName&&function(Y,ht){if(typeof ht.getElementsByClassName<"u"&&Wt)return ht.getElementsByClassName(Y)},qe=[],St=[],(b.qsa=na.test(at.querySelectorAll))&&(ui(function(Y){var ht;Et.appendChild(Y).innerHTML="<a id='"+be+"'></a><select id='"+be+"-\r\\' msallowcapture=''><option selected=''></option></select>",Y.querySelectorAll("[msallowcapture^='']").length&&St.push("[*^$]="+he+`*(?:''|"")`),Y.querySelectorAll("[selected]").length||St.push("\\["+he+"*(?:value|"+bh+")"),Y.querySelectorAll("[id~="+be+"-]").length||St.push("~="),ht=at.createElement("input"),ht.setAttribute("name",""),Y.appendChild(ht),Y.querySelectorAll("[name='']").length||St.push("\\["+he+"*name"+he+"*="+he+`*(?:''|"")`),Y.querySelectorAll(":checked").length||St.push(":checked"),Y.querySelectorAll("a#"+be+"+*").length||St.push(".#.+[+~]"),Y.querySelectorAll("\\\f"),St.push("[\\r\\n\\f]")}),ui(function(Y){Y.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ht=at.createElement("input");ht.setAttribute("type","hidden"),Y.appendChild(ht).setAttribute("name","D"),Y.querySelectorAll("[name=d]").length&&St.push("name"+he+"*[*^$|!~]?="),Y.querySelectorAll(":enabled").length!==2&&St.push(":enabled",":disabled"),Et.appendChild(Y).disabled=!0,Y.querySelectorAll(":disabled").length!==2&&St.push(":enabled",":disabled"),Y.querySelectorAll("*,:x"),St.push(",.*:")})),(b.matchesSelector=na.test(Ue=Et.matches||Et.webkitMatchesSelector||Et.mozMatchesSelector||Et.oMatchesSelector||Et.msMatchesSelector))&&ui(function(Y){b.disconnectedMatch=Ue.call(Y,"*"),Ue.call(Y,"[s!='']:x"),qe.push("!=",Ah)}),b.cssHas||St.push(":has"),St=St.length&&new RegExp(St.join("|")),qe=qe.length&&new RegExp(qe.join("|")),G=na.test(Et.compareDocumentPosition),Un=G||na.test(Et.contains)?function(Y,ht){var pt=Y.nodeType===9&&Y.documentElement||Y,yt=ht&&ht.parentNode;return Y===yt||!!(yt&&yt.nodeType===1&&(pt.contains?pt.contains(yt):Y.compareDocumentPosition&&Y.compareDocumentPosition(yt)&16))}:function(Y,ht){if(ht){for(;ht=ht.parentNode;)if(ht===Y)return!0}return!1},as=G?function(Y,ht){if(Y===ht)return gt=!0,0;var pt=!Y.compareDocumentPosition-!ht.compareDocumentPosition;return pt||(pt=(Y.ownerDocument||Y)==(ht.ownerDocument||ht)?Y.compareDocumentPosition(ht):1,pt&1||!b.sortDetached&&ht.compareDocumentPosition(Y)===pt?Y==at||Y.ownerDocument==Zt&&Un(Zt,Y)?-1:ht==at||ht.ownerDocument==Zt&&Un(Zt,ht)?1:et?cs(et,Y)-cs(et,ht):0:pt&4?-1:1)}:function(Y,ht){if(Y===ht)return gt=!0,0;var pt,yt=0,At=Y.parentNode,Lt=ht.parentNode,Dt=[Y],zt=[ht];if(!At||!Lt)return Y==at?-1:ht==at?1:At?-1:Lt?1:et?cs(et,Y)-cs(et,ht):0;if(At===Lt)return HI(Y,ht);for(pt=Y;pt=pt.parentNode;)Dt.unshift(pt);for(pt=ht;pt=pt.parentNode;)zt.unshift(pt);for(;Dt[yt]===zt[yt];)yt++;return yt?HI(Dt[yt],zt[yt]):Dt[yt]==Zt?-1:zt[yt]==Zt?1:0}),at},Ie.matches=function(D,G){return Ie(D,null,null,G)},Ie.matchesSelector=function(D,G){if(q(D),b.matchesSelector&&Wt&&!Vn[G+" "]&&(!qe||!qe.test(G))&&(!St||!St.test(G)))try{var V=Ue.call(D,G);if(V||b.disconnectedMatch||D.document&&D.document.nodeType!==11)return V}catch{Vn(G,!0)}return Ie(G,at,null,[D]).length>0},Ie.contains=function(D,G){return(D.ownerDocument||D)!=at&&q(D),Un(D,G)},Ie.attr=function(D,G){(D.ownerDocument||D)!=at&&q(D);var V=w.attrHandle[G.toLowerCase()],lt=V&&ls.call(w.attrHandle,G.toLowerCase())?V(D,G,!Wt):void 0;return lt!==void 0?lt:b.attributes||!Wt?D.getAttribute(G):(lt=D.getAttributeNode(G))&&lt.specified?lt.value:null},Ie.escape=function(D){return(D+"").replace(UI,VI)},Ie.error=function(D){throw new Error("Syntax error, unrecognized expression: "+D)},Ie.uniqueSort=function(D){var G,V=[],lt=0,Y=0;if(gt=!b.detectDuplicates,et=!b.sortStable&&D.slice(0),D.sort(as),gt){for(;G=D[Y++];)G===D[Y]&&(lt=V.push(Y));for(;lt--;)D.splice(V[lt],1)}return et=null,D},M=Ie.getText=function(D){var G,V="",lt=0,Y=D.nodeType;if(Y){if(Y===1||Y===9||Y===11){if(typeof D.textContent=="string")return D.textContent;for(D=D.firstChild;D;D=D.nextSibling)V+=M(D)}else if(Y===3||Y===4)return D.nodeValue}else for(;G=D[lt++];)V+=M(G);return V},w=Ie.selectors={cacheLength:50,createPseudo:xi,match:tc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(D){return D[1]=D[1].replace(Ji,Ki),D[3]=(D[3]||D[4]||D[5]||"").replace(Ji,Ki),D[2]==="~="&&(D[3]=" "+D[3]+" "),D.slice(0,4)},CHILD:function(D){return D[1]=D[1].toLowerCase(),D[1].slice(0,3)==="nth"?(D[3]||Ie.error(D[0]),D[4]=+(D[4]?D[5]+(D[6]||1):2*(D[3]==="even"||D[3]==="odd")),D[5]=+(D[7]+D[8]||D[3]==="odd")):D[3]&&Ie.error(D[0]),D},PSEUDO:function(D){var G,V=!D[6]&&D[2];return tc.CHILD.test(D[0])?null:(D[3]?D[2]=D[4]||D[5]||"":V&&IR.test(V)&&(G=P(V,!0))&&(G=V.indexOf(")",V.length-G)-V.length)&&(D[0]=D[0].slice(0,G),D[2]=V.slice(0,G)),D.slice(0,3))}},filter:{TAG:function(D){var G=D.replace(Ji,Ki).toLowerCase();return D==="*"?function(){return!0}:function(V){return V.nodeName&&V.nodeName.toLowerCase()===G}},CLASS:function(D){var G=Le[D+" "];return G||(G=new RegExp("(^|"+he+")"+D+"("+he+"|$)"))&&Le(D,function(V){return G.test(typeof V.className=="string"&&V.className||typeof V.getAttribute<"u"&&V.getAttribute("class")||"")})},ATTR:function(D,G,V){return function(lt){var Y=Ie.attr(lt,D);return Y==null?G==="!=":G?(Y+="",G==="="?Y===V:G==="!="?Y!==V:G==="^="?V&&Y.indexOf(V)===0:G==="*="?V&&Y.indexOf(V)>-1:G==="$="?V&&Y.slice(-V.length)===V:G==="~="?(" "+Y.replace(yR," ")+" ").indexOf(V)>-1:G==="|="?Y===V||Y.slice(0,V.length+1)===V+"-":!1):!0}},CHILD:function(D,G,V,lt,Y){var ht=D.slice(0,3)!=="nth",pt=D.slice(-4)!=="last",yt=G==="of-type";return lt===1&&Y===0?function(At){return!!At.parentNode}:function(At,Lt,Dt){var zt,te,we,Rt,Je,dn,Yn=ht!==pt?"nextSibling":"previousSibling",Te=At.parentNode,ia=yt&&At.nodeName.toLowerCase(),ra=!Dt&&!yt,Hn=!1;if(Te){if(ht){for(;Yn;){for(Rt=At;Rt=Rt[Yn];)if(yt?Rt.nodeName.toLowerCase()===ia:Rt.nodeType===1)return!1;dn=Yn=D==="only"&&!dn&&"nextSibling"}return!0}if(dn=[pt?Te.firstChild:Te.lastChild],pt&&ra){for(Rt=Te,we=Rt[be]||(Rt[be]={}),te=we[Rt.uniqueID]||(we[Rt.uniqueID]={}),zt=te[D]||[],Je=zt[0]===Dn&&zt[1],Hn=Je&&zt[2],Rt=Je&&Te.childNodes[Je];Rt=++Je&&Rt&&Rt[Yn]||(Hn=Je=0)||dn.pop();)if(Rt.nodeType===1&&++Hn&&Rt===At){te[D]=[Dn,Je,Hn];break}}else if(ra&&(Rt=At,we=Rt[be]||(Rt[be]={}),te=we[Rt.uniqueID]||(we[Rt.uniqueID]={}),zt=te[D]||[],Je=zt[0]===Dn&&zt[1],Hn=Je),Hn===!1)for(;(Rt=++Je&&Rt&&Rt[Yn]||(Hn=Je=0)||dn.pop())&&!((yt?Rt.nodeName.toLowerCase()===ia:Rt.nodeType===1)&&++Hn&&(ra&&(we=Rt[be]||(Rt[be]={}),te=we[Rt.uniqueID]||(we[Rt.uniqueID]={}),te[D]=[Dn,Hn]),Rt===At)););return Hn-=Y,Hn===lt||Hn%lt===0&&Hn/lt>=0}}},PSEUDO:function(D,G){var V,lt=w.pseudos[D]||w.setFilters[D.toLowerCase()]||Ie.error("unsupported pseudo: "+D);return lt[be]?lt(G):lt.length>1?(V=[D,D,"",G],w.setFilters.hasOwnProperty(D.toLowerCase())?xi(function(Y,ht){for(var pt,yt=lt(Y,G),At=yt.length;At--;)pt=cs(Y,yt[At]),Y[pt]=!(ht[pt]=yt[At])}):function(Y){return lt(Y,0,V)}):lt}},pseudos:{not:xi(function(D){var G=[],V=[],lt=W(D.replace(Ql,"$1"));return lt[be]?xi(function(Y,ht,pt,yt){for(var At,Lt=lt(Y,null,yt,[]),Dt=Y.length;Dt--;)(At=Lt[Dt])&&(Y[Dt]=!(ht[Dt]=At))}):function(Y,ht,pt){return G[0]=Y,lt(G,null,pt,V),G[0]=null,!V.pop()}}),has:xi(function(D){return function(G){return Ie(D,G).length>0}}),contains:xi(function(D){return D=D.replace(Ji,Ki),function(G){return(G.textContent||M(G)).indexOf(D)>-1}}),lang:xi(function(D){return wR.test(D||"")||Ie.error("unsupported lang: "+D),D=D.replace(Ji,Ki).toLowerCase(),function(G){var V;do if(V=Wt?G.lang:G.getAttribute("xml:lang")||G.getAttribute("lang"))return V=V.toLowerCase(),V===D||V.indexOf(D+"-")===0;while((G=G.parentNode)&&G.nodeType===1);return!1}}),target:function(D){var G=h.location&&h.location.hash;return G&&G.slice(1)===D.id},root:function(D){return D===Et},focus:function(D){return D===at.activeElement&&(!at.hasFocus||at.hasFocus())&&!!(D.type||D.href||~D.tabIndex)},enabled:XI(!1),disabled:XI(!0),checked:function(D){var G=D.nodeName.toLowerCase();return G==="input"&&!!D.checked||G==="option"&&!!D.selected},selected:function(D){return D.parentNode&&D.parentNode.selectedIndex,D.selected===!0},empty:function(D){for(D=D.firstChild;D;D=D.nextSibling)if(D.nodeType<6)return!1;return!0},parent:function(D){return!w.pseudos.empty(D)},header:function(D){return _R.test(D.nodeName)},input:function(D){return xR.test(D.nodeName)},button:function(D){var G=D.nodeName.toLowerCase();return G==="input"&&D.type==="button"||G==="button"},text:function(D){var G;return D.nodeName.toLowerCase()==="input"&&D.type==="text"&&((G=D.getAttribute("type"))==null||G.toLowerCase()==="text")},first:fs(function(){return[0]}),last:fs(function(D,G){return[G-1]}),eq:fs(function(D,G,V){return[V<0?V+G:V]}),even:fs(function(D,G){for(var V=0;V<G;V+=2)D.push(V);return D}),odd:fs(function(D,G){for(var V=1;V<G;V+=2)D.push(V);return D}),lt:fs(function(D,G,V){for(var lt=V<0?V+G:V>G?G:V;--lt>=0;)D.push(lt);return D}),gt:fs(function(D,G,V){for(var lt=V<0?V+G:V;++lt<G;)D.push(lt);return D})}},w.pseudos.nth=w.pseudos.eq;for(m in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[m]=TR(m);for(m in{submit:!0,reset:!0})w.pseudos[m]=NR(m);function $I(){}$I.prototype=w.filters=w.pseudos,w.setFilters=new $I,P=Ie.tokenize=function(D,G){var V,lt,Y,ht,pt,yt,At,Lt=ea[D+" "];if(Lt)return G?0:Lt.slice(0);for(pt=D,yt=[],At=w.preFilter;pt;){(!V||(lt=bR.exec(pt)))&&(lt&&(pt=pt.slice(lt[0].length)||pt),yt.push(Y=[])),V=!1,(lt=WI.exec(pt))&&(V=lt.shift(),Y.push({value:V,type:lt[0].replace(Ql," ")}),pt=pt.slice(V.length));for(ht in w.filter)(lt=tc[ht].exec(pt))&&(!At[ht]||(lt=At[ht](lt)))&&(V=lt.shift(),Y.push({value:V,type:ht,matches:lt}),pt=pt.slice(V.length));if(!V)break}return G?pt.length:pt?Ie.error(D):ea(D,yt).slice(0)};function nc(D){for(var G=0,V=D.length,lt="";G<V;G++)lt+=D[G].value;return lt}function ic(D,G,V){var lt=G.dir,Y=G.next,ht=Y||lt,pt=V&&ht==="parentNode",yt=oe++;return G.first?function(At,Lt,Dt){for(;At=At[lt];)if(At.nodeType===1||pt)return D(At,Lt,Dt);return!1}:function(At,Lt,Dt){var zt,te,we,Rt=[Dn,yt];if(Dt){for(;At=At[lt];)if((At.nodeType===1||pt)&&D(At,Lt,Dt))return!0}else for(;At=At[lt];)if(At.nodeType===1||pt)if(we=At[be]||(At[be]={}),te=we[At.uniqueID]||(we[At.uniqueID]={}),Y&&Y===At.nodeName.toLowerCase())At=At[lt]||At;else{if((zt=te[ht])&&zt[0]===Dn&&zt[1]===yt)return Rt[2]=zt[2];if(te[ht]=Rt,Rt[2]=D(At,Lt,Dt))return!0}return!1}}function xh(D){return D.length>1?function(G,V,lt){for(var Y=D.length;Y--;)if(!D[Y](G,V,lt))return!1;return!0}:D[0]}function ER(D,G,V){for(var lt=0,Y=G.length;lt<Y;lt++)Ie(D,G[lt],V);return V}function rc(D,G,V,lt,Y){for(var ht,pt=[],yt=0,At=D.length,Lt=G!=null;yt<At;yt++)(ht=D[yt])&&(!V||V(ht,lt,Y))&&(pt.push(ht),Lt&&G.push(yt));return pt}function _h(D,G,V,lt,Y,ht){return lt&&!lt[be]&&(lt=_h(lt)),Y&&!Y[be]&&(Y=_h(Y,ht)),xi(function(pt,yt,At,Lt){var Dt,zt,te,we=[],Rt=[],Je=yt.length,dn=pt||ER(G||"*",At.nodeType?[At]:At,[]),Yn=D&&(pt||!G)?rc(dn,we,D,At,Lt):dn,Te=V?Y||(pt?D:Je||lt)?[]:yt:Yn;if(V&&V(Yn,Te,At,Lt),lt)for(Dt=rc(Te,Rt),lt(Dt,[],At,Lt),zt=Dt.length;zt--;)(te=Dt[zt])&&(Te[Rt[zt]]=!(Yn[Rt[zt]]=te));if(pt){if(Y||D){if(Y){for(Dt=[],zt=Te.length;zt--;)(te=Te[zt])&&Dt.push(Yn[zt]=te);Y(null,Te=[],Dt,Lt)}for(zt=Te.length;zt--;)(te=Te[zt])&&(Dt=Y?cs(pt,te):we[zt])>-1&&(pt[Dt]=!(yt[Dt]=te))}}else Te=rc(Te===yt?Te.splice(Je,Te.length):Te),Y?Y(null,yt,Te,Lt):Sr.apply(yt,Te)})}function Sh(D){for(var G,V,lt,Y=D.length,ht=w.relative[D[0].type],pt=ht||w.relative[" "],yt=ht?1:0,At=ic(function(zt){return zt===G},pt,!0),Lt=ic(function(zt){return cs(G,zt)>-1},pt,!0),Dt=[function(zt,te,we){var Rt=!ht&&(we||te!==H)||((G=te).nodeType?At(zt,te,we):Lt(zt,te,we));return G=null,Rt}];yt<Y;yt++)if(V=w.relative[D[yt].type])Dt=[ic(xh(Dt),V)];else{if(V=w.filter[D[yt].type].apply(null,D[yt].matches),V[be]){for(lt=++yt;lt<Y&&!w.relative[D[lt].type];lt++);return _h(yt>1&&xh(Dt),yt>1&&nc(D.slice(0,yt-1).concat({value:D[yt-2].type===" "?"*":""})).replace(Ql,"$1"),V,yt<lt&&Sh(D.slice(yt,lt)),lt<Y&&Sh(D=D.slice(lt)),lt<Y&&nc(D))}Dt.push(V)}return xh(Dt)}function PR(D,G){var V=G.length>0,lt=D.length>0,Y=function(ht,pt,yt,At,Lt){var Dt,zt,te,we=0,Rt="0",Je=ht&&[],dn=[],Yn=H,Te=ht||lt&&w.find.TAG("*",Lt),ia=Dn+=Yn==null?1:Math.random()||.1,ra=Te.length;for(Lt&&(H=pt==at||pt||Lt);Rt!==ra&&(Dt=Te[Rt])!=null;Rt++){if(lt&&Dt){for(zt=0,!pt&&Dt.ownerDocument!=at&&(q(Dt),yt=!Wt);te=D[zt++];)if(te(Dt,pt||at,yt)){At.push(Dt);break}Lt&&(Dn=ia)}V&&((Dt=!te&&Dt)&&we--,ht&&Je.push(Dt))}if(we+=Rt,V&&Rt!==we){for(zt=0;te=G[zt++];)te(Je,dn,pt,yt);if(ht){if(we>0)for(;Rt--;)Je[Rt]||dn[Rt]||(dn[Rt]=_r.call(At));dn=rc(dn)}Sr.apply(At,dn),Lt&&!ht&&dn.length>0&&we+G.length>1&&Ie.uniqueSort(At)}return Lt&&(Dn=ia,H=Yn),Je};return V?xi(Y):Y}return W=Ie.compile=function(D,G){var V,lt=[],Y=[],ht=Kl[D+" "];if(!ht){for(G||(G=P(D)),V=G.length;V--;)ht=Sh(G[V]),ht[be]?lt.push(ht):Y.push(ht);ht=Kl(D,PR(Y,lt)),ht.selector=D}return ht},j=Ie.select=function(D,G,V,lt){var Y,ht,pt,yt,At,Lt=typeof D=="function"&&D,Dt=!lt&&P(D=Lt.selector||D);if(V=V||[],Dt.length===1){if(ht=Dt[0]=Dt[0].slice(0),ht.length>2&&(pt=ht[0]).type==="ID"&&G.nodeType===9&&Wt&&w.relative[ht[1].type]){if(G=(w.find.ID(pt.matches[0].replace(Ji,Ki),G)||[])[0],G)Lt&&(G=G.parentNode);else return V;D=D.slice(ht.shift().value.length)}for(Y=tc.needsContext.test(D)?0:ht.length;Y--&&(pt=ht[Y],!w.relative[yt=pt.type]);)if((At=w.find[yt])&&(lt=At(pt.matches[0].replace(Ji,Ki),Ih.test(ht[0].type)&&Ch(G.parentNode)||G))){if(ht.splice(Y,1),D=lt.length&&nc(ht),!D)return Sr.apply(V,lt),V;break}}return(Lt||W(D,Dt))(lt,G,!Wt,V,!G||Ih.test(D)&&Ch(G.parentNode)||G),V},b.sortStable=be.split("").sort(as).join("")===be,b.detectDuplicates=!!gt,q(),b.sortDetached=ui(function(D){return D.compareDocumentPosition(at.createElement("fieldset"))&1}),ui(function(D){return D.innerHTML="<a href='#'></a>",D.firstChild.getAttribute("href")==="#"})||wh("type|href|height|width",function(D,G,V){if(!V)return D.getAttribute(G,G.toLowerCase()==="type"?1:2)}),(!b.attributes||!ui(function(D){return D.innerHTML="<input/>",D.firstChild.setAttribute("value",""),D.firstChild.getAttribute("value")===""}))&&wh("value",function(D,G,V){if(!V&&D.nodeName.toLowerCase()==="input")return D.defaultValue}),ui(function(D){return D.getAttribute("disabled")==null})||wh(bh,function(D,G,V){var lt;if(!V)return D[G]===!0?G.toLowerCase():(lt=D.getAttributeNode(G))&&lt.specified?lt.value:null}),Ie}(e);d.find=N,d.expr=N.selectors,d.expr[":"]=d.expr.pseudos,d.uniqueSort=d.unique=N.uniqueSort,d.text=N.getText,d.isXMLDoc=N.isXML,d.contains=N.contains,d.escapeSelector=N.escape;var k=function(h,m,b){for(var w=[],M=b!==void 0;(h=h[m])&&h.nodeType!==9;)if(h.nodeType===1){if(M&&d(h).is(b))break;w.push(h)}return w},z=function(h,m){for(var b=[];h;h=h.nextSibling)h.nodeType===1&&h!==m&&b.push(h);return b},B=d.expr.match.needsContext;function U(h,m){return h.nodeName&&h.nodeName.toLowerCase()===m.toLowerCase()}var X=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function K(h,m,b){return y(m)?d.grep(h,function(w,M){return!!m.call(w,M,w)!==b}):m.nodeType?d.grep(h,function(w){return w===m!==b}):typeof m!="string"?d.grep(h,function(w){return l.call(m,w)>-1!==b}):d.filter(m,h,b)}d.filter=function(h,m,b){var w=m[0];return b&&(h=":not("+h+")"),m.length===1&&w.nodeType===1?d.find.matchesSelector(w,h)?[w]:[]:d.find.matches(h,d.grep(m,function(M){return M.nodeType===1}))},d.fn.extend({find:function(h){var m,b,w=this.length,M=this;if(typeof h!="string")return this.pushStack(d(h).filter(function(){for(m=0;m<w;m++)if(d.contains(M[m],this))return!0}));for(b=this.pushStack([]),m=0;m<w;m++)d.find(h,M[m],b);return w>1?d.uniqueSort(b):b},filter:function(h){return this.pushStack(K(this,h||[],!1))},not:function(h){return this.pushStack(K(this,h||[],!0))},is:function(h){return!!K(this,typeof h=="string"&&B.test(h)?d(h):h||[],!1).length}});var st,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,dt=d.fn.init=function(h,m,b){var w,M;if(!h)return this;if(b=b||st,typeof h=="string")if(h[0]==="<"&&h[h.length-1]===">"&&h.length>=3?w=[null,h,null]:w=ut.exec(h),w&&(w[1]||!m))if(w[1]){if(m=m instanceof d?m[0]:m,d.merge(this,d.parseHTML(w[1],m&&m.nodeType?m.ownerDocument||m:_,!0)),X.test(w[1])&&d.isPlainObject(m))for(w in m)y(this[w])?this[w](m[w]):this.attr(w,m[w]);return this}else return M=_.getElementById(w[2]),M&&(this[0]=M,this.length=1),this;else return!m||m.jquery?(m||b).find(h):this.constructor(m).find(h);else{if(h.nodeType)return this[0]=h,this.length=1,this;if(y(h))return b.ready!==void 0?b.ready(h):h(d)}return d.makeArray(h,this)};dt.prototype=d.fn,st=d(_);var wt=/^(?:parents|prev(?:Until|All))/,mt={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(h){var m=d(h,this),b=m.length;return this.filter(function(){for(var w=0;w<b;w++)if(d.contains(this,m[w]))return!0})},closest:function(h,m){var b,w=0,M=this.length,T=[],P=typeof h!="string"&&d(h);if(!B.test(h)){for(;w<M;w++)for(b=this[w];b&&b!==m;b=b.parentNode)if(b.nodeType<11&&(P?P.index(b)>-1:b.nodeType===1&&d.find.matchesSelector(b,h))){T.push(b);break}}return this.pushStack(T.length>1?d.uniqueSort(T):T)},index:function(h){return h?typeof h=="string"?l.call(d(h),this[0]):l.call(this,h.jquery?h[0]:h):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(h,m){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(h,m))))},addBack:function(h){return this.add(h==null?this.prevObject:this.prevObject.filter(h))}});function Pt(h,m){for(;(h=h[m])&&h.nodeType!==1;);return h}d.each({parent:function(h){var m=h.parentNode;return m&&m.nodeType!==11?m:null},parents:function(h){return k(h,"parentNode")},parentsUntil:function(h,m,b){return k(h,"parentNode",b)},next:function(h){return Pt(h,"nextSibling")},prev:function(h){return Pt(h,"previousSibling")},nextAll:function(h){return k(h,"nextSibling")},prevAll:function(h){return k(h,"previousSibling")},nextUntil:function(h,m,b){return k(h,"nextSibling",b)},prevUntil:function(h,m,b){return k(h,"previousSibling",b)},siblings:function(h){return z((h.parentNode||{}).firstChild,h)},children:function(h){return z(h.firstChild)},contents:function(h){return h.contentDocument!=null&&r(h.contentDocument)?h.contentDocument:(U(h,"template")&&(h=h.content||h),d.merge([],h.childNodes))}},function(h,m){d.fn[h]=function(b,w){var M=d.map(this,m,b);return h.slice(-5)!=="Until"&&(w=b),w&&typeof w=="string"&&(M=d.filter(w,M)),this.length>1&&(mt[h]||d.uniqueSort(M),wt.test(h)&&M.reverse()),this.pushStack(M)}});var Ct=/[^\x20\t\r\n\f]+/g;function J(h){var m={};return d.each(h.match(Ct)||[],function(b,w){m[w]=!0}),m}d.Callbacks=function(h){h=typeof h=="string"?J(h):d.extend({},h);var m,b,w,M,T=[],P=[],W=-1,j=function(){for(M=M||h.once,w=m=!0;P.length;W=-1)for(b=P.shift();++W<T.length;)T[W].apply(b[0],b[1])===!1&&h.stopOnFalse&&(W=T.length,b=!1);h.memory||(b=!1),m=!1,M&&(b?T=[]:T="")},H={add:function(){return T&&(b&&!m&&(W=T.length-1,P.push(b)),function et(gt){d.each(gt,function(q,at){y(at)?(!h.unique||!H.has(at))&&T.push(at):at&&at.length&&R(at)!=="string"&&et(at)})}(arguments),b&&!m&&j()),this},remove:function(){return d.each(arguments,function(et,gt){for(var q;(q=d.inArray(gt,T,q))>-1;)T.splice(q,1),q<=W&&W--}),this},has:function(et){return et?d.inArray(et,T)>-1:T.length>0},empty:function(){return T&&(T=[]),this},disable:function(){return M=P=[],T=b="",this},disabled:function(){return!T},lock:function(){return M=P=[],!b&&!m&&(T=b=""),this},locked:function(){return!!M},fireWith:function(et,gt){return M||(gt=gt||[],gt=[et,gt.slice?gt.slice():gt],P.push(gt),m||j()),this},fire:function(){return H.fireWith(this,arguments),this},fired:function(){return!!w}};return H};function Q(h){return h}function tt(h){throw h}function nt(h,m,b,w){var M;try{h&&y(M=h.promise)?M.call(h).done(m).fail(b):h&&y(M=h.then)?M.call(h,m,b):m.apply(void 0,[h].slice(w))}catch(T){b.apply(void 0,[T])}}d.extend({Deferred:function(h){var m=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],b="pending",w={state:function(){return b},always:function(){return M.done(arguments).fail(arguments),this},catch:function(T){return w.then(null,T)},pipe:function(){var T=arguments;return d.Deferred(function(P){d.each(m,function(W,j){var H=y(T[j[4]])&&T[j[4]];M[j[1]](function(){var et=H&&H.apply(this,arguments);et&&y(et.promise)?et.promise().progress(P.notify).done(P.resolve).fail(P.reject):P[j[0]+"With"](this,H?[et]:arguments)})}),T=null}).promise()},then:function(T,P,W){var j=0;function H(et,gt,q,at){return function(){var Et=this,Wt=arguments,St=function(){var Ue,Un;if(!(et<j)){if(Ue=q.apply(Et,Wt),Ue===gt.promise())throw new TypeError("Thenable self-resolution");Un=Ue&&(typeof Ue=="object"||typeof Ue=="function")&&Ue.then,y(Un)?at?Un.call(Ue,H(j,gt,Q,at),H(j,gt,tt,at)):(j++,Un.call(Ue,H(j,gt,Q,at),H(j,gt,tt,at),H(j,gt,Q,gt.notifyWith))):(q!==Q&&(Et=void 0,Wt=[Ue]),(at||gt.resolveWith)(Et,Wt))}},qe=at?St:function(){try{St()}catch(Ue){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Ue,qe.stackTrace),et+1>=j&&(q!==tt&&(Et=void 0,Wt=[Ue]),gt.rejectWith(Et,Wt))}};et?qe():(d.Deferred.getStackHook&&(qe.stackTrace=d.Deferred.getStackHook()),e.setTimeout(qe))}}return d.Deferred(function(et){m[0][3].add(H(0,et,y(W)?W:Q,et.notifyWith)),m[1][3].add(H(0,et,y(T)?T:Q)),m[2][3].add(H(0,et,y(P)?P:tt))}).promise()},promise:function(T){return T!=null?d.extend(T,w):w}},M={};return d.each(m,function(T,P){var W=P[2],j=P[5];w[P[1]]=W.add,j&&W.add(function(){b=j},m[3-T][2].disable,m[3-T][3].disable,m[0][2].lock,m[0][3].lock),W.add(P[3].fire),M[P[0]]=function(){return M[P[0]+"With"](this===M?void 0:this,arguments),this},M[P[0]+"With"]=W.fireWith}),w.promise(M),h&&h.call(M,M),M},when:function(h){var m=arguments.length,b=m,w=Array(b),M=s.call(arguments),T=d.Deferred(),P=function(W){return function(j){w[W]=this,M[W]=arguments.length>1?s.call(arguments):j,--m||T.resolveWith(w,M)}};if(m<=1&&(nt(h,T.done(P(b)).resolve,T.reject,!m),T.state()==="pending"||y(M[b]&&M[b].then)))return T.then();for(;b--;)nt(M[b],P(b),T.reject);return T.promise()}});var Gt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(h,m){e.console&&e.console.warn&&h&&Gt.test(h.name)&&e.console.warn("jQuery.Deferred exception: "+h.message,h.stack,m)},d.readyException=function(h){e.setTimeout(function(){throw h})};var kt=d.Deferred();d.fn.ready=function(h){return kt.then(h).catch(function(m){d.readyException(m)}),this},d.extend({isReady:!1,readyWait:1,ready:function(h){(h===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(h!==!0&&--d.readyWait>0)&&kt.resolveWith(_,[d]))}}),d.ready.then=kt.then;function Ht(){_.removeEventListener("DOMContentLoaded",Ht),e.removeEventListener("load",Ht),d.ready()}_.readyState==="complete"||_.readyState!=="loading"&&!_.documentElement.doScroll?e.setTimeout(d.ready):(_.addEventListener("DOMContentLoaded",Ht),e.addEventListener("load",Ht));var Tt=function(h,m,b,w,M,T,P){var W=0,j=h.length,H=b==null;if(R(b)==="object"){M=!0;for(W in b)Tt(h,m,W,b[W],!0,T,P)}else if(w!==void 0&&(M=!0,y(w)||(P=!0),H&&(P?(m.call(h,w),m=null):(H=m,m=function(et,gt,q){return H.call(d(et),q)})),m))for(;W<j;W++)m(h[W],b,P?w:w.call(h[W],W,m(h[W],b)));return M?h:H?m.call(h):j?m(h[0],b):T},ne=/^-ms-/,Ot=/-([a-z])/g;function ot(h,m){return m.toUpperCase()}function rt(h){return h.replace(ne,"ms-").replace(Ot,ot)}var x=function(h){return h.nodeType===1||h.nodeType===9||!+h.nodeType};function E(){this.expando=d.expando+E.uid++}E.uid=1,E.prototype={cache:function(h){var m=h[this.expando];return m||(m={},x(h)&&(h.nodeType?h[this.expando]=m:Object.defineProperty(h,this.expando,{value:m,configurable:!0}))),m},set:function(h,m,b){var w,M=this.cache(h);if(typeof m=="string")M[rt(m)]=b;else for(w in m)M[rt(w)]=m[w];return M},get:function(h,m){return m===void 0?this.cache(h):h[this.expando]&&h[this.expando][rt(m)]},access:function(h,m,b){return m===void 0||m&&typeof m=="string"&&b===void 0?this.get(h,m):(this.set(h,m,b),b!==void 0?b:m)},remove:function(h,m){var b,w=h[this.expando];if(w!==void 0){if(m!==void 0)for(Array.isArray(m)?m=m.map(rt):(m=rt(m),m=m in w?[m]:m.match(Ct)||[]),b=m.length;b--;)delete w[m[b]];(m===void 0||d.isEmptyObject(w))&&(h.nodeType?h[this.expando]=void 0:delete h[this.expando])}},hasData:function(h){var m=h[this.expando];return m!==void 0&&!d.isEmptyObject(m)}};var L=new E,F=new E,it=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ct=/[A-Z]/g;function xt(h){return h==="true"?!0:h==="false"?!1:h==="null"?null:h===+h+""?+h:it.test(h)?JSON.parse(h):h}function Ft(h,m,b){var w;if(b===void 0&&h.nodeType===1)if(w="data-"+m.replace(ct,"-$&").toLowerCase(),b=h.getAttribute(w),typeof b=="string"){try{b=xt(b)}catch{}F.set(h,m,b)}else b=void 0;return b}d.extend({hasData:function(h){return F.hasData(h)||L.hasData(h)},data:function(h,m,b){return F.access(h,m,b)},removeData:function(h,m){F.remove(h,m)},_data:function(h,m,b){return L.access(h,m,b)},_removeData:function(h,m){L.remove(h,m)}}),d.fn.extend({data:function(h,m){var b,w,M,T=this[0],P=T&&T.attributes;if(h===void 0){if(this.length&&(M=F.get(T),T.nodeType===1&&!L.get(T,"hasDataAttrs"))){for(b=P.length;b--;)P[b]&&(w=P[b].name,w.indexOf("data-")===0&&(w=rt(w.slice(5)),Ft(T,w,M[w])));L.set(T,"hasDataAttrs",!0)}return M}return typeof h=="object"?this.each(function(){F.set(this,h)}):Tt(this,function(W){var j;if(T&&W===void 0)return j=F.get(T,h),j!==void 0||(j=Ft(T,h),j!==void 0)?j:void 0;this.each(function(){F.set(this,h,W)})},null,m,arguments.length>1,null,!0)},removeData:function(h){return this.each(function(){F.remove(this,h)})}}),d.extend({queue:function(h,m,b){var w;if(h)return m=(m||"fx")+"queue",w=L.get(h,m),b&&(!w||Array.isArray(b)?w=L.access(h,m,d.makeArray(b)):w.push(b)),w||[]},dequeue:function(h,m){m=m||"fx";var b=d.queue(h,m),w=b.length,M=b.shift(),T=d._queueHooks(h,m),P=function(){d.dequeue(h,m)};M==="inprogress"&&(M=b.shift(),w--),M&&(m==="fx"&&b.unshift("inprogress"),delete T.stop,M.call(h,P,T)),!w&&T&&T.empty.fire()},_queueHooks:function(h,m){var b=m+"queueHooks";return L.get(h,b)||L.access(h,b,{empty:d.Callbacks("once memory").add(function(){L.remove(h,[m+"queue",b])})})}}),d.fn.extend({queue:function(h,m){var b=2;return typeof h!="string"&&(m=h,h="fx",b--),arguments.length<b?d.queue(this[0],h):m===void 0?this:this.each(function(){var w=d.queue(this,h,m);d._queueHooks(this,h),h==="fx"&&w[0]!=="inprogress"&&d.dequeue(this,h)})},dequeue:function(h){return this.each(function(){d.dequeue(this,h)})},clearQueue:function(h){return this.queue(h||"fx",[])},promise:function(h,m){var b,w=1,M=d.Deferred(),T=this,P=this.length,W=function(){--w||M.resolveWith(T,[T])};for(typeof h!="string"&&(m=h,h=void 0),h=h||"fx";P--;)b=L.get(T[P],h+"queueHooks"),b&&b.empty&&(w++,b.empty.add(W));return W(),M.promise(m)}});var Qt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xt=new RegExp("^(?:([+-])=|)("+Qt+")([a-z%]*)$","i"),Bt=["Top","Right","Bottom","Left"],Nt=_.documentElement,De=function(h){return d.contains(h.ownerDocument,h)},In={composed:!0};Nt.getRootNode&&(De=function(h){return d.contains(h.ownerDocument,h)||h.getRootNode(In)===h.ownerDocument});var wn=function(h,m){return h=m||h,h.style.display==="none"||h.style.display===""&&De(h)&&d.css(h,"display")==="none"};function Ae(h,m,b,w){var M,T,P=20,W=w?function(){return w.cur()}:function(){return d.css(h,m,"")},j=W(),H=b&&b[3]||(d.cssNumber[m]?"":"px"),et=h.nodeType&&(d.cssNumber[m]||H!=="px"&&+j)&&Xt.exec(d.css(h,m));if(et&&et[3]!==H){for(j=j/2,H=H||et[3],et=+j||1;P--;)d.style(h,m,et+H),(1-T)*(1-(T=W()/j||.5))<=0&&(P=0),et=et/T;et=et*2,d.style(h,m,et+H),b=b||[]}return b&&(et=+et||+j||0,M=b[1]?et+(b[1]+1)*b[2]:+b[2],w&&(w.unit=H,w.start=et,w.end=M)),M}var Oe={};function hn(h){var m,b=h.ownerDocument,w=h.nodeName,M=Oe[w];return M||(m=b.body.appendChild(b.createElement(w)),M=d.css(m,"display"),m.parentNode.removeChild(m),M==="none"&&(M="block"),Oe[w]=M,M)}function Cn(h,m){for(var b,w,M=[],T=0,P=h.length;T<P;T++)w=h[T],w.style&&(b=w.style.display,m?(b==="none"&&(M[T]=L.get(w,"display")||null,M[T]||(w.style.display="")),w.style.display===""&&wn(w)&&(M[T]=hn(w))):b!=="none"&&(M[T]="none",L.set(w,"display",b)));for(T=0;T<P;T++)M[T]!=null&&(h[T].style.display=M[T]);return h}d.fn.extend({show:function(){return Cn(this,!0)},hide:function(){return Cn(this)},toggle:function(h){return typeof h=="boolean"?h?this.show():this.hide():this.each(function(){wn(this)?d(this).show():d(this).hide()})}});var $e=/^(?:checkbox|radio)$/i,xn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,rs=/^$|^module$|\/(?:java|ecma)script/i;(function(){var h=_.createDocumentFragment(),m=h.appendChild(_.createElement("div")),b=_.createElement("input");b.setAttribute("type","radio"),b.setAttribute("checked","checked"),b.setAttribute("name","t"),m.appendChild(b),v.checkClone=m.cloneNode(!0).cloneNode(!0).lastChild.checked,m.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!m.cloneNode(!0).lastChild.defaultValue,m.innerHTML="<option></option>",v.option=!!m.lastChild})();var ln={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ln.tbody=ln.tfoot=ln.colgroup=ln.caption=ln.thead,ln.th=ln.td,v.option||(ln.optgroup=ln.option=[1,"<select multiple='multiple'>","</select>"]);function cn(h,m){var b;return typeof h.getElementsByTagName<"u"?b=h.getElementsByTagName(m||"*"):typeof h.querySelectorAll<"u"?b=h.querySelectorAll(m||"*"):b=[],m===void 0||m&&U(h,m)?d.merge([h],b):b}function zi(h,m){for(var b=0,w=h.length;b<w;b++)L.set(h[b],"globalEval",!m||L.get(m[b],"globalEval"))}var Hl=/<|&#?\w+;/;function $o(h,m,b,w,M){for(var T,P,W,j,H,et,gt=m.createDocumentFragment(),q=[],at=0,Et=h.length;at<Et;at++)if(T=h[at],T||T===0)if(R(T)==="object")d.merge(q,T.nodeType?[T]:T);else if(!Hl.test(T))q.push(m.createTextNode(T));else{for(P=P||gt.appendChild(m.createElement("div")),W=(xn.exec(T)||["",""])[1].toLowerCase(),j=ln[W]||ln._default,P.innerHTML=j[1]+d.htmlPrefilter(T)+j[2],et=j[0];et--;)P=P.lastChild;d.merge(q,P.childNodes),P=gt.firstChild,P.textContent=""}for(gt.textContent="",at=0;T=q[at++];){if(w&&d.inArray(T,w)>-1){M&&M.push(T);continue}if(H=De(T),P=cn(gt.appendChild(T),"script"),H&&zi(P),b)for(et=0;T=P[et++];)rs.test(T.type||"")&&b.push(T)}return gt}var qo=/^([^.]*)(?:\.(.+)|)/;function xr(){return!0}function _n(){return!1}function R3(h,m){return h===z3()==(m==="focus")}function z3(){try{return _.activeElement}catch{}}function oh(h,m,b,w,M,T){var P,W;if(typeof m=="object"){typeof b!="string"&&(w=w||b,b=void 0);for(W in m)oh(h,W,b,w,m[W],T);return h}if(w==null&&M==null?(M=b,w=b=void 0):M==null&&(typeof b=="string"?(M=w,w=void 0):(M=w,w=b,b=void 0)),M===!1)M=_n;else if(!M)return h;return T===1&&(P=M,M=function(j){return d().off(j),P.apply(this,arguments)},M.guid=P.guid||(P.guid=d.guid++)),h.each(function(){d.event.add(this,m,M,w,b)})}d.event={global:{},add:function(h,m,b,w,M){var T,P,W,j,H,et,gt,q,at,Et,Wt,St=L.get(h);if(x(h))for(b.handler&&(T=b,b=T.handler,M=T.selector),M&&d.find.matchesSelector(Nt,M),b.guid||(b.guid=d.guid++),(j=St.events)||(j=St.events=Object.create(null)),(P=St.handle)||(P=St.handle=function(qe){return typeof d<"u"&&d.event.triggered!==qe.type?d.event.dispatch.apply(h,arguments):void 0}),m=(m||"").match(Ct)||[""],H=m.length;H--;)W=qo.exec(m[H])||[],at=Wt=W[1],Et=(W[2]||"").split(".").sort(),at&&(gt=d.event.special[at]||{},at=(M?gt.delegateType:gt.bindType)||at,gt=d.event.special[at]||{},et=d.extend({type:at,origType:Wt,data:w,handler:b,guid:b.guid,selector:M,needsContext:M&&d.expr.match.needsContext.test(M),namespace:Et.join(".")},T),(q=j[at])||(q=j[at]=[],q.delegateCount=0,(!gt.setup||gt.setup.call(h,w,Et,P)===!1)&&h.addEventListener&&h.addEventListener(at,P)),gt.add&&(gt.add.call(h,et),et.handler.guid||(et.handler.guid=b.guid)),M?q.splice(q.delegateCount++,0,et):q.push(et),d.event.global[at]=!0)},remove:function(h,m,b,w,M){var T,P,W,j,H,et,gt,q,at,Et,Wt,St=L.hasData(h)&&L.get(h);if(!(!St||!(j=St.events))){for(m=(m||"").match(Ct)||[""],H=m.length;H--;){if(W=qo.exec(m[H])||[],at=Wt=W[1],Et=(W[2]||"").split(".").sort(),!at){for(at in j)d.event.remove(h,at+m[H],b,w,!0);continue}for(gt=d.event.special[at]||{},at=(w?gt.delegateType:gt.bindType)||at,q=j[at]||[],W=W[2]&&new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"),P=T=q.length;T--;)et=q[T],(M||Wt===et.origType)&&(!b||b.guid===et.guid)&&(!W||W.test(et.namespace))&&(!w||w===et.selector||w==="**"&&et.selector)&&(q.splice(T,1),et.selector&&q.delegateCount--,gt.remove&&gt.remove.call(h,et));P&&!q.length&&((!gt.teardown||gt.teardown.call(h,Et,St.handle)===!1)&&d.removeEvent(h,at,St.handle),delete j[at])}d.isEmptyObject(j)&&L.remove(h,"handle events")}},dispatch:function(h){var m,b,w,M,T,P,W=new Array(arguments.length),j=d.event.fix(h),H=(L.get(this,"events")||Object.create(null))[j.type]||[],et=d.event.special[j.type]||{};for(W[0]=j,m=1;m<arguments.length;m++)W[m]=arguments[m];if(j.delegateTarget=this,!(et.preDispatch&&et.preDispatch.call(this,j)===!1)){for(P=d.event.handlers.call(this,j,H),m=0;(M=P[m++])&&!j.isPropagationStopped();)for(j.currentTarget=M.elem,b=0;(T=M.handlers[b++])&&!j.isImmediatePropagationStopped();)(!j.rnamespace||T.namespace===!1||j.rnamespace.test(T.namespace))&&(j.handleObj=T,j.data=T.data,w=((d.event.special[T.origType]||{}).handle||T.handler).apply(M.elem,W),w!==void 0&&(j.result=w)===!1&&(j.preventDefault(),j.stopPropagation()));return et.postDispatch&&et.postDispatch.call(this,j),j.result}},handlers:function(h,m){var b,w,M,T,P,W=[],j=m.delegateCount,H=h.target;if(j&&H.nodeType&&!(h.type==="click"&&h.button>=1)){for(;H!==this;H=H.parentNode||this)if(H.nodeType===1&&!(h.type==="click"&&H.disabled===!0)){for(T=[],P={},b=0;b<j;b++)w=m[b],M=w.selector+" ",P[M]===void 0&&(P[M]=w.needsContext?d(M,this).index(H)>-1:d.find(M,this,null,[H]).length),P[M]&&T.push(w);T.length&&W.push({elem:H,handlers:T})}}return H=this,j<m.length&&W.push({elem:H,handlers:m.slice(j)}),W},addProp:function(h,m){Object.defineProperty(d.Event.prototype,h,{enumerable:!0,configurable:!0,get:y(m)?function(){if(this.originalEvent)return m(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[h]},set:function(b){Object.defineProperty(this,h,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(h){return h[d.expando]?h:new d.Event(h)},special:{load:{noBubble:!0},click:{setup:function(h){var m=this||h;return $e.test(m.type)&&m.click&&U(m,"input")&&Xl(m,"click",xr),!1},trigger:function(h){var m=this||h;return $e.test(m.type)&&m.click&&U(m,"input")&&Xl(m,"click"),!0},_default:function(h){var m=h.target;return $e.test(m.type)&&m.click&&U(m,"input")&&L.get(m,"click")||U(m,"a")}},beforeunload:{postDispatch:function(h){h.result!==void 0&&h.originalEvent&&(h.originalEvent.returnValue=h.result)}}}};function Xl(h,m,b){if(!b){L.get(h,m)===void 0&&d.event.add(h,m,xr);return}L.set(h,m,!1),d.event.add(h,m,{namespace:!1,handler:function(w){var M,T,P=L.get(this,m);if(w.isTrigger&1&&this[m]){if(P.length)(d.event.special[m]||{}).delegateType&&w.stopPropagation();else if(P=s.call(arguments),L.set(this,m,P),M=b(this,m),this[m](),T=L.get(this,m),P!==T||M?L.set(this,m,!1):T={},P!==T)return w.stopImmediatePropagation(),w.preventDefault(),T&&T.value}else P.length&&(L.set(this,m,{value:d.event.trigger(d.extend(P[0],d.Event.prototype),P.slice(1),this)}),w.stopImmediatePropagation())}})}d.removeEvent=function(h,m,b){h.removeEventListener&&h.removeEventListener(m,b)},d.Event=function(h,m){if(!(this instanceof d.Event))return new d.Event(h,m);h&&h.type?(this.originalEvent=h,this.type=h.type,this.isDefaultPrevented=h.defaultPrevented||h.defaultPrevented===void 0&&h.returnValue===!1?xr:_n,this.target=h.target&&h.target.nodeType===3?h.target.parentNode:h.target,this.currentTarget=h.currentTarget,this.relatedTarget=h.relatedTarget):this.type=h,m&&d.extend(this,m),this.timeStamp=h&&h.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:_n,isPropagationStopped:_n,isImmediatePropagationStopped:_n,isSimulated:!1,preventDefault:function(){var h=this.originalEvent;this.isDefaultPrevented=xr,h&&!this.isSimulated&&h.preventDefault()},stopPropagation:function(){var h=this.originalEvent;this.isPropagationStopped=xr,h&&!this.isSimulated&&h.stopPropagation()},stopImmediatePropagation:function(){var h=this.originalEvent;this.isImmediatePropagationStopped=xr,h&&!this.isSimulated&&h.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(h,m){d.event.special[h]={setup:function(){return Xl(this,h,R3),!1},trigger:function(){return Xl(this,h),!0},_default:function(b){return L.get(b.target,h)},delegateType:m}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(h,m){d.event.special[h]={delegateType:m,bindType:m,handle:function(b){var w,M=this,T=b.relatedTarget,P=b.handleObj;return(!T||T!==M&&!d.contains(M,T))&&(b.type=P.origType,w=P.handler.apply(this,arguments),b.type=m),w}}}),d.fn.extend({on:function(h,m,b,w){return oh(this,h,m,b,w)},one:function(h,m,b,w){return oh(this,h,m,b,w,1)},off:function(h,m,b){var w,M;if(h&&h.preventDefault&&h.handleObj)return w=h.handleObj,d(h.delegateTarget).off(w.namespace?w.origType+"."+w.namespace:w.origType,w.selector,w.handler),this;if(typeof h=="object"){for(M in h)this.off(M,m,h[M]);return this}return(m===!1||typeof m=="function")&&(b=m,m=void 0),b===!1&&(b=_n),this.each(function(){d.event.remove(this,h,b,m)})}});var B3=/<script|<style|<link/i,j3=/checked\s*(?:[^=]|=\s*.checked.)/i,G3=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function vI(h,m){return U(h,"table")&&U(m.nodeType!==11?m:m.firstChild,"tr")&&d(h).children("tbody")[0]||h}function F3(h){return h.type=(h.getAttribute("type")!==null)+"/"+h.type,h}function Z3(h){return(h.type||"").slice(0,5)==="true/"?h.type=h.type.slice(5):h.removeAttribute("type"),h}function yI(h,m){var b,w,M,T,P,W,j;if(m.nodeType===1){if(L.hasData(h)&&(T=L.get(h),j=T.events,j)){L.remove(m,"handle events");for(M in j)for(b=0,w=j[M].length;b<w;b++)d.event.add(m,M,j[M][b])}F.hasData(h)&&(P=F.access(h),W=d.extend({},P),F.set(m,W))}}function W3(h,m){var b=m.nodeName.toLowerCase();b==="input"&&$e.test(h.type)?m.checked=h.checked:(b==="input"||b==="textarea")&&(m.defaultValue=h.defaultValue)}function ro(h,m,b,w){m=o(m);var M,T,P,W,j,H,et=0,gt=h.length,q=gt-1,at=m[0],Et=y(at);if(Et||gt>1&&typeof at=="string"&&!v.checkClone&&j3.test(at))return h.each(function(Wt){var St=h.eq(Wt);Et&&(m[0]=at.call(this,Wt,St.html())),ro(St,m,b,w)});if(gt&&(M=$o(m,h[0].ownerDocument,!1,h,w),T=M.firstChild,M.childNodes.length===1&&(M=T),T||w)){for(P=d.map(cn(M,"script"),F3),W=P.length;et<gt;et++)j=M,et!==q&&(j=d.clone(j,!0,!0),W&&d.merge(P,cn(j,"script"))),b.call(h[et],j,et);if(W)for(H=P[P.length-1].ownerDocument,d.map(P,Z3),et=0;et<W;et++)j=P[et],rs.test(j.type||"")&&!L.access(j,"globalEval")&&d.contains(H,j)&&(j.src&&(j.type||"").toLowerCase()!=="module"?d._evalUrl&&!j.noModule&&d._evalUrl(j.src,{nonce:j.nonce||j.getAttribute("nonce")},H):O(j.textContent.replace(G3,""),j,H))}return h}function bI(h,m,b){for(var w,M=m?d.filter(m,h):h,T=0;(w=M[T])!=null;T++)!b&&w.nodeType===1&&d.cleanData(cn(w)),w.parentNode&&(b&&De(w)&&zi(cn(w,"script")),w.parentNode.removeChild(w));return h}d.extend({htmlPrefilter:function(h){return h},clone:function(h,m,b){var w,M,T,P,W=h.cloneNode(!0),j=De(h);if(!v.noCloneChecked&&(h.nodeType===1||h.nodeType===11)&&!d.isXMLDoc(h))for(P=cn(W),T=cn(h),w=0,M=T.length;w<M;w++)W3(T[w],P[w]);if(m)if(b)for(T=T||cn(h),P=P||cn(W),w=0,M=T.length;w<M;w++)yI(T[w],P[w]);else yI(h,W);return P=cn(W,"script"),P.length>0&&zi(P,!j&&cn(h,"script")),W},cleanData:function(h){for(var m,b,w,M=d.event.special,T=0;(b=h[T])!==void 0;T++)if(x(b)){if(m=b[L.expando]){if(m.events)for(w in m.events)M[w]?d.event.remove(b,w):d.removeEvent(b,w,m.handle);b[L.expando]=void 0}b[F.expando]&&(b[F.expando]=void 0)}}}),d.fn.extend({detach:function(h){return bI(this,h,!0)},remove:function(h){return bI(this,h)},text:function(h){return Tt(this,function(m){return m===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=m)})},null,h,arguments.length)},append:function(){return ro(this,arguments,function(h){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var m=vI(this,h);m.appendChild(h)}})},prepend:function(){return ro(this,arguments,function(h){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var m=vI(this,h);m.insertBefore(h,m.firstChild)}})},before:function(){return ro(this,arguments,function(h){this.parentNode&&this.parentNode.insertBefore(h,this)})},after:function(){return ro(this,arguments,function(h){this.parentNode&&this.parentNode.insertBefore(h,this.nextSibling)})},empty:function(){for(var h,m=0;(h=this[m])!=null;m++)h.nodeType===1&&(d.cleanData(cn(h,!1)),h.textContent="");return this},clone:function(h,m){return h=h??!1,m=m??h,this.map(function(){return d.clone(this,h,m)})},html:function(h){return Tt(this,function(m){var b=this[0]||{},w=0,M=this.length;if(m===void 0&&b.nodeType===1)return b.innerHTML;if(typeof m=="string"&&!B3.test(m)&&!ln[(xn.exec(m)||["",""])[1].toLowerCase()]){m=d.htmlPrefilter(m);try{for(;w<M;w++)b=this[w]||{},b.nodeType===1&&(d.cleanData(cn(b,!1)),b.innerHTML=m);b=0}catch{}}b&&this.empty().append(m)},null,h,arguments.length)},replaceWith:function(){var h=[];return ro(this,arguments,function(m){var b=this.parentNode;d.inArray(this,h)<0&&(d.cleanData(cn(this)),b&&b.replaceChild(m,this))},h)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(h,m){d.fn[h]=function(b){for(var w,M=[],T=d(b),P=T.length-1,W=0;W<=P;W++)w=W===P?this:this.clone(!0),d(T[W])[m](w),a.apply(M,w.get());return this.pushStack(M)}});var ah=new RegExp("^("+Qt+")(?!px)[a-z%]+$","i"),lh=/^--/,$l=function(h){var m=h.ownerDocument.defaultView;return(!m||!m.opener)&&(m=e),m.getComputedStyle(h)},AI=function(h,m,b){var w,M,T={};for(M in m)T[M]=h.style[M],h.style[M]=m[M];w=b.call(h);for(M in m)h.style[M]=T[M];return w},U3=new RegExp(Bt.join("|"),"i"),II="[\\x20\\t\\r\\n\\f]",V3=new RegExp("^"+II+"+|((?:^|[^\\\\])(?:\\\\.)*)"+II+"+$","g");(function(){function h(){if(H){j.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",H.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Nt.appendChild(j).appendChild(H);var et=e.getComputedStyle(H);b=et.top!=="1%",W=m(et.marginLeft)===12,H.style.right="60%",T=m(et.right)===36,w=m(et.width)===36,H.style.position="absolute",M=m(H.offsetWidth/3)===12,Nt.removeChild(j),H=null}}function m(et){return Math.round(parseFloat(et))}var b,w,M,T,P,W,j=_.createElement("div"),H=_.createElement("div");H.style&&(H.style.backgroundClip="content-box",H.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle=H.style.backgroundClip==="content-box",d.extend(v,{boxSizingReliable:function(){return h(),w},pixelBoxStyles:function(){return h(),T},pixelPosition:function(){return h(),b},reliableMarginLeft:function(){return h(),W},scrollboxSize:function(){return h(),M},reliableTrDimensions:function(){var et,gt,q,at;return P==null&&(et=_.createElement("table"),gt=_.createElement("tr"),q=_.createElement("div"),et.style.cssText="position:absolute;left:-11111px;border-collapse:separate",gt.style.cssText="border:1px solid",gt.style.height="1px",q.style.height="9px",q.style.display="block",Nt.appendChild(et).appendChild(gt).appendChild(q),at=e.getComputedStyle(gt),P=parseInt(at.height,10)+parseInt(at.borderTopWidth,10)+parseInt(at.borderBottomWidth,10)===gt.offsetHeight,Nt.removeChild(et)),P}}))})();function Jo(h,m,b){var w,M,T,P,W=lh.test(m),j=h.style;return b=b||$l(h),b&&(P=b.getPropertyValue(m)||b[m],W&&P&&(P=P.replace(V3,"$1")||void 0),P===""&&!De(h)&&(P=d.style(h,m)),!v.pixelBoxStyles()&&ah.test(P)&&U3.test(m)&&(w=j.width,M=j.minWidth,T=j.maxWidth,j.minWidth=j.maxWidth=j.width=P,P=b.width,j.width=w,j.minWidth=M,j.maxWidth=T)),P!==void 0?P+"":P}function wI(h,m){return{get:function(){if(h()){delete this.get;return}return(this.get=m).apply(this,arguments)}}}var CI=["Webkit","Moz","ms"],xI=_.createElement("div").style,_I={};function Y3(h){for(var m=h[0].toUpperCase()+h.slice(1),b=CI.length;b--;)if(h=CI[b]+m,h in xI)return h}function ch(h){var m=d.cssProps[h]||_I[h];return m||(h in xI?h:_I[h]=Y3(h)||h)}var H3=/^(none|table(?!-c[ea]).+)/,X3={position:"absolute",visibility:"hidden",display:"block"},SI={letterSpacing:"0",fontWeight:"400"};function MI(h,m,b){var w=Xt.exec(m);return w?Math.max(0,w[2]-(b||0))+(w[3]||"px"):m}function uh(h,m,b,w,M,T){var P=m==="width"?1:0,W=0,j=0;if(b===(w?"border":"content"))return 0;for(;P<4;P+=2)b==="margin"&&(j+=d.css(h,b+Bt[P],!0,M)),w?(b==="content"&&(j-=d.css(h,"padding"+Bt[P],!0,M)),b!=="margin"&&(j-=d.css(h,"border"+Bt[P]+"Width",!0,M))):(j+=d.css(h,"padding"+Bt[P],!0,M),b!=="padding"?j+=d.css(h,"border"+Bt[P]+"Width",!0,M):W+=d.css(h,"border"+Bt[P]+"Width",!0,M));return!w&&T>=0&&(j+=Math.max(0,Math.ceil(h["offset"+m[0].toUpperCase()+m.slice(1)]-T-j-W-.5))||0),j}function TI(h,m,b){var w=$l(h),M=!v.boxSizingReliable()||b,T=M&&d.css(h,"boxSizing",!1,w)==="border-box",P=T,W=Jo(h,m,w),j="offset"+m[0].toUpperCase()+m.slice(1);if(ah.test(W)){if(!b)return W;W="auto"}return(!v.boxSizingReliable()&&T||!v.reliableTrDimensions()&&U(h,"tr")||W==="auto"||!parseFloat(W)&&d.css(h,"display",!1,w)==="inline")&&h.getClientRects().length&&(T=d.css(h,"boxSizing",!1,w)==="border-box",P=j in h,P&&(W=h[j])),W=parseFloat(W)||0,W+uh(h,m,b||(T?"border":"content"),P,w,W)+"px"}d.extend({cssHooks:{opacity:{get:function(h,m){if(m){var b=Jo(h,"opacity");return b===""?"1":b}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(h,m,b,w){if(!(!h||h.nodeType===3||h.nodeType===8||!h.style)){var M,T,P,W=rt(m),j=lh.test(m),H=h.style;if(j||(m=ch(W)),P=d.cssHooks[m]||d.cssHooks[W],b!==void 0){if(T=typeof b,T==="string"&&(M=Xt.exec(b))&&M[1]&&(b=Ae(h,m,M),T="number"),b==null||b!==b)return;T==="number"&&!j&&(b+=M&&M[3]||(d.cssNumber[W]?"":"px")),!v.clearCloneStyle&&b===""&&m.indexOf("background")===0&&(H[m]="inherit"),(!P||!("set"in P)||(b=P.set(h,b,w))!==void 0)&&(j?H.setProperty(m,b):H[m]=b)}else return P&&"get"in P&&(M=P.get(h,!1,w))!==void 0?M:H[m]}},css:function(h,m,b,w){var M,T,P,W=rt(m),j=lh.test(m);return j||(m=ch(W)),P=d.cssHooks[m]||d.cssHooks[W],P&&"get"in P&&(M=P.get(h,!0,b)),M===void 0&&(M=Jo(h,m,w)),M==="normal"&&m in SI&&(M=SI[m]),b===""||b?(T=parseFloat(M),b===!0||isFinite(T)?T||0:M):M}}),d.each(["height","width"],function(h,m){d.cssHooks[m]={get:function(b,w,M){if(w)return H3.test(d.css(b,"display"))&&(!b.getClientRects().length||!b.getBoundingClientRect().width)?AI(b,X3,function(){return TI(b,m,M)}):TI(b,m,M)},set:function(b,w,M){var T,P=$l(b),W=!v.scrollboxSize()&&P.position==="absolute",j=W||M,H=j&&d.css(b,"boxSizing",!1,P)==="border-box",et=M?uh(b,m,M,H,P):0;return H&&W&&(et-=Math.ceil(b["offset"+m[0].toUpperCase()+m.slice(1)]-parseFloat(P[m])-uh(b,m,"border",!1,P)-.5)),et&&(T=Xt.exec(w))&&(T[3]||"px")!=="px"&&(b.style[m]=w,w=d.css(b,m)),MI(b,w,et)}}}),d.cssHooks.marginLeft=wI(v.reliableMarginLeft,function(h,m){if(m)return(parseFloat(Jo(h,"marginLeft"))||h.getBoundingClientRect().left-AI(h,{marginLeft:0},function(){return h.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(h,m){d.cssHooks[h+m]={expand:function(b){for(var w=0,M={},T=typeof b=="string"?b.split(" "):[b];w<4;w++)M[h+Bt[w]+m]=T[w]||T[w-2]||T[0];return M}},h!=="margin"&&(d.cssHooks[h+m].set=MI)}),d.fn.extend({css:function(h,m){return Tt(this,function(b,w,M){var T,P,W={},j=0;if(Array.isArray(w)){for(T=$l(b),P=w.length;j<P;j++)W[w[j]]=d.css(b,w[j],!1,T);return W}return M!==void 0?d.style(b,w,M):d.css(b,w)},h,m,arguments.length>1)}});function kn(h,m,b,w,M){return new kn.prototype.init(h,m,b,w,M)}d.Tween=kn,kn.prototype={constructor:kn,init:function(h,m,b,w,M,T){this.elem=h,this.prop=b,this.easing=M||d.easing._default,this.options=m,this.start=this.now=this.cur(),this.end=w,this.unit=T||(d.cssNumber[b]?"":"px")},cur:function(){var h=kn.propHooks[this.prop];return h&&h.get?h.get(this):kn.propHooks._default.get(this)},run:function(h){var m,b=kn.propHooks[this.prop];return this.options.duration?this.pos=m=d.easing[this.easing](h,this.options.duration*h,0,1,this.options.duration):this.pos=m=h,this.now=(this.end-this.start)*m+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):kn.propHooks._default.set(this),this}},kn.prototype.init.prototype=kn.prototype,kn.propHooks={_default:{get:function(h){var m;return h.elem.nodeType!==1||h.elem[h.prop]!=null&&h.elem.style[h.prop]==null?h.elem[h.prop]:(m=d.css(h.elem,h.prop,""),!m||m==="auto"?0:m)},set:function(h){d.fx.step[h.prop]?d.fx.step[h.prop](h):h.elem.nodeType===1&&(d.cssHooks[h.prop]||h.elem.style[ch(h.prop)]!=null)?d.style(h.elem,h.prop,h.now+h.unit):h.elem[h.prop]=h.now}}},kn.propHooks.scrollTop=kn.propHooks.scrollLeft={set:function(h){h.elem.nodeType&&h.elem.parentNode&&(h.elem[h.prop]=h.now)}},d.easing={linear:function(h){return h},swing:function(h){return .5-Math.cos(h*Math.PI)/2},_default:"swing"},d.fx=kn.prototype.init,d.fx.step={};var so,ql,$3=/^(?:toggle|show|hide)$/,q3=/queueHooks$/;function fh(){ql&&(_.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(fh):e.setTimeout(fh,d.fx.interval),d.fx.tick())}function NI(){return e.setTimeout(function(){so=void 0}),so=Date.now()}function Jl(h,m){var b,w=0,M={height:h};for(m=m?1:0;w<4;w+=2-m)b=Bt[w],M["margin"+b]=M["padding"+b]=h;return m&&(M.opacity=M.width=h),M}function EI(h,m,b){for(var w,M=(Ci.tweeners[m]||[]).concat(Ci.tweeners["*"]),T=0,P=M.length;T<P;T++)if(w=M[T].call(b,m,h))return w}function J3(h,m,b){var w,M,T,P,W,j,H,et,gt="width"in m||"height"in m,q=this,at={},Et=h.style,Wt=h.nodeType&&wn(h),St=L.get(h,"fxshow");b.queue||(P=d._queueHooks(h,"fx"),P.unqueued==null&&(P.unqueued=0,W=P.empty.fire,P.empty.fire=function(){P.unqueued||W()}),P.unqueued++,q.always(function(){q.always(function(){P.unqueued--,d.queue(h,"fx").length||P.empty.fire()})}));for(w in m)if(M=m[w],$3.test(M)){if(delete m[w],T=T||M==="toggle",M===(Wt?"hide":"show"))if(M==="show"&&St&&St[w]!==void 0)Wt=!0;else continue;at[w]=St&&St[w]||d.style(h,w)}if(j=!d.isEmptyObject(m),!(!j&&d.isEmptyObject(at))){gt&&h.nodeType===1&&(b.overflow=[Et.overflow,Et.overflowX,Et.overflowY],H=St&&St.display,H==null&&(H=L.get(h,"display")),et=d.css(h,"display"),et==="none"&&(H?et=H:(Cn([h],!0),H=h.style.display||H,et=d.css(h,"display"),Cn([h]))),(et==="inline"||et==="inline-block"&&H!=null)&&d.css(h,"float")==="none"&&(j||(q.done(function(){Et.display=H}),H==null&&(et=Et.display,H=et==="none"?"":et)),Et.display="inline-block")),b.overflow&&(Et.overflow="hidden",q.always(function(){Et.overflow=b.overflow[0],Et.overflowX=b.overflow[1],Et.overflowY=b.overflow[2]})),j=!1;for(w in at)j||(St?"hidden"in St&&(Wt=St.hidden):St=L.access(h,"fxshow",{display:H}),T&&(St.hidden=!Wt),Wt&&Cn([h],!0),q.done(function(){Wt||Cn([h]),L.remove(h,"fxshow");for(w in at)d.style(h,w,at[w])})),j=EI(Wt?St[w]:0,w,q),w in St||(St[w]=j.start,Wt&&(j.end=j.start,j.start=0))}}function K3(h,m){var b,w,M,T,P;for(b in h)if(w=rt(b),M=m[w],T=h[b],Array.isArray(T)&&(M=T[1],T=h[b]=T[0]),b!==w&&(h[w]=T,delete h[b]),P=d.cssHooks[w],P&&"expand"in P){T=P.expand(T),delete h[w];for(b in T)b in h||(h[b]=T[b],m[b]=M)}else m[w]=M}function Ci(h,m,b){var w,M,T=0,P=Ci.prefilters.length,W=d.Deferred().always(function(){delete j.elem}),j=function(){if(M)return!1;for(var gt=so||NI(),q=Math.max(0,H.startTime+H.duration-gt),at=q/H.duration||0,Et=1-at,Wt=0,St=H.tweens.length;Wt<St;Wt++)H.tweens[Wt].run(Et);return W.notifyWith(h,[H,Et,q]),Et<1&&St?q:(St||W.notifyWith(h,[H,1,0]),W.resolveWith(h,[H]),!1)},H=W.promise({elem:h,props:d.extend({},m),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},b),originalProperties:m,originalOptions:b,startTime:so||NI(),duration:b.duration,tweens:[],createTween:function(gt,q){var at=d.Tween(h,H.opts,gt,q,H.opts.specialEasing[gt]||H.opts.easing);return H.tweens.push(at),at},stop:function(gt){var q=0,at=gt?H.tweens.length:0;if(M)return this;for(M=!0;q<at;q++)H.tweens[q].run(1);return gt?(W.notifyWith(h,[H,1,0]),W.resolveWith(h,[H,gt])):W.rejectWith(h,[H,gt]),this}}),et=H.props;for(K3(et,H.opts.specialEasing);T<P;T++)if(w=Ci.prefilters[T].call(H,h,et,H.opts),w)return y(w.stop)&&(d._queueHooks(H.elem,H.opts.queue).stop=w.stop.bind(w)),w;return d.map(et,EI,H),y(H.opts.start)&&H.opts.start.call(h,H),H.progress(H.opts.progress).done(H.opts.done,H.opts.complete).fail(H.opts.fail).always(H.opts.always),d.fx.timer(d.extend(j,{elem:h,anim:H,queue:H.opts.queue})),H}d.Animation=d.extend(Ci,{tweeners:{"*":[function(h,m){var b=this.createTween(h,m);return Ae(b.elem,h,Xt.exec(m),b),b}]},tweener:function(h,m){y(h)?(m=h,h=["*"]):h=h.match(Ct);for(var b,w=0,M=h.length;w<M;w++)b=h[w],Ci.tweeners[b]=Ci.tweeners[b]||[],Ci.tweeners[b].unshift(m)},prefilters:[J3],prefilter:function(h,m){m?Ci.prefilters.unshift(h):Ci.prefilters.push(h)}}),d.speed=function(h,m,b){var w=h&&typeof h=="object"?d.extend({},h):{complete:b||!b&&m||y(h)&&h,duration:h,easing:b&&m||m&&!y(m)&&m};return d.fx.off?w.duration=0:typeof w.duration!="number"&&(w.duration in d.fx.speeds?w.duration=d.fx.speeds[w.duration]:w.duration=d.fx.speeds._default),(w.queue==null||w.queue===!0)&&(w.queue="fx"),w.old=w.complete,w.complete=function(){y(w.old)&&w.old.call(this),w.queue&&d.dequeue(this,w.queue)},w},d.fn.extend({fadeTo:function(h,m,b,w){return this.filter(wn).css("opacity",0).show().end().animate({opacity:m},h,b,w)},animate:function(h,m,b,w){var M=d.isEmptyObject(h),T=d.speed(m,b,w),P=function(){var W=Ci(this,d.extend({},h),T);(M||L.get(this,"finish"))&&W.stop(!0)};return P.finish=P,M||T.queue===!1?this.each(P):this.queue(T.queue,P)},stop:function(h,m,b){var w=function(M){var T=M.stop;delete M.stop,T(b)};return typeof h!="string"&&(b=m,m=h,h=void 0),m&&this.queue(h||"fx",[]),this.each(function(){var M=!0,T=h!=null&&h+"queueHooks",P=d.timers,W=L.get(this);if(T)W[T]&&W[T].stop&&w(W[T]);else for(T in W)W[T]&&W[T].stop&&q3.test(T)&&w(W[T]);for(T=P.length;T--;)P[T].elem===this&&(h==null||P[T].queue===h)&&(P[T].anim.stop(b),M=!1,P.splice(T,1));(M||!b)&&d.dequeue(this,h)})},finish:function(h){return h!==!1&&(h=h||"fx"),this.each(function(){var m,b=L.get(this),w=b[h+"queue"],M=b[h+"queueHooks"],T=d.timers,P=w?w.length:0;for(b.finish=!0,d.queue(this,h,[]),M&&M.stop&&M.stop.call(this,!0),m=T.length;m--;)T[m].elem===this&&T[m].queue===h&&(T[m].anim.stop(!0),T.splice(m,1));for(m=0;m<P;m++)w[m]&&w[m].finish&&w[m].finish.call(this);delete b.finish})}}),d.each(["toggle","show","hide"],function(h,m){var b=d.fn[m];d.fn[m]=function(w,M,T){return w==null||typeof w=="boolean"?b.apply(this,arguments):this.animate(Jl(m,!0),w,M,T)}}),d.each({slideDown:Jl("show"),slideUp:Jl("hide"),slideToggle:Jl("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(h,m){d.fn[h]=function(b,w,M){return this.animate(m,b,w,M)}}),d.timers=[],d.fx.tick=function(){var h,m=0,b=d.timers;for(so=Date.now();m<b.length;m++)h=b[m],!h()&&b[m]===h&&b.splice(m--,1);b.length||d.fx.stop(),so=void 0},d.fx.timer=function(h){d.timers.push(h),d.fx.start()},d.fx.interval=13,d.fx.start=function(){ql||(ql=!0,fh())},d.fx.stop=function(){ql=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(h,m){return h=d.fx&&d.fx.speeds[h]||h,m=m||"fx",this.queue(m,function(b,w){var M=e.setTimeout(b,h);w.stop=function(){e.clearTimeout(M)}})},function(){var h=_.createElement("input"),m=_.createElement("select"),b=m.appendChild(_.createElement("option"));h.type="checkbox",v.checkOn=h.value!=="",v.optSelected=b.selected,h=_.createElement("input"),h.value="t",h.type="radio",v.radioValue=h.value==="t"}();var PI,Ko=d.expr.attrHandle;d.fn.extend({attr:function(h,m){return Tt(this,d.attr,h,m,arguments.length>1)},removeAttr:function(h){return this.each(function(){d.removeAttr(this,h)})}}),d.extend({attr:function(h,m,b){var w,M,T=h.nodeType;if(!(T===3||T===8||T===2)){if(typeof h.getAttribute>"u")return d.prop(h,m,b);if((T!==1||!d.isXMLDoc(h))&&(M=d.attrHooks[m.toLowerCase()]||(d.expr.match.bool.test(m)?PI:void 0)),b!==void 0){if(b===null){d.removeAttr(h,m);return}return M&&"set"in M&&(w=M.set(h,b,m))!==void 0?w:(h.setAttribute(m,b+""),b)}return M&&"get"in M&&(w=M.get(h,m))!==null?w:(w=d.find.attr(h,m),w??void 0)}},attrHooks:{type:{set:function(h,m){if(!v.radioValue&&m==="radio"&&U(h,"input")){var b=h.value;return h.setAttribute("type",m),b&&(h.value=b),m}}}},removeAttr:function(h,m){var b,w=0,M=m&&m.match(Ct);if(M&&h.nodeType===1)for(;b=M[w++];)h.removeAttribute(b)}}),PI={set:function(h,m,b){return m===!1?d.removeAttr(h,b):h.setAttribute(b,b),b}},d.each(d.expr.match.bool.source.match(/\w+/g),function(h,m){var b=Ko[m]||d.find.attr;Ko[m]=function(w,M,T){var P,W,j=M.toLowerCase();return T||(W=Ko[j],Ko[j]=P,P=b(w,M,T)!=null?j:null,Ko[j]=W),P}});var Q3=/^(?:input|select|textarea|button)$/i,tR=/^(?:a|area)$/i;d.fn.extend({prop:function(h,m){return Tt(this,d.prop,h,m,arguments.length>1)},removeProp:function(h){return this.each(function(){delete this[d.propFix[h]||h]})}}),d.extend({prop:function(h,m,b){var w,M,T=h.nodeType;if(!(T===3||T===8||T===2))return(T!==1||!d.isXMLDoc(h))&&(m=d.propFix[m]||m,M=d.propHooks[m]),b!==void 0?M&&"set"in M&&(w=M.set(h,b,m))!==void 0?w:h[m]=b:M&&"get"in M&&(w=M.get(h,m))!==null?w:h[m]},propHooks:{tabIndex:{get:function(h){var m=d.find.attr(h,"tabindex");return m?parseInt(m,10):Q3.test(h.nodeName)||tR.test(h.nodeName)&&h.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(d.propHooks.selected={get:function(h){var m=h.parentNode;return m&&m.parentNode&&m.parentNode.selectedIndex,null},set:function(h){var m=h.parentNode;m&&(m.selectedIndex,m.parentNode&&m.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function ss(h){var m=h.match(Ct)||[];return m.join(" ")}function os(h){return h.getAttribute&&h.getAttribute("class")||""}function hh(h){return Array.isArray(h)?h:typeof h=="string"?h.match(Ct)||[]:[]}d.fn.extend({addClass:function(h){var m,b,w,M,T,P;return y(h)?this.each(function(W){d(this).addClass(h.call(this,W,os(this)))}):(m=hh(h),m.length?this.each(function(){if(w=os(this),b=this.nodeType===1&&" "+ss(w)+" ",b){for(T=0;T<m.length;T++)M=m[T],b.indexOf(" "+M+" ")<0&&(b+=M+" ");P=ss(b),w!==P&&this.setAttribute("class",P)}}):this)},removeClass:function(h){var m,b,w,M,T,P;return y(h)?this.each(function(W){d(this).removeClass(h.call(this,W,os(this)))}):arguments.length?(m=hh(h),m.length?this.each(function(){if(w=os(this),b=this.nodeType===1&&" "+ss(w)+" ",b){for(T=0;T<m.length;T++)for(M=m[T];b.indexOf(" "+M+" ")>-1;)b=b.replace(" "+M+" "," ");P=ss(b),w!==P&&this.setAttribute("class",P)}}):this):this.attr("class","")},toggleClass:function(h,m){var b,w,M,T,P=typeof h,W=P==="string"||Array.isArray(h);return y(h)?this.each(function(j){d(this).toggleClass(h.call(this,j,os(this),m),m)}):typeof m=="boolean"&&W?m?this.addClass(h):this.removeClass(h):(b=hh(h),this.each(function(){if(W)for(T=d(this),M=0;M<b.length;M++)w=b[M],T.hasClass(w)?T.removeClass(w):T.addClass(w);else(h===void 0||P==="boolean")&&(w=os(this),w&&L.set(this,"__className__",w),this.setAttribute&&this.setAttribute("class",w||h===!1?"":L.get(this,"__className__")||""))}))},hasClass:function(h){var m,b,w=0;for(m=" "+h+" ";b=this[w++];)if(b.nodeType===1&&(" "+ss(os(b))+" ").indexOf(m)>-1)return!0;return!1}});var eR=/\r/g;d.fn.extend({val:function(h){var m,b,w,M=this[0];return arguments.length?(w=y(h),this.each(function(T){var P;this.nodeType===1&&(w?P=h.call(this,T,d(this).val()):P=h,P==null?P="":typeof P=="number"?P+="":Array.isArray(P)&&(P=d.map(P,function(W){return W==null?"":W+""})),m=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!m||!("set"in m)||m.set(this,P,"value")===void 0)&&(this.value=P))})):M?(m=d.valHooks[M.type]||d.valHooks[M.nodeName.toLowerCase()],m&&"get"in m&&(b=m.get(M,"value"))!==void 0?b:(b=M.value,typeof b=="string"?b.replace(eR,""):b??"")):void 0}}),d.extend({valHooks:{option:{get:function(h){var m=d.find.attr(h,"value");return m??ss(d.text(h))}},select:{get:function(h){var m,b,w,M=h.options,T=h.selectedIndex,P=h.type==="select-one",W=P?null:[],j=P?T+1:M.length;for(T<0?w=j:w=P?T:0;w<j;w++)if(b=M[w],(b.selected||w===T)&&!b.disabled&&(!b.parentNode.disabled||!U(b.parentNode,"optgroup"))){if(m=d(b).val(),P)return m;W.push(m)}return W},set:function(h,m){for(var b,w,M=h.options,T=d.makeArray(m),P=M.length;P--;)w=M[P],(w.selected=d.inArray(d.valHooks.option.get(w),T)>-1)&&(b=!0);return b||(h.selectedIndex=-1),T}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(h,m){if(Array.isArray(m))return h.checked=d.inArray(d(h).val(),m)>-1}},v.checkOn||(d.valHooks[this].get=function(h){return h.getAttribute("value")===null?"on":h.value})}),v.focusin="onfocusin"in e;var kI=/^(?:focusinfocus|focusoutblur)$/,DI=function(h){h.stopPropagation()};d.extend(d.event,{trigger:function(h,m,b,w){var M,T,P,W,j,H,et,gt,q=[b||_],at=f.call(h,"type")?h.type:h,Et=f.call(h,"namespace")?h.namespace.split("."):[];if(T=gt=P=b=b||_,!(b.nodeType===3||b.nodeType===8)&&!kI.test(at+d.event.triggered)&&(at.indexOf(".")>-1&&(Et=at.split("."),at=Et.shift(),Et.sort()),j=at.indexOf(":")<0&&"on"+at,h=h[d.expando]?h:new d.Event(at,typeof h=="object"&&h),h.isTrigger=w?2:3,h.namespace=Et.join("."),h.rnamespace=h.namespace?new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h.result=void 0,h.target||(h.target=b),m=m==null?[h]:d.makeArray(m,[h]),et=d.event.special[at]||{},!(!w&&et.trigger&&et.trigger.apply(b,m)===!1))){if(!w&&!et.noBubble&&!I(b)){for(W=et.delegateType||at,kI.test(W+at)||(T=T.parentNode);T;T=T.parentNode)q.push(T),P=T;P===(b.ownerDocument||_)&&q.push(P.defaultView||P.parentWindow||e)}for(M=0;(T=q[M++])&&!h.isPropagationStopped();)gt=T,h.type=M>1?W:et.bindType||at,H=(L.get(T,"events")||Object.create(null))[h.type]&&L.get(T,"handle"),H&&H.apply(T,m),H=j&&T[j],H&&H.apply&&x(T)&&(h.result=H.apply(T,m),h.result===!1&&h.preventDefault());return h.type=at,!w&&!h.isDefaultPrevented()&&(!et._default||et._default.apply(q.pop(),m)===!1)&&x(b)&&j&&y(b[at])&&!I(b)&&(P=b[j],P&&(b[j]=null),d.event.triggered=at,h.isPropagationStopped()&&gt.addEventListener(at,DI),b[at](),h.isPropagationStopped()&&gt.removeEventListener(at,DI),d.event.triggered=void 0,P&&(b[j]=P)),h.result}},simulate:function(h,m,b){var w=d.extend(new d.Event,b,{type:h,isSimulated:!0});d.event.trigger(w,null,m)}}),d.fn.extend({trigger:function(h,m){return this.each(function(){d.event.trigger(h,m,this)})},triggerHandler:function(h,m){var b=this[0];if(b)return d.event.trigger(h,m,b,!0)}}),v.focusin||d.each({focus:"focusin",blur:"focusout"},function(h,m){var b=function(w){d.event.simulate(m,w.target,d.event.fix(w))};d.event.special[m]={setup:function(){var w=this.ownerDocument||this.document||this,M=L.access(w,m);M||w.addEventListener(h,b,!0),L.access(w,m,(M||0)+1)},teardown:function(){var w=this.ownerDocument||this.document||this,M=L.access(w,m)-1;M?L.access(w,m,M):(w.removeEventListener(h,b,!0),L.remove(w,m))}}});var Qo=e.location,OI={guid:Date.now()},dh=/\?/;d.parseXML=function(h){var m,b;if(!h||typeof h!="string")return null;try{m=new e.DOMParser().parseFromString(h,"text/xml")}catch{}return b=m&&m.getElementsByTagName("parsererror")[0],(!m||b)&&d.error("Invalid XML: "+(b?d.map(b.childNodes,function(w){return w.textContent}).join(`
`):h)),m};var nR=/\[\]$/,LI=/\r?\n/g,iR=/^(?:submit|button|image|reset|file)$/i,rR=/^(?:input|select|textarea|keygen)/i;function gh(h,m,b,w){var M;if(Array.isArray(m))d.each(m,function(T,P){b||nR.test(h)?w(h,P):gh(h+"["+(typeof P=="object"&&P!=null?T:"")+"]",P,b,w)});else if(!b&&R(m)==="object")for(M in m)gh(h+"["+M+"]",m[M],b,w);else w(h,m)}d.param=function(h,m){var b,w=[],M=function(T,P){var W=y(P)?P():P;w[w.length]=encodeURIComponent(T)+"="+encodeURIComponent(W??"")};if(h==null)return"";if(Array.isArray(h)||h.jquery&&!d.isPlainObject(h))d.each(h,function(){M(this.name,this.value)});else for(b in h)gh(b,h[b],m,M);return w.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var h=d.prop(this,"elements");return h?d.makeArray(h):this}).filter(function(){var h=this.type;return this.name&&!d(this).is(":disabled")&&rR.test(this.nodeName)&&!iR.test(h)&&(this.checked||!$e.test(h))}).map(function(h,m){var b=d(this).val();return b==null?null:Array.isArray(b)?d.map(b,function(w){return{name:m.name,value:w.replace(LI,`\r
`)}}):{name:m.name,value:b.replace(LI,`\r
`)}}).get()}});var sR=/%20/g,oR=/#.*$/,aR=/([?&])_=[^&]*/,lR=/^(.*?):[ \t]*([^\r\n]*)$/mg,cR=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,uR=/^(?:GET|HEAD)$/,fR=/^\/\//,RI={},ph={},zI="*/".concat("*"),mh=_.createElement("a");mh.href=Qo.href;function BI(h){return function(m,b){typeof m!="string"&&(b=m,m="*");var w,M=0,T=m.toLowerCase().match(Ct)||[];if(y(b))for(;w=T[M++];)w[0]==="+"?(w=w.slice(1)||"*",(h[w]=h[w]||[]).unshift(b)):(h[w]=h[w]||[]).push(b)}}function jI(h,m,b,w){var M={},T=h===ph;function P(W){var j;return M[W]=!0,d.each(h[W]||[],function(H,et){var gt=et(m,b,w);if(typeof gt=="string"&&!T&&!M[gt])return m.dataTypes.unshift(gt),P(gt),!1;if(T)return!(j=gt)}),j}return P(m.dataTypes[0])||!M["*"]&&P("*")}function vh(h,m){var b,w,M=d.ajaxSettings.flatOptions||{};for(b in m)m[b]!==void 0&&((M[b]?h:w||(w={}))[b]=m[b]);return w&&d.extend(!0,h,w),h}function hR(h,m,b){for(var w,M,T,P,W=h.contents,j=h.dataTypes;j[0]==="*";)j.shift(),w===void 0&&(w=h.mimeType||m.getResponseHeader("Content-Type"));if(w){for(M in W)if(W[M]&&W[M].test(w)){j.unshift(M);break}}if(j[0]in b)T=j[0];else{for(M in b){if(!j[0]||h.converters[M+" "+j[0]]){T=M;break}P||(P=M)}T=T||P}if(T)return T!==j[0]&&j.unshift(T),b[T]}function dR(h,m,b,w){var M,T,P,W,j,H={},et=h.dataTypes.slice();if(et[1])for(P in h.converters)H[P.toLowerCase()]=h.converters[P];for(T=et.shift();T;)if(h.responseFields[T]&&(b[h.responseFields[T]]=m),!j&&w&&h.dataFilter&&(m=h.dataFilter(m,h.dataType)),j=T,T=et.shift(),T){if(T==="*")T=j;else if(j!=="*"&&j!==T){if(P=H[j+" "+T]||H["* "+T],!P){for(M in H)if(W=M.split(" "),W[1]===T&&(P=H[j+" "+W[0]]||H["* "+W[0]],P)){P===!0?P=H[M]:H[M]!==!0&&(T=W[0],et.unshift(W[1]));break}}if(P!==!0)if(P&&h.throws)m=P(m);else try{m=P(m)}catch(gt){return{state:"parsererror",error:P?gt:"No conversion from "+j+" to "+T}}}}return{state:"success",data:m}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Qo.href,type:"GET",isLocal:cR.test(Qo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zI,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(h,m){return m?vh(vh(h,d.ajaxSettings),m):vh(d.ajaxSettings,h)},ajaxPrefilter:BI(RI),ajaxTransport:BI(ph),ajax:function(h,m){typeof h=="object"&&(m=h,h=void 0),m=m||{};var b,w,M,T,P,W,j,H,et,gt,q=d.ajaxSetup({},m),at=q.context||q,Et=q.context&&(at.nodeType||at.jquery)?d(at):d.event,Wt=d.Deferred(),St=d.Callbacks("once memory"),qe=q.statusCode||{},Ue={},Un={},be="canceled",Zt={readyState:0,getResponseHeader:function(oe){var Le;if(j){if(!T)for(T={};Le=lR.exec(M);)T[Le[1].toLowerCase()+" "]=(T[Le[1].toLowerCase()+" "]||[]).concat(Le[2]);Le=T[oe.toLowerCase()+" "]}return Le==null?null:Le.join(", ")},getAllResponseHeaders:function(){return j?M:null},setRequestHeader:function(oe,Le){return j==null&&(oe=Un[oe.toLowerCase()]=Un[oe.toLowerCase()]||oe,Ue[oe]=Le),this},overrideMimeType:function(oe){return j==null&&(q.mimeType=oe),this},statusCode:function(oe){var Le;if(oe)if(j)Zt.always(oe[Zt.status]);else for(Le in oe)qe[Le]=[qe[Le],oe[Le]];return this},abort:function(oe){var Le=oe||be;return b&&b.abort(Le),Dn(0,Le),this}};if(Wt.promise(Zt),q.url=((h||q.url||Qo.href)+"").replace(fR,Qo.protocol+"//"),q.type=m.method||m.type||q.method||q.type,q.dataTypes=(q.dataType||"*").toLowerCase().match(Ct)||[""],q.crossDomain==null){W=_.createElement("a");try{W.href=q.url,W.href=W.href,q.crossDomain=mh.protocol+"//"+mh.host!=W.protocol+"//"+W.host}catch{q.crossDomain=!0}}if(q.data&&q.processData&&typeof q.data!="string"&&(q.data=d.param(q.data,q.traditional)),jI(RI,q,m,Zt),j)return Zt;H=d.event&&q.global,H&&d.active++===0&&d.event.trigger("ajaxStart"),q.type=q.type.toUpperCase(),q.hasContent=!uR.test(q.type),w=q.url.replace(oR,""),q.hasContent?q.data&&q.processData&&(q.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(q.data=q.data.replace(sR,"+")):(gt=q.url.slice(w.length),q.data&&(q.processData||typeof q.data=="string")&&(w+=(dh.test(w)?"&":"?")+q.data,delete q.data),q.cache===!1&&(w=w.replace(aR,"$1"),gt=(dh.test(w)?"&":"?")+"_="+OI.guid+++gt),q.url=w+gt),q.ifModified&&(d.lastModified[w]&&Zt.setRequestHeader("If-Modified-Since",d.lastModified[w]),d.etag[w]&&Zt.setRequestHeader("If-None-Match",d.etag[w])),(q.data&&q.hasContent&&q.contentType!==!1||m.contentType)&&Zt.setRequestHeader("Content-Type",q.contentType),Zt.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+(q.dataTypes[0]!=="*"?", "+zI+"; q=0.01":""):q.accepts["*"]);for(et in q.headers)Zt.setRequestHeader(et,q.headers[et]);if(q.beforeSend&&(q.beforeSend.call(at,Zt,q)===!1||j))return Zt.abort();if(be="abort",St.add(q.complete),Zt.done(q.success),Zt.fail(q.error),b=jI(ph,q,m,Zt),!b)Dn(-1,"No Transport");else{if(Zt.readyState=1,H&&Et.trigger("ajaxSend",[Zt,q]),j)return Zt;q.async&&q.timeout>0&&(P=e.setTimeout(function(){Zt.abort("timeout")},q.timeout));try{j=!1,b.send(Ue,Dn)}catch(oe){if(j)throw oe;Dn(-1,oe)}}function Dn(oe,Le,ea,Kl){var Vn,as,ls,On,_r,ci=Le;j||(j=!0,P&&e.clearTimeout(P),b=void 0,M=Kl||"",Zt.readyState=oe>0?4:0,Vn=oe>=200&&oe<300||oe===304,ea&&(On=hR(q,Zt,ea)),!Vn&&d.inArray("script",q.dataTypes)>-1&&d.inArray("json",q.dataTypes)<0&&(q.converters["text script"]=function(){}),On=dR(q,On,Zt,Vn),Vn?(q.ifModified&&(_r=Zt.getResponseHeader("Last-Modified"),_r&&(d.lastModified[w]=_r),_r=Zt.getResponseHeader("etag"),_r&&(d.etag[w]=_r)),oe===204||q.type==="HEAD"?ci="nocontent":oe===304?ci="notmodified":(ci=On.state,as=On.data,ls=On.error,Vn=!ls)):(ls=ci,(oe||!ci)&&(ci="error",oe<0&&(oe=0))),Zt.status=oe,Zt.statusText=(Le||ci)+"",Vn?Wt.resolveWith(at,[as,ci,Zt]):Wt.rejectWith(at,[Zt,ci,ls]),Zt.statusCode(qe),qe=void 0,H&&Et.trigger(Vn?"ajaxSuccess":"ajaxError",[Zt,q,Vn?as:ls]),St.fireWith(at,[Zt,ci]),H&&(Et.trigger("ajaxComplete",[Zt,q]),--d.active||d.event.trigger("ajaxStop")))}return Zt},getJSON:function(h,m,b){return d.get(h,m,b,"json")},getScript:function(h,m){return d.get(h,void 0,m,"script")}}),d.each(["get","post"],function(h,m){d[m]=function(b,w,M,T){return y(w)&&(T=T||M,M=w,w=void 0),d.ajax(d.extend({url:b,type:m,dataType:T,data:w,success:M},d.isPlainObject(b)&&b))}}),d.ajaxPrefilter(function(h){var m;for(m in h.headers)m.toLowerCase()==="content-type"&&(h.contentType=h.headers[m]||"")}),d._evalUrl=function(h,m,b){return d.ajax({url:h,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(w){d.globalEval(w,m,b)}})},d.fn.extend({wrapAll:function(h){var m;return this[0]&&(y(h)&&(h=h.call(this[0])),m=d(h,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&m.insertBefore(this[0]),m.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),this},wrapInner:function(h){return y(h)?this.each(function(m){d(this).wrapInner(h.call(this,m))}):this.each(function(){var m=d(this),b=m.contents();b.length?b.wrapAll(h):m.append(h)})},wrap:function(h){var m=y(h);return this.each(function(b){d(this).wrapAll(m?h.call(this,b):h)})},unwrap:function(h){return this.parent(h).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(h){return!d.expr.pseudos.visible(h)},d.expr.pseudos.visible=function(h){return!!(h.offsetWidth||h.offsetHeight||h.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var gR={0:200,1223:204},ta=d.ajaxSettings.xhr();v.cors=!!ta&&"withCredentials"in ta,v.ajax=ta=!!ta,d.ajaxTransport(function(h){var m,b;if(v.cors||ta&&!h.crossDomain)return{send:function(w,M){var T,P=h.xhr();if(P.open(h.type,h.url,h.async,h.username,h.password),h.xhrFields)for(T in h.xhrFields)P[T]=h.xhrFields[T];h.mimeType&&P.overrideMimeType&&P.overrideMimeType(h.mimeType),!h.crossDomain&&!w["X-Requested-With"]&&(w["X-Requested-With"]="XMLHttpRequest");for(T in w)P.setRequestHeader(T,w[T]);m=function(W){return function(){m&&(m=b=P.onload=P.onerror=P.onabort=P.ontimeout=P.onreadystatechange=null,W==="abort"?P.abort():W==="error"?typeof P.status!="number"?M(0,"error"):M(P.status,P.statusText):M(gR[P.status]||P.status,P.statusText,(P.responseType||"text")!=="text"||typeof P.responseText!="string"?{binary:P.response}:{text:P.responseText},P.getAllResponseHeaders()))}},P.onload=m(),b=P.onerror=P.ontimeout=m("error"),P.onabort!==void 0?P.onabort=b:P.onreadystatechange=function(){P.readyState===4&&e.setTimeout(function(){m&&b()})},m=m("abort");try{P.send(h.hasContent&&h.data||null)}catch(W){if(m)throw W}},abort:function(){m&&m()}}}),d.ajaxPrefilter(function(h){h.crossDomain&&(h.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(h){return d.globalEval(h),h}}}),d.ajaxPrefilter("script",function(h){h.cache===void 0&&(h.cache=!1),h.crossDomain&&(h.type="GET")}),d.ajaxTransport("script",function(h){if(h.crossDomain||h.scriptAttrs){var m,b;return{send:function(w,M){m=d("<script>").attr(h.scriptAttrs||{}).prop({charset:h.scriptCharset,src:h.url}).on("load error",b=function(T){m.remove(),b=null,T&&M(T.type==="error"?404:200,T.type)}),_.head.appendChild(m[0])},abort:function(){b&&b()}}}});var GI=[],yh=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var h=GI.pop()||d.expando+"_"+OI.guid++;return this[h]=!0,h}}),d.ajaxPrefilter("json jsonp",function(h,m,b){var w,M,T,P=h.jsonp!==!1&&(yh.test(h.url)?"url":typeof h.data=="string"&&(h.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&yh.test(h.data)&&"data");if(P||h.dataTypes[0]==="jsonp")return w=h.jsonpCallback=y(h.jsonpCallback)?h.jsonpCallback():h.jsonpCallback,P?h[P]=h[P].replace(yh,"$1"+w):h.jsonp!==!1&&(h.url+=(dh.test(h.url)?"&":"?")+h.jsonp+"="+w),h.converters["script json"]=function(){return T||d.error(w+" was not called"),T[0]},h.dataTypes[0]="json",M=e[w],e[w]=function(){T=arguments},b.always(function(){M===void 0?d(e).removeProp(w):e[w]=M,h[w]&&(h.jsonpCallback=m.jsonpCallback,GI.push(w)),T&&y(M)&&M(T[0]),T=M=void 0}),"script"}),v.createHTMLDocument=function(){var h=_.implementation.createHTMLDocument("").body;return h.innerHTML="<form></form><form></form>",h.childNodes.length===2}(),d.parseHTML=function(h,m,b){if(typeof h!="string")return[];typeof m=="boolean"&&(b=m,m=!1);var w,M,T;return m||(v.createHTMLDocument?(m=_.implementation.createHTMLDocument(""),w=m.createElement("base"),w.href=_.location.href,m.head.appendChild(w)):m=_),M=X.exec(h),T=!b&&[],M?[m.createElement(M[1])]:(M=$o([h],m,T),T&&T.length&&d(T).remove(),d.merge([],M.childNodes))},d.fn.load=function(h,m,b){var w,M,T,P=this,W=h.indexOf(" ");return W>-1&&(w=ss(h.slice(W)),h=h.slice(0,W)),y(m)?(b=m,m=void 0):m&&typeof m=="object"&&(M="POST"),P.length>0&&d.ajax({url:h,type:M||"GET",dataType:"html",data:m}).done(function(j){T=arguments,P.html(w?d("<div>").append(d.parseHTML(j)).find(w):j)}).always(b&&function(j,H){P.each(function(){b.apply(this,T||[j.responseText,H,j])})}),this},d.expr.pseudos.animated=function(h){return d.grep(d.timers,function(m){return h===m.elem}).length},d.offset={setOffset:function(h,m,b){var w,M,T,P,W,j,H,et=d.css(h,"position"),gt=d(h),q={};et==="static"&&(h.style.position="relative"),W=gt.offset(),T=d.css(h,"top"),j=d.css(h,"left"),H=(et==="absolute"||et==="fixed")&&(T+j).indexOf("auto")>-1,H?(w=gt.position(),P=w.top,M=w.left):(P=parseFloat(T)||0,M=parseFloat(j)||0),y(m)&&(m=m.call(h,b,d.extend({},W))),m.top!=null&&(q.top=m.top-W.top+P),m.left!=null&&(q.left=m.left-W.left+M),"using"in m?m.using.call(h,q):gt.css(q)}},d.fn.extend({offset:function(h){if(arguments.length)return h===void 0?this:this.each(function(M){d.offset.setOffset(this,h,M)});var m,b,w=this[0];if(w)return w.getClientRects().length?(m=w.getBoundingClientRect(),b=w.ownerDocument.defaultView,{top:m.top+b.pageYOffset,left:m.left+b.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var h,m,b,w=this[0],M={top:0,left:0};if(d.css(w,"position")==="fixed")m=w.getBoundingClientRect();else{for(m=this.offset(),b=w.ownerDocument,h=w.offsetParent||b.documentElement;h&&(h===b.body||h===b.documentElement)&&d.css(h,"position")==="static";)h=h.parentNode;h&&h!==w&&h.nodeType===1&&(M=d(h).offset(),M.top+=d.css(h,"borderTopWidth",!0),M.left+=d.css(h,"borderLeftWidth",!0))}return{top:m.top-M.top-d.css(w,"marginTop",!0),left:m.left-M.left-d.css(w,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var h=this.offsetParent;h&&d.css(h,"position")==="static";)h=h.offsetParent;return h||Nt})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(h,m){var b=m==="pageYOffset";d.fn[h]=function(w){return Tt(this,function(M,T,P){var W;if(I(M)?W=M:M.nodeType===9&&(W=M.defaultView),P===void 0)return W?W[m]:M[T];W?W.scrollTo(b?W.pageXOffset:P,b?P:W.pageYOffset):M[T]=P},h,w,arguments.length)}}),d.each(["top","left"],function(h,m){d.cssHooks[m]=wI(v.pixelPosition,function(b,w){if(w)return w=Jo(b,m),ah.test(w)?d(b).position()[m]+"px":w})}),d.each({Height:"height",Width:"width"},function(h,m){d.each({padding:"inner"+h,content:m,"":"outer"+h},function(b,w){d.fn[w]=function(M,T){var P=arguments.length&&(b||typeof M!="boolean"),W=b||(M===!0||T===!0?"margin":"border");return Tt(this,function(j,H,et){var gt;return I(j)?w.indexOf("outer")===0?j["inner"+h]:j.document.documentElement["client"+h]:j.nodeType===9?(gt=j.documentElement,Math.max(j.body["scroll"+h],gt["scroll"+h],j.body["offset"+h],gt["offset"+h],gt["client"+h])):et===void 0?d.css(j,H,W):d.style(j,H,et,W)},m,P?M:void 0,P)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(h,m){d.fn[m]=function(b){return this.on(m,b)}}),d.fn.extend({bind:function(h,m,b){return this.on(h,null,m,b)},unbind:function(h,m){return this.off(h,null,m)},delegate:function(h,m,b,w){return this.on(m,h,b,w)},undelegate:function(h,m,b){return arguments.length===1?this.off(h,"**"):this.off(m,h||"**",b)},hover:function(h,m){return this.mouseenter(h).mouseleave(m||h)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(h,m){d.fn[m]=function(b,w){return arguments.length>0?this.on(m,null,b,w):this.trigger(m)}});var pR=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(h,m){var b,w,M;if(typeof m=="string"&&(b=h[m],m=h,h=b),!!y(h))return w=s.call(arguments,2),M=function(){return h.apply(m||this,w.concat(s.call(arguments)))},M.guid=h.guid=h.guid||d.guid++,M},d.holdReady=function(h){h?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=U,d.isFunction=y,d.isWindow=I,d.camelCase=rt,d.type=R,d.now=Date.now,d.isNumeric=function(h){var m=d.type(h);return(m==="number"||m==="string")&&!isNaN(h-parseFloat(h))},d.trim=function(h){return h==null?"":(h+"").replace(pR,"$1")};var mR=e.jQuery,vR=e.$;return d.noConflict=function(h){return e.$===d&&(e.$=vR),h&&e.jQuery===d&&(e.jQuery=mR),d},typeof n>"u"&&(e.jQuery=e.$=d),d})})(cD);var uD=cD.exports;const Jt=yf(uD);(function(t){(function(e){var n=typeof self=="object"&&self.self===self&&self||typeof Mi=="object"&&Mi.global===Mi&&Mi;{var i=Q9,r;try{r=uD}catch{}e(n,t,i,r)}})(function(e,n,i,r){var s=e.Backbone,o=Array.prototype.slice;n.VERSION="1.4.1",n.$=r,n.noConflict=function(){return e.Backbone=s,this},n.emulateHTTP=!1,n.emulateJSON=!1;var a=n.Events={},l=/\s+/,c,u=function(x,E,L,F,it){var ct=0,xt;if(L&&typeof L=="object")for(F!==void 0&&("context"in it)&&it.context===void 0&&(it.context=F),xt=i.keys(L);ct<xt.length;ct++)E=u(x,E,xt[ct],L[xt[ct]],it);else if(L&&l.test(L))for(xt=L.split(l);ct<xt.length;ct++)E=x(E,xt[ct],F,it);else E=x(E,L,F,it);return E};a.on=function(x,E,L){if(this._events=u(f,this._events||{},x,E,{context:L,ctx:this,listening:c}),c){var F=this._listeners||(this._listeners={});F[c.id]=c,c.interop=!1}return this},a.listenTo=function(x,E,L){if(!x)return this;var F=x._listenId||(x._listenId=i.uniqueId("l")),it=this._listeningTo||(this._listeningTo={}),ct=c=it[F];ct||(this._listenId||(this._listenId=i.uniqueId("l")),ct=c=it[F]=new _(this,x));var xt=g(x,E,L,this);if(c=void 0,xt)throw xt;return ct.interop&&ct.on(E,L),this};var f=function(x,E,L,F){if(L){var it=x[E]||(x[E]=[]),ct=F.context,xt=F.ctx,Ft=F.listening;Ft&&Ft.count++,it.push({callback:L,context:ct,ctx:ct||xt,listening:Ft})}return x},g=function(x,E,L,F){try{x.on(E,L,F)}catch(it){return it}};a.off=function(x,E,L){return this._events?(this._events=u(p,this._events,x,E,{context:L,listeners:this._listeners}),this):this},a.stopListening=function(x,E,L){var F=this._listeningTo;if(!F)return this;for(var it=x?[x._listenId]:i.keys(F),ct=0;ct<it.length;ct++){var xt=F[it[ct]];if(!xt)break;xt.obj.off(E,L,this),xt.interop&&xt.off(E,L)}return i.isEmpty(F)&&(this._listeningTo=void 0),this};var p=function(x,E,L,F){if(x){var it=F.context,ct=F.listeners,xt=0,Ft;if(!E&&!it&&!L){for(Ft=i.keys(ct);xt<Ft.length;xt++)ct[Ft[xt]].cleanup();return}for(Ft=E?[E]:i.keys(x);xt<Ft.length;xt++){E=Ft[xt];var Qt=x[E];if(!Qt)break;for(var Xt=[],Bt=0;Bt<Qt.length;Bt++){var Nt=Qt[Bt];if(L&&L!==Nt.callback&&L!==Nt.callback._callback||it&&it!==Nt.context)Xt.push(Nt);else{var De=Nt.listening;De&&De.off(E,L)}}Xt.length?x[E]=Xt:delete x[E]}return x}};a.once=function(x,E,L){var F=u(v,{},x,E,this.off.bind(this));return typeof x=="string"&&L==null&&(E=void 0),this.on(F,E,L)},a.listenToOnce=function(x,E,L){var F=u(v,{},E,L,this.stopListening.bind(this,x));return this.listenTo(x,F)};var v=function(x,E,L,F){if(L){var it=x[E]=i.once(function(){F(E,it),L.apply(this,arguments)});it._callback=L}return x};a.trigger=function(x){if(!this._events)return this;for(var E=Math.max(0,arguments.length-1),L=Array(E),F=0;F<E;F++)L[F]=arguments[F+1];return u(y,this._events,x,void 0,L),this};var y=function(x,E,L,F){if(x){var it=x[E],ct=x.all;it&&ct&&(ct=ct.slice()),it&&I(it,F),ct&&I(ct,[E].concat(F))}return x},I=function(x,E){var L,F=-1,it=x.length,ct=E[0],xt=E[1],Ft=E[2];switch(E.length){case 0:for(;++F<it;)(L=x[F]).callback.call(L.ctx);return;case 1:for(;++F<it;)(L=x[F]).callback.call(L.ctx,ct);return;case 2:for(;++F<it;)(L=x[F]).callback.call(L.ctx,ct,xt);return;case 3:for(;++F<it;)(L=x[F]).callback.call(L.ctx,ct,xt,Ft);return;default:for(;++F<it;)(L=x[F]).callback.apply(L.ctx,E);return}},_=function(x,E){this.id=x._listenId,this.listener=x,this.obj=E,this.interop=!0,this.count=0,this._events=void 0};_.prototype.on=a.on,_.prototype.off=function(x,E){var L;this.interop?(this._events=u(p,this._events,x,E,{context:void 0,listeners:void 0}),L=!this._events):(this.count--,L=this.count===0),L&&this.cleanup()},_.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,i.extend(n,a);var S=n.Model=function(x,E){var L=x||{};E||(E={}),this.preinitialize.apply(this,arguments),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},E.collection&&(this.collection=E.collection),E.parse&&(L=this.parse(L,E)||{});var F=i.result(this,"defaults");L=i.defaults(i.extend({},F,L),F),this.set(L,E),this.changed={},this.initialize.apply(this,arguments)};i.extend(S.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(x){return i.clone(this.attributes)},sync:function(){return n.sync.apply(this,arguments)},get:function(x){return this.attributes[x]},escape:function(x){return i.escape(this.get(x))},has:function(x){return this.get(x)!=null},matches:function(x){return!!i.iteratee(x,this)(this.attributes)},set:function(x,E,L){if(x==null)return this;var F;if(typeof x=="object"?(F=x,L=E):(F={})[x]=E,L||(L={}),!this._validate(F,L))return!1;var it=L.unset,ct=L.silent,xt=[],Ft=this._changing;this._changing=!0,Ft||(this._previousAttributes=i.clone(this.attributes),this.changed={});var Qt=this.attributes,Xt=this.changed,Bt=this._previousAttributes;for(var Nt in F)E=F[Nt],i.isEqual(Qt[Nt],E)||xt.push(Nt),i.isEqual(Bt[Nt],E)?delete Xt[Nt]:Xt[Nt]=E,it?delete Qt[Nt]:Qt[Nt]=E;if(this.idAttribute in F){var De=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,De,L)}if(!ct){xt.length&&(this._pending=L);for(var In=0;In<xt.length;In++)this.trigger("change:"+xt[In],this,Qt[xt[In]],L)}if(Ft)return this;if(!ct)for(;this._pending;)L=this._pending,this._pending=!1,this.trigger("change",this,L);return this._pending=!1,this._changing=!1,this},unset:function(x,E){return this.set(x,void 0,i.extend({},E,{unset:!0}))},clear:function(x){var E={};for(var L in this.attributes)E[L]=void 0;return this.set(E,i.extend({},x,{unset:!0}))},hasChanged:function(x){return x==null?!i.isEmpty(this.changed):i.has(this.changed,x)},changedAttributes:function(x){if(!x)return this.hasChanged()?i.clone(this.changed):!1;var E=this._changing?this._previousAttributes:this.attributes,L={},F;for(var it in x){var ct=x[it];i.isEqual(E[it],ct)||(L[it]=ct,F=!0)}return F?L:!1},previous:function(x){return x==null||!this._previousAttributes?null:this._previousAttributes[x]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(x){x=i.extend({parse:!0},x);var E=this,L=x.success;return x.success=function(F){var it=x.parse?E.parse(F,x):F;if(!E.set(it,x))return!1;L&&L.call(x.context,E,F,x),E.trigger("sync",E,F,x)},rt(this,x),this.sync("read",this,x)},save:function(x,E,L){var F;x==null||typeof x=="object"?(F=x,L=E):(F={})[x]=E,L=i.extend({validate:!0,parse:!0},L);var it=L.wait;if(F&&!it){if(!this.set(F,L))return!1}else if(!this._validate(F,L))return!1;var ct=this,xt=L.success,Ft=this.attributes;L.success=function(Bt){ct.attributes=Ft;var Nt=L.parse?ct.parse(Bt,L):Bt;if(it&&(Nt=i.extend({},F,Nt)),Nt&&!ct.set(Nt,L))return!1;xt&&xt.call(L.context,ct,Bt,L),ct.trigger("sync",ct,Bt,L)},rt(this,L),F&&it&&(this.attributes=i.extend({},Ft,F));var Qt=this.isNew()?"create":L.patch?"patch":"update";Qt==="patch"&&!L.attrs&&(L.attrs=F);var Xt=this.sync(Qt,this,L);return this.attributes=Ft,Xt},destroy:function(x){x=x?i.clone(x):{};var E=this,L=x.success,F=x.wait,it=function(){E.stopListening(),E.trigger("destroy",E,E.collection,x)};x.success=function(xt){F&&it(),L&&L.call(x.context,E,xt,x),E.isNew()||E.trigger("sync",E,xt,x)};var ct=!1;return this.isNew()?i.defer(x.success):(rt(this,x),ct=this.sync("delete",this,x)),F||it(),ct},url:function(){var x=i.result(this,"urlRoot")||i.result(this.collection,"url")||ot();if(this.isNew())return x;var E=this.get(this.idAttribute);return x.replace(/[^\/]$/,"$&/")+encodeURIComponent(E)},parse:function(x,E){return x},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(x){return this._validate({},i.extend({},x,{validate:!0}))},_validate:function(x,E){if(!E.validate||!this.validate)return!0;x=i.extend({},this.attributes,x);var L=this.validationError=this.validate(x,E)||null;return L?(this.trigger("invalid",this,L,i.extend(E,{validationError:L})),!1):!0}});var O=n.Collection=function(x,E){E||(E={}),this.preinitialize.apply(this,arguments),E.model&&(this.model=E.model),E.comparator!==void 0&&(this.comparator=E.comparator),this._reset(),this.initialize.apply(this,arguments),x&&this.reset(x,i.extend({silent:!0},E))},R={add:!0,remove:!0,merge:!0},A={add:!0,remove:!1},d=function(x,E,L){L=Math.min(Math.max(L,0),x.length);var F=Array(x.length-L),it=E.length,ct;for(ct=0;ct<F.length;ct++)F[ct]=x[ct+L];for(ct=0;ct<it;ct++)x[ct+L]=E[ct];for(ct=0;ct<F.length;ct++)x[ct+it+L]=F[ct]};i.extend(O.prototype,a,{model:S,preinitialize:function(){},initialize:function(){},toJSON:function(x){return this.map(function(E){return E.toJSON(x)})},sync:function(){return n.sync.apply(this,arguments)},add:function(x,E){return this.set(x,i.extend({merge:!1},E,A))},remove:function(x,E){E=i.extend({},E);var L=!i.isArray(x);x=L?[x]:x.slice();var F=this._removeModels(x,E);return!E.silent&&F.length&&(E.changes={added:[],merged:[],removed:F},this.trigger("update",this,E)),L?F[0]:F},set:function(x,E){if(x!=null){E=i.extend({},R,E),E.parse&&!this._isModel(x)&&(x=this.parse(x,E)||[]);var L=!i.isArray(x);x=L?[x]:x.slice();var F=E.at;F!=null&&(F=+F),F>this.length&&(F=this.length),F<0&&(F+=this.length+1);var it=[],ct=[],xt=[],Ft=[],Qt={},Xt=E.add,Bt=E.merge,Nt=E.remove,De=!1,In=this.comparator&&F==null&&E.sort!==!1,wn=i.isString(this.comparator)?this.comparator:null,Ae,Oe;for(Oe=0;Oe<x.length;Oe++){Ae=x[Oe];var hn=this.get(Ae);if(hn){if(Bt&&Ae!==hn){var Cn=this._isModel(Ae)?Ae.attributes:Ae;E.parse&&(Cn=hn.parse(Cn,E)),hn.set(Cn,E),xt.push(hn),In&&!De&&(De=hn.hasChanged(wn))}Qt[hn.cid]||(Qt[hn.cid]=!0,it.push(hn)),x[Oe]=hn}else Xt&&(Ae=x[Oe]=this._prepareModel(Ae,E),Ae&&(ct.push(Ae),this._addReference(Ae,E),Qt[Ae.cid]=!0,it.push(Ae)))}if(Nt){for(Oe=0;Oe<this.length;Oe++)Ae=this.models[Oe],Qt[Ae.cid]||Ft.push(Ae);Ft.length&&this._removeModels(Ft,E)}var $e=!1,xn=!In&&Xt&&Nt;if(it.length&&xn?($e=this.length!==it.length||i.some(this.models,function(rs,ln){return rs!==it[ln]}),this.models.length=0,d(this.models,it,0),this.length=this.models.length):ct.length&&(In&&(De=!0),d(this.models,ct,F??this.length),this.length=this.models.length),De&&this.sort({silent:!0}),!E.silent){for(Oe=0;Oe<ct.length;Oe++)F!=null&&(E.index=F+Oe),Ae=ct[Oe],Ae.trigger("add",Ae,this,E);(De||$e)&&this.trigger("sort",this,E),(ct.length||Ft.length||xt.length)&&(E.changes={added:ct,removed:Ft,merged:xt},this.trigger("update",this,E))}return L?x[0]:x}},reset:function(x,E){E=E?i.clone(E):{};for(var L=0;L<this.models.length;L++)this._removeReference(this.models[L],E);return E.previousModels=this.models,this._reset(),x=this.add(x,i.extend({silent:!0},E)),E.silent||this.trigger("reset",this,E),x},push:function(x,E){return this.add(x,i.extend({at:this.length},E))},pop:function(x){var E=this.at(this.length-1);return this.remove(E,x)},unshift:function(x,E){return this.add(x,i.extend({at:0},E))},shift:function(x){var E=this.at(0);return this.remove(E,x)},slice:function(){return o.apply(this.models,arguments)},get:function(x){if(x!=null)return this._byId[x]||this._byId[this.modelId(this._isModel(x)?x.attributes:x,x.idAttribute)]||x.cid&&this._byId[x.cid]},has:function(x){return this.get(x)!=null},at:function(x){return x<0&&(x+=this.length),this.models[x]},where:function(x,E){return this[E?"find":"filter"](x)},findWhere:function(x){return this.where(x,!0)},sort:function(x){var E=this.comparator;if(!E)throw new Error("Cannot sort a set without a comparator");x||(x={});var L=E.length;return i.isFunction(E)&&(E=E.bind(this)),L===1||i.isString(E)?this.models=this.sortBy(E):this.models.sort(E),x.silent||this.trigger("sort",this,x),this},pluck:function(x){return this.map(x+"")},fetch:function(x){x=i.extend({parse:!0},x);var E=x.success,L=this;return x.success=function(F){var it=x.reset?"reset":"set";L[it](F,x),E&&E.call(x.context,L,F,x),L.trigger("sync",L,F,x)},rt(this,x),this.sync("read",this,x)},create:function(x,E){E=E?i.clone(E):{};var L=E.wait;if(x=this._prepareModel(x,E),!x)return!1;L||this.add(x,E);var F=this,it=E.success;return E.success=function(ct,xt,Ft){L&&F.add(ct,Ft),it&&it.call(Ft.context,ct,xt,Ft)},x.save(null,E),x},parse:function(x,E){return x},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(x,E){return x[E||this.model.prototype.idAttribute||"id"]},values:function(){return new N(this,k)},keys:function(){return new N(this,z)},entries:function(){return new N(this,B)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(x,E){if(this._isModel(x))return x.collection||(x.collection=this),x;E=E?i.clone(E):{},E.collection=this;var L;return this.model.prototype?L=new this.model(x,E):L=this.model(x,E),L.validationError?(this.trigger("invalid",this,L.validationError,E),!1):L},_removeModels:function(x,E){for(var L=[],F=0;F<x.length;F++){var it=this.get(x[F]);if(it){var ct=this.indexOf(it);this.models.splice(ct,1),this.length--,delete this._byId[it.cid];var xt=this.modelId(it.attributes,it.idAttribute);xt!=null&&delete this._byId[xt],E.silent||(E.index=ct,it.trigger("remove",it,this,E)),L.push(it),this._removeReference(it,E)}}return L},_isModel:function(x){return x instanceof S},_addReference:function(x,E){this._byId[x.cid]=x;var L=this.modelId(x.attributes,x.idAttribute);L!=null&&(this._byId[L]=x),x.on("all",this._onModelEvent,this)},_removeReference:function(x,E){delete this._byId[x.cid];var L=this.modelId(x.attributes,x.idAttribute);L!=null&&delete this._byId[L],this===x.collection&&delete x.collection,x.off("all",this._onModelEvent,this)},_onModelEvent:function(x,E,L,F){if(E){if((x==="add"||x==="remove")&&L!==this)return;if(x==="destroy"&&this.remove(E,F),x==="changeId"){var it=this.modelId(E.previousAttributes(),E.idAttribute),ct=this.modelId(E.attributes,E.idAttribute);it!=null&&delete this._byId[it],ct!=null&&(this._byId[ct]=E)}}this.trigger.apply(this,arguments)}});var C=typeof Symbol=="function"&&Symbol.iterator;C&&(O.prototype[C]=O.prototype.values);var N=function(x,E){this._collection=x,this._kind=E,this._index=0},k=1,z=2,B=3;C&&(N.prototype[C]=function(){return this}),N.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var x=this._collection.at(this._index);this._index++;var E;if(this._kind===k)E=x;else{var L=this._collection.modelId(x.attributes,x.idAttribute);this._kind===z?E=L:E=[L,x]}return{value:E,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var U=n.View=function(x){this.cid=i.uniqueId("view"),this.preinitialize.apply(this,arguments),i.extend(this,i.pick(x,K)),this._ensureElement(),this.initialize.apply(this,arguments)},X=/^(\S+)\s*(.*)$/,K=["model","collection","el","id","attributes","className","tagName","events"];i.extend(U.prototype,a,{tagName:"div",$:function(x){return this.$el.find(x)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(x){return this.undelegateEvents(),this._setElement(x),this.delegateEvents(),this},_setElement:function(x){this.$el=x instanceof n.$?x:n.$(x),this.el=this.$el[0]},delegateEvents:function(x){if(x||(x=i.result(this,"events")),!x)return this;this.undelegateEvents();for(var E in x){var L=x[E];if(i.isFunction(L)||(L=this[L]),!!L){var F=E.match(X);this.delegate(F[1],F[2],L.bind(this))}}return this},delegate:function(x,E,L){return this.$el.on(x+".delegateEvents"+this.cid,E,L),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(x,E,L){return this.$el.off(x+".delegateEvents"+this.cid,E,L),this},_createElement:function(x){return document.createElement(x)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var x=i.extend({},i.result(this,"attributes"));this.id&&(x.id=i.result(this,"id")),this.className&&(x.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(x)}},_setAttributes:function(x){this.$el.attr(x)}});var st=function(x,E,L,F){switch(E){case 1:return function(){return x[L](this[F])};case 2:return function(it){return x[L](this[F],it)};case 3:return function(it,ct){return x[L](this[F],dt(it,this),ct)};case 4:return function(it,ct,xt){return x[L](this[F],dt(it,this),ct,xt)};default:return function(){var it=o.call(arguments);return it.unshift(this[F]),x[L].apply(x,it)}}},ut=function(x,E,L,F){i.each(L,function(it,ct){E[ct]&&(x.prototype[ct]=st(E,it,ct,F))})},dt=function(x,E){return i.isFunction(x)?x:i.isObject(x)&&!E._isModel(x)?wt(x):i.isString(x)?function(L){return L.get(x)}:x},wt=function(x){var E=i.matches(x);return function(L){return E(L.attributes)}},mt={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Pt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};i.each([[O,mt,"models"],[S,Pt,"attributes"]],function(x){var E=x[0],L=x[1],F=x[2];E.mixin=function(it){var ct=i.reduce(i.functions(it),function(xt,Ft){return xt[Ft]=0,xt},{});ut(E,it,ct,F)},ut(E,i,L,F)}),n.sync=function(x,E,L){var F=Ct[x];i.defaults(L||(L={}),{emulateHTTP:n.emulateHTTP,emulateJSON:n.emulateJSON});var it={type:F,dataType:"json"};if(L.url||(it.url=i.result(E,"url")||ot()),L.data==null&&E&&(x==="create"||x==="update"||x==="patch")&&(it.contentType="application/json",it.data=JSON.stringify(L.attrs||E.toJSON(L))),L.emulateJSON&&(it.contentType="application/x-www-form-urlencoded",it.data=it.data?{model:it.data}:{}),L.emulateHTTP&&(F==="PUT"||F==="DELETE"||F==="PATCH")){it.type="POST",L.emulateJSON&&(it.data._method=F);var ct=L.beforeSend;L.beforeSend=function(Qt){if(Qt.setRequestHeader("X-HTTP-Method-Override",F),ct)return ct.apply(this,arguments)}}it.type!=="GET"&&!L.emulateJSON&&(it.processData=!1);var xt=L.error;L.error=function(Qt,Xt,Bt){L.textStatus=Xt,L.errorThrown=Bt,xt&&xt.call(L.context,Qt,Xt,Bt)};var Ft=L.xhr=n.ajax(i.extend(it,L));return E.trigger("request",E,Ft,L),Ft};var Ct={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};n.ajax=function(){return n.$.ajax.apply(n.$,arguments)};var J=n.Router=function(x){x||(x={}),this.preinitialize.apply(this,arguments),x.routes&&(this.routes=x.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Q=/\((.*?)\)/g,tt=/(\(\?)?:\w+/g,nt=/\*\w+/g,Gt=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(J.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(x,E,L){i.isRegExp(x)||(x=this._routeToRegExp(x)),i.isFunction(E)&&(L=E,E=""),L||(L=this[E]);var F=this;return n.history.route(x,function(it){var ct=F._extractParameters(x,it);F.execute(L,ct,E)!==!1&&(F.trigger.apply(F,["route:"+E].concat(ct)),F.trigger("route",E,ct),n.history.trigger("route",F,E,ct))}),this},execute:function(x,E,L){x&&x.apply(this,E)},navigate:function(x,E){return n.history.navigate(x,E),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var x,E=i.keys(this.routes);(x=E.pop())!=null;)this.route(x,this.routes[x])}},_routeToRegExp:function(x){return x=x.replace(Gt,"\\$&").replace(Q,"(?:$1)?").replace(tt,function(E,L){return L?E:"([^/?]+)"}).replace(nt,"([^?]*?)"),new RegExp("^"+x+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(x,E){var L=x.exec(E).slice(1);return i.map(L,function(F,it){return it===L.length-1?F||null:F?decodeURIComponent(F):null})}});var kt=n.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Ht=/^[#\/]|\s+$/g,Tt=/^\/+|\/+$/g,ne=/#.*$/;kt.started=!1,i.extend(kt.prototype,a,{interval:50,atRoot:function(){var x=this.location.pathname.replace(/[^\/]$/,"$&/");return x===this.root&&!this.getSearch()},matchRoot:function(){var x=this.decodeFragment(this.location.pathname),E=x.slice(0,this.root.length-1)+"/";return E===this.root},decodeFragment:function(x){return decodeURI(x.replace(/%25/g,"%2525"))},getSearch:function(){var x=this.location.href.replace(/#.*/,"").match(/\?.+/);return x?x[0]:""},getHash:function(x){var E=(x||this).location.href.match(/#(.*)$/);return E?E[1]:""},getPath:function(){var x=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return x.charAt(0)==="/"?x.slice(1):x},getFragment:function(x){return x==null&&(this._usePushState||!this._wantsHashChange?x=this.getPath():x=this.getHash()),x.replace(Ht,"")},start:function(x){if(kt.started)throw new Error("Backbone.history has already been started");if(kt.started=!0,this.options=i.extend({root:"/"},this.options,x),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Tt,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var E=this.root.slice(0,-1)||"/";return this.location.replace(E+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var L=document.body,F=L.insertBefore(this.iframe,L.firstChild).contentWindow;F.document.open(),F.document.close(),F.location.hash="#"+this.fragment}var it=window.addEventListener||function(ct,xt){return attachEvent("on"+ct,xt)};if(this._usePushState?it("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?it("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var x=window.removeEventListener||function(E,L){return detachEvent("on"+E,L)};this._usePushState?x("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&x("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),kt.started=!1},route:function(x,E){this.handlers.unshift({route:x,callback:E})},checkUrl:function(x){var E=this.getFragment();if(E===this.fragment&&this.iframe&&(E=this.getHash(this.iframe.contentWindow)),E===this.fragment)return!1;this.iframe&&this.navigate(E),this.loadUrl()},loadUrl:function(x){return this.matchRoot()?(x=this.fragment=this.getFragment(x),i.some(this.handlers,function(E){if(E.route.test(x))return E.callback(x),!0})):!1},navigate:function(x,E){if(!kt.started)return!1;(!E||E===!0)&&(E={trigger:!!E}),x=this.getFragment(x||"");var L=this.root;(x===""||x.charAt(0)==="?")&&(L=L.slice(0,-1)||"/");var F=L+x;x=x.replace(ne,"");var it=this.decodeFragment(x);if(this.fragment!==it){if(this.fragment=it,this._usePushState)this.history[E.replace?"replaceState":"pushState"]({},document.title,F);else if(this._wantsHashChange){if(this._updateHash(this.location,x,E.replace),this.iframe&&x!==this.getHash(this.iframe.contentWindow)){var ct=this.iframe.contentWindow;E.replace||(ct.document.open(),ct.document.close()),this._updateHash(ct.location,x,E.replace)}}else return this.location.assign(F);if(E.trigger)return this.loadUrl(x)}},_updateHash:function(x,E,L){if(L){var F=x.href.replace(/(javascript:|#).*$/,"");x.replace(F+"#"+E)}else x.hash="#"+E}}),n.history=new kt;var Ot=function(x,E){var L=this,F;return x&&i.has(x,"constructor")?F=x.constructor:F=function(){return L.apply(this,arguments)},i.extend(F,L,E),F.prototype=i.create(L.prototype,x),F.prototype.constructor=F,F.__super__=L.prototype,F};S.extend=O.extend=J.extend=U.extend=kt.extend=Ot;var ot=function(){throw new Error('A "url" property or function must be specified')},rt=function(x,E){var L=E.error;E.error=function(F){L&&L.call(E.context,x,F,E),x.trigger("error",x,F,E)}};return n})})(RP);const Qe=yf(RP),tU=function(){var t=typeof window=="object"&&!!window.SVGAngle;if(!t)return function(){throw new Error("SVG is required to use Vectorizer.")};var e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n="1.1",i=Math,r=i.PI,s=i.atan2,o=i.sqrt,a=i.min,l=i.max,c=i.cos,u=i.sin,f=function(A,d,C){if(!(this instanceof f))return f.apply(Object.create(f.prototype),arguments);if(A){if(f.isV(A)&&(A=A.node),d=d||{},f.isString(A)){if(A=A.trim(),A.toLowerCase()==="svg")A=f.createSvgDocument();else if(A[0]==="<"){var N=f.createSvgDocument(A);if(N.childNodes.length>1){var k=[],z,B;for(z=0,B=N.childNodes.length;z<B;z++){var U=N.childNodes[z];k.push(new f(document.importNode(U,!0)))}return k}A=document.importNode(N.firstChild,!0)}else A=document.createElementNS(e.svg,A);f.ensureId(A)}return this.node=A,this.setAttributes(d),C&&this.append(C),this}},g=f.prototype;Object.defineProperty(g,"id",{enumerable:!0,get:function(){return this.node.id},set:function(A){this.node.id=A}}),g.getTransformToElement=function(A){var d=this.node;if(f.isSVGGraphicsElement(A)&&f.isSVGGraphicsElement(d)){var C=f.toNode(A).getScreenCTM(),N=d.getScreenCTM();if(C&&N)return C.inverse().multiply(N)}return f.createSVGMatrix()},g.transform=function(A,d){var C=this.node;if(f.isUndefined(A))return f.transformStringToMatrix(this.attr("transform"));if(d&&d.absolute)return this.attr("transform",f.matrixToTransformString(A));var N=f.createSVGTransform(A);return C.transform.baseVal.appendItem(N),this},g.translate=function(A,d,C){C=C||{},d=d||0;var N=this.attr("transform")||"",k=f.parseTransformString(N);if(N=k.value,f.isUndefined(A))return k.translate;N=N.replace(/translate\([^)]*\)/g,"").trim();var z=C.absolute?A:k.translate.tx+A,B=C.absolute?d:k.translate.ty+d,U="translate("+z+","+B+")";return this.attr("transform",(U+" "+N).trim()),this},g.rotate=function(A,d,C,N){N=N||{};var k=this.attr("transform")||"",z=f.parseTransformString(k);if(k=z.value,f.isUndefined(A))return z.rotate;k=k.replace(/rotate\([^)]*\)/g,"").trim(),A%=360;var B=N.absolute?A:z.rotate.angle+A,U=d!==void 0&&C!==void 0?","+d+","+C:"",X="rotate("+B+U+")";return this.attr("transform",(k+" "+X).trim()),this},g.scale=function(A,d){d=f.isUndefined(d)?A:d;var C=this.attr("transform")||"",N=f.parseTransformString(C);if(C=N.value,f.isUndefined(A))return N.scale;C=C.replace(/scale\([^)]*\)/g,"").trim();var k="scale("+A+","+d+")";return this.attr("transform",(C+" "+k).trim()),this},g.bbox=function(A,d){var C,N=this.node,k=N.ownerSVGElement;if(!k)return new vt(0,0,0,0);try{C=N.getBBox()}catch{C={x:N.clientLeft,y:N.clientTop,width:N.clientWidth,height:N.clientHeight}}if(A)return new vt(C);var z=this.getTransformToElement(d||k);return f.transformRect(C,z)},g.getBBox=function(A){var d={},C,N=this.node,k=N.ownerSVGElement;if(!k||!f.isSVGGraphicsElement(N))return new vt(0,0,0,0);if(A&&(A.target&&(d.target=f.toNode(A.target)),A.recursive&&(d.recursive=A.recursive)),d.recursive){var B=this.children(),U=B.length;if(U===0)return this.getBBox({target:d.target,recursive:!1});d.target||(d.target=this);for(var X=0;X<U;X++){var K=B[X],st;K.children().length===0?st=K.getBBox({target:d.target,recursive:!1}):st=K.getBBox({target:d.target,recursive:!0}),C?C=C.union(st):C=st}return C}else{try{C=N.getBBox()}catch{C={x:N.clientLeft,y:N.clientTop,width:N.clientWidth,height:N.clientHeight}}if(d.target){var z=this.getTransformToElement(d.target);return f.transformRect(C,z)}else return new vt(C)}};function p(A,d){A||(A={});var C=f("textPath"),N=A.d;if(N&&A["xlink:href"]===void 0){var k=f("path").attr("d",N).appendTo(d.defs());C.attr("xlink:href","#"+k.id)}return f.isObject(A)&&C.attr(A),C.node}function v(A,d,C){C||(C={});for(var N=C.includeAnnotationIndices,k=C.eol,z=C.lineHeight,B=C.baseSize,U=0,X={},K=d.length-1,st=0;st<=K;st++){var ut=d[st],dt=null;if(f.isObject(ut)){var wt=ut.attrs,mt=f("tspan",wt),Pt=mt.node,Ct=ut.t;k&&st===K&&(Ct+=k),Pt.textContent=Ct;var J=wt.class;J&&mt.addClass(J),N&&mt.attr("annotations",ut.annotations),dt=parseFloat(wt["font-size"]),isFinite(dt)||(dt=B),dt&&dt>U&&(U=dt)}else k&&st===K&&(ut+=k),Pt=document.createTextNode(ut||" "),B&&B>U&&(U=B);A.appendChild(Pt)}return U&&(X.maxFontSize=U),z?X.lineHeight=z:U&&(X.lineHeight=U*1.2),X}var y=/em$/;function I(A,d){var C=parseFloat(A);return y.test(A)?C*d:C}function _(A,d,C,N){if(!Array.isArray(d))return 0;var k=d.length;if(!k)return 0;for(var z=d[0],B=I(z.maxFontSize,C)||C,U=0,X=I(N,C),K=1;K<k;K++){z=d[K];var st=I(z.lineHeight,C)||X;U+=st}var ut=I(z.maxFontSize,C)||C,dt;switch(A){case"middle":dt=B/2-.15*ut-U/2;break;case"bottom":dt=-(.25*ut)-U;break;default:case"top":dt=.8*B;break}return dt}g.text=function(A,d){if(A&&typeof A!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");A=f.sanitizeText(A),d||(d={});var C=d.displayEmpty,N=d.eol,k=d.textPath,z=d.textVerticalAnchor,B=z==="middle"||z==="bottom"||z==="top",U=d.x;U===void 0&&(U=this.attr("x")||0);var X=d.includeAnnotationIndices,K=d.annotations;K&&!f.isArray(K)&&(K=[K]);var st=d.lineHeight,ut=st==="auto",dt=ut?"1.5em":st||"1em";this.empty(),this.attr({"xml:space":"preserve",display:A||C?null:"none"});var wt=parseFloat(this.attr("font-size"));wt||(wt=16,(B||K)&&this.attr("font-size",wt));var mt=document,Pt;k?(typeof k=="string"&&(k={d:k}),Pt=p(k,this)):Pt=mt.createDocumentFragment();for(var Ct=0,J=A.split(`
`),Q=[],tt,nt=0,Gt=J.length-1;nt<=Gt;nt++){var kt=dt,Ht="v-line",Tt=mt.createElementNS(e.svg,"tspan"),ne=J[nt],Ot;if(ne)if(K){var ot=f.annotateString(ne,K,{offset:-Ct,includeAnnotationIndices:X});Ot=v(Tt,ot,{includeAnnotationIndices:X,eol:nt!==Gt&&N,lineHeight:ut?null:dt,baseSize:wt});var rt=Ot.lineHeight;rt&&ut&&nt!==0&&(kt=rt),nt===0&&(tt=Ot.maxFontSize*.8)}else N&&nt!==Gt&&(ne+=N),Tt.textContent=ne;else{Tt.textContent="-",Ht+=" v-empty-line";var x=Tt.style;if(x.fillOpacity=0,x.strokeOpacity=0,K){Ot={},ot=f.findAnnotationsAtIndex(K,Ct);let L=wt;for(let F=ot.length;F>0;F--){const it=ot[F-1].attrs;if(!it||!("font-size"in it))continue;const ct=parseFloat(it["font-size"]);if(isFinite(ct)){L=ct;break}}ut&&(nt>0?kt=L*1.2:tt=L*.8),Tt.setAttribute("font-size",L),Ot.maxFontSize=L}}Ot&&Q.push(Ot),nt>0&&Tt.setAttribute("dy",kt),(nt>0||k)&&Tt.setAttribute("x",U),Tt.className.baseVal=Ht,Pt.appendChild(Tt),Ct+=ne.length+1}if(B)if(K)kt=_(z,Q,wt,dt);else if(z==="top")kt="0.8em";else{var E;switch(Gt>0?(E=parseFloat(dt)||1,E*=Gt,y.test(dt)||(E/=wt)):E=0,z){case"middle":kt=.3-E/2+"em";break;case"bottom":kt=-E-.3+"em";break}}else z===0?kt="0em":z?kt=z:(kt=0,this.attr("y")===null&&this.attr("y",tt||"0.8em"));return Pt.firstChild.setAttribute("dy",kt),this.append(Pt),this},g.removeAttr=function(A){var d=f.qualifyAttr(A),C=this.node;return d.ns?C.hasAttributeNS(d.ns,d.local)&&C.removeAttributeNS(d.ns,d.local):C.hasAttribute(A)&&C.removeAttribute(A),this},g.attr=function(A,d){if(f.isUndefined(A)){for(var C=this.node.attributes,N={},k=0;k<C.length;k++)N[C[k].name]=C[k].value;return N}if(f.isString(A)&&f.isUndefined(d))return this.node.getAttribute(A);if(typeof A=="object")for(var z in A)A.hasOwnProperty(z)&&this.setAttribute(z,A[z]);else this.setAttribute(A,d);return this},g.normalizePath=function(){var A=this.tagName();return A==="PATH"&&this.attr("d",f.normalizePathData(this.attr("d"))),this},g.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},g.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},g.setAttributes=function(A){for(var d in A)A.hasOwnProperty(d)&&this.setAttribute(d,A[d]);return this},g.append=function(A){f.isArray(A)||(A=[A]);for(var d=0,C=A.length;d<C;d++)this.node.appendChild(f.toNode(A[d]));return this},g.prepend=function(A){var d=this.node.firstChild;return d?f(d).before(A):this.append(A)},g.before=function(A){var d=this.node,C=d.parentNode;if(C){f.isArray(A)||(A=[A]);for(var N=0,k=A.length;N<k;N++)C.insertBefore(f.toNode(A[N]),d)}return this},g.appendTo=function(A){return f.toNode(A).appendChild(this.node),this},g.svg=function(){return this.node instanceof window.SVGSVGElement?this:f(this.node.ownerSVGElement)},g.tagName=function(){return this.node.tagName.toUpperCase()},g.defs=function(){var A=this.svg()||this,d=A.node.getElementsByTagName("defs")[0];return d?f(d):f("defs").appendTo(A)},g.clone=function(){var A=f(this.node.cloneNode(!0));return A.node.id=f.uniqueId(),A},g.findOne=function(A){var d=this.node.querySelector(A);return d?f(d):void 0},g.find=function(A){var d=[],C=this.node.querySelectorAll(A);if(C)for(var N=0;N<C.length;N++)d.push(f(C[N]));return d},g.children=function(){for(var A=this.node.childNodes,d=[],C=0;C<A.length;C++){var N=A[C];N.nodeType===1&&d.push(f(A[C]))}return d},g.parent=function(){return f(this.node.parentNode)||null},g.index=function(){for(var A=0,d=this.node.previousSibling;d;)d.nodeType===1&&A++,d=d.previousSibling;return A},g.findParentByClass=function(A,d){for(var C=this.node.ownerSVGElement,N=this.node.parentNode;N&&N!==d&&N!==C;){var k=f(N);if(k.hasClass(A))return k;N=N.parentNode}return null},g.contains=function(A){var d=this.node,C=f.toNode(A),N=C&&C.parentNode;return d===N||!!(N&&N.nodeType===1&&d.compareDocumentPosition(N)&16)},g.toLocalPoint=function(A,d){var C=this.svg().node,N=C.createSVGPoint();N.x=A,N.y=d;try{var k=N.matrixTransform(C.getScreenCTM().inverse()),z=this.getTransformToElement(C).inverse()}catch{return N}return k.matrixTransform(z)},g.translateCenterToPoint=function(A){var d=this.getBBox({target:this.svg()}),C=d.center();return this.translate(A.x-C.x,A.y-C.y),this},g.translateAndAutoOrient=function(A,d,C){A=new Z(A),d=new Z(d),C||(C=this.svg());var N=this.scale();this.attr("transform","");var k=this.getBBox({target:C}).scale(N.sx,N.sy),z=f.createSVGTransform();z.setTranslate(-k.x-k.width/2,-k.y-k.height/2);var B=f.createSVGTransform(),U=A.angleBetween(d,A.clone().offset(1,0));U&&B.setRotate(U,0,0);var X=f.createSVGTransform(),K=A.clone().move(d,k.width/2);X.setTranslate(2*A.x-K.x,2*A.y-K.y);var st=this.getTransformToElement(C),ut=f.createSVGTransform();return ut.setMatrix(X.matrix.multiply(B.matrix.multiply(z.matrix.multiply(st.scale(N.sx,N.sy))))),this.attr("transform",f.matrixToTransformString(ut.matrix)),this},g.animateAlongPath=function(A,d){d=f.toNode(d);var C=f.ensureId(d),N=f("animateMotion",A),k=f("mpath",{"xlink:href":"#"+C});N.append(k),this.append(N);try{N.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var z=N.node;z.animators=[];var B=z.getAttribute("id");B&&(id2anim[B]=z);for(var U=getTargets(z),X=0,K=U.length;X<K;X++){var st=U[X],ut=new Animator(z,st,X);animators.push(ut),z.animators[X]=ut,ut.register()}}}return this};const S=/[^\x20\t\r\n\f]+/g;function O(A){return f.isString(A)?A.trim().match(S)||[]:[]}g.hasClass=function(A){return f.isString(A)?this.node.classList.contains(A.trim()):!1},g.addClass=function(A){return this.node.classList.add(...O(A)),this},g.removeClass=function(A){return this.node.classList.remove(...O(A)),this},g.toggleClass=function(A,d){const C=O(A);for(let N=0;N<C.length;N++)this.node.classList.toggle(C[N],d);return this},g.sample=function(A){A=A||1;for(var d=this.node,C=d.getTotalLength(),N=[],k=0,z;k<C;)z=d.getPointAtLength(k),N.push({x:z.x,y:z.y,distance:k}),k+=A;return N},g.convertToPath=function(){var A=f("path");A.attr(this.attr());var d=this.convertToPathData();return d&&A.attr("d",d),A},g.convertToPathData=function(){var A=this.tagName();switch(A){case"PATH":return this.attr("d");case"LINE":return f.convertLineToPathData(this.node);case"POLYGON":return f.convertPolygonToPathData(this.node);case"POLYLINE":return f.convertPolylineToPathData(this.node);case"ELLIPSE":return f.convertEllipseToPathData(this.node);case"CIRCLE":return f.convertCircleToPathData(this.node);case"RECT":return f.convertRectToPathData(this.node)}throw new Error(A+" cannot be converted to PATH.")},f.prototype.toGeometryShape=function(){var A,d,C,N,k,z,B,U,X,K,st,ut,dt,wt,mt;switch(this.tagName()){case"RECT":return A=parseFloat(this.attr("x"))||0,d=parseFloat(this.attr("y"))||0,C=parseFloat(this.attr("width"))||0,N=parseFloat(this.attr("height"))||0,new vt(A,d,C,N);case"CIRCLE":return k=parseFloat(this.attr("cx"))||0,z=parseFloat(this.attr("cy"))||0,B=parseFloat(this.attr("r"))||0,new Tn({x:k,y:z},B,B);case"ELLIPSE":return k=parseFloat(this.attr("cx"))||0,z=parseFloat(this.attr("cy"))||0,U=parseFloat(this.attr("rx"))||0,X=parseFloat(this.attr("ry"))||0,new Tn({x:k,y:z},U,X);case"POLYLINE":return K=f.getPointsFromSvgNode(this),new Ce(K);case"POLYGON":return K=f.getPointsFromSvgNode(this),K.length>1&&K.push(K[0]),new Ce(K);case"PATH":return st=this.attr("d"),_t.isDataSupported(st)||(st=f.normalizePathData(st)),new _t(st);case"LINE":return ut=parseFloat(this.attr("x1"))||0,wt=parseFloat(this.attr("y1"))||0,dt=parseFloat(this.attr("x2"))||0,mt=parseFloat(this.attr("y2"))||0,new It({x:ut,y:wt},{x:dt,y:mt})}return this.getBBox()},g.findIntersection=function(A,d){var C=this.svg().node;d=d||C;var N=this.getBBox({target:d}),k=N.center();if(N.intersectionWithLineFromCenterToPoint(A)){var z,B=this.tagName();if(B==="RECT"){var U=new vt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),X=this.getTransformToElement(d),K=f.decomposeMatrix(X),st=C.createSVGTransform();st.setRotate(-K.rotation,k.x,k.y);var ut=f.transformRect(U,st.matrix.multiply(X));z=new vt(ut).intersectionWithLineFromCenterToPoint(A,K.rotation)}else if(B==="PATH"||B==="POLYGON"||B==="POLYLINE"||B==="CIRCLE"||B==="ELLIPSE"){var dt=B==="PATH"?this:this.convertToPath(),wt=dt.sample(),mt=1/0,Pt=[],Ct,J,Q,tt,nt,Gt;for(Ct=0;Ct<wt.length;Ct++)J=wt[Ct],Q=f.createSVGPoint(J.x,J.y),Q=Q.matrixTransform(this.getTransformToElement(d)),J=new Z(Q),tt=J.distance(k),nt=J.distance(A)*1.1,Gt=tt+nt,Gt<mt?(mt=Gt,Pt=[{sample:J,refDistance:nt}]):Gt<mt+1&&Pt.push({sample:J,refDistance:nt});Pt.sort(function(kt,Ht){return kt.refDistance-Ht.refDistance}),Pt[0]&&(z=Pt[0].sample)}return z}},g.setAttribute=function(A,d){var C=this.node;if(d===null)return this.removeAttr(A),this;var N=f.qualifyAttr(A);return N.ns?C.setAttributeNS(N.ns,A,d):A==="id"?C.id=d:C.setAttribute(A,d),this},f.createSvgDocument=function(A){if(A){const C=`<svg xmlns="${e.svg}" xmlns:xlink="${e.xlink}" version="${n}">${A}</svg>`,{documentElement:N}=f.parseXML(C,{async:!1});return N}const d=document.createElementNS(e.svg,"svg");return d.setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),d.setAttribute("version",n),d},f.createSVGStyle=function(A){const{node:d}=f("style",{type:"text/css"},[f.createCDATASection(A)]);return d},f.createCDATASection=function(A=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(A)},f.idCounter=0,f.uniqueId=function(){return"v-"+ ++f.idCounter},f.toNode=function(A){return f.isV(A)?A.node:A.nodeName&&A||A[0]},f.ensureId=function(A){return A=f.toNode(A),A.id||(A.id=f.uniqueId())},f.sanitizeText=function(A){return(A||"").replace(/ /g,"")},f.isUndefined=function(A){return typeof A>"u"},f.isString=function(A){return typeof A=="string"},f.isObject=function(A){return A&&typeof A=="object"},f.isArray=Array.isArray,f.parseXML=function(A,d){d=d||{};var C;try{var N=new DOMParser;f.isUndefined(d.async)||(N.async=d.async),C=N.parseFromString(A,"text/xml")}catch{C=void 0}if(!C||C.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+A);return C},f.qualifyAttr=function(A){if(A.indexOf(":")!==-1){var d=A.split(":");return{ns:e[d[0]],local:d[1]}}return{ns:null,local:A}},f.transformSeparatorRegex=/[ ,]+/,f.transformRegex=/\b\w+\([^()]+\)/g,f.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,f.transformTranslateRegex=/\btranslate\(([^()]+)\)/,f.transformRotateRegex=/\brotate\(([^()]+)\)/,f.transformScaleRegex=/\bscale\(([^()]+)\)/,f.transformStringToMatrix=function(A){let d=f.createSVGMatrix();const C=A&&A.match(f.transformRegex);if(!C)return d;const N=C.length;for(let k=0;k<N;k++){const B=C[k].match(f.transformFunctionRegex);if(B){let U,X,K,st,ut,dt=f.createSVGMatrix();const wt=B[1].toLowerCase(),mt=B[2].split(f.transformSeparatorRegex);switch(wt){case"scale":U=parseFloat(mt[0]),X=mt[1]===void 0?U:parseFloat(mt[1]),dt=dt.scaleNonUniform(U,X);break;case"translate":K=parseFloat(mt[0]),st=parseFloat(mt[1]),dt=dt.translate(K,st);break;case"rotate":ut=parseFloat(mt[0]),K=parseFloat(mt[1])||0,st=parseFloat(mt[2])||0,K!==0||st!==0?dt=dt.translate(K,st).rotate(ut).translate(-K,-st):dt=dt.rotate(ut);break;case"skewx":ut=parseFloat(mt[0]),dt=dt.skewX(ut);break;case"skewy":ut=parseFloat(mt[0]),dt=dt.skewY(ut);break;case"matrix":dt.a=parseFloat(mt[0]),dt.b=parseFloat(mt[1]),dt.c=parseFloat(mt[2]),dt.d=parseFloat(mt[3]),dt.e=parseFloat(mt[4]),dt.f=parseFloat(mt[5]);break;default:continue}d=d.multiply(dt)}}return d},f.matrixToTransformString=function(A){return A||(A=!0),"matrix("+(A.a!==void 0?A.a:1)+","+(A.b!==void 0?A.b:0)+","+(A.c!==void 0?A.c:0)+","+(A.d!==void 0?A.d:1)+","+(A.e!==void 0?A.e:0)+","+(A.f!==void 0?A.f:0)+")"},f.parseTransformString=function(A){var d,C,N;if(A){var k=f.transformSeparatorRegex;if(A.trim().indexOf("matrix")>=0){var z=f.transformStringToMatrix(A),B=f.decomposeMatrix(z);d=[B.translateX,B.translateY],N=[B.scaleX,B.scaleY],C=[B.rotation];var U=[];(d[0]!==0||d[1]!==0)&&U.push("translate("+d+")"),(N[0]!==1||N[1]!==1)&&U.push("scale("+N+")"),C[0]!==0&&U.push("rotate("+C+")"),A=U.join(" ")}else{const K=A.match(f.transformTranslateRegex);K&&(d=K[1].split(k));const st=A.match(f.transformRotateRegex);st&&(C=st[1].split(k));const ut=A.match(f.transformScaleRegex);ut&&(N=ut[1].split(k))}}var X=N&&N[0]?parseFloat(N[0]):1;return{value:A,translate:{tx:d&&d[0]?parseInt(d[0],10):0,ty:d&&d[1]?parseInt(d[1],10):0},rotate:{angle:C&&C[0]?parseInt(C[0],10):0,cx:C&&C[1]?parseInt(C[1],10):void 0,cy:C&&C[2]?parseInt(C[2],10):void 0},scale:{sx:X,sy:N&&N[1]?parseFloat(N[1]):X}}},f.deltaTransformPoint=function(A,d){var C=d.x*A.a+d.y*A.c+0,N=d.x*A.b+d.y*A.d+0;return{x:C,y:N}},f.decomposeMatrix=function(A){var d=f.deltaTransformPoint(A,{x:0,y:1}),C=f.deltaTransformPoint(A,{x:1,y:0}),N=180/r*s(d.y,d.x)-90,k=180/r*s(C.y,C.x);return{translateX:A.e,translateY:A.f,scaleX:o(A.a*A.a+A.b*A.b),scaleY:o(A.c*A.c+A.d*A.d),skewX:N,skewY:k,rotation:N}},f.matrixToScale=function(A){var d,C,N,k;return A?(d=f.isUndefined(A.a)?1:A.a,k=f.isUndefined(A.d)?1:A.d,C=A.b,N=A.c):d=k=1,{sx:C?o(d*d+C*C):d,sy:N?o(N*N+k*k):k}},f.matrixToRotate=function(A){var d={x:0,y:1};return A&&(d=f.deltaTransformPoint(A,d)),{angle:Hi(df(s(d.y,d.x))-90)}},f.matrixToTranslate=function(A){return{tx:A&&A.e||0,ty:A&&A.f||0}},f.isV=function(A){return A instanceof f},f.isVElement=f.isV,f.isSVGGraphicsElement=function(A){return A?(A=f.toNode(A),A instanceof SVGElement&&typeof A.getScreenCTM=="function"):!1};var R=f("svg").node;return f.createSVGMatrix=function(A){var d=R.createSVGMatrix();for(var C in A)d[C]=A[C];return d},f.createSVGTransform=function(A){return f.isUndefined(A)?R.createSVGTransform():(A instanceof SVGMatrix||(A=f.createSVGMatrix(A)),R.createSVGTransformFromMatrix(A))},f.createSVGPoint=function(A,d){var C=R.createSVGPoint();return C.x=A,C.y=d,C},f.transformRect=function(A,d){var C=R.createSVGPoint();C.x=A.x,C.y=A.y;var N=C.matrixTransform(d);C.x=A.x+A.width,C.y=A.y;var k=C.matrixTransform(d);C.x=A.x+A.width,C.y=A.y+A.height;var z=C.matrixTransform(d);C.x=A.x,C.y=A.y+A.height;var B=C.matrixTransform(d),U=a(N.x,k.x,z.x,B.x),X=l(N.x,k.x,z.x,B.x),K=a(N.y,k.y,z.y,B.y),st=l(N.y,k.y,z.y,B.y);return new vt(U,K,X-U,st-K)},f.transformPoint=function(A,d){return new Z(f.createSVGPoint(A.x,A.y).matrixTransform(d))},f.transformLine=function(A,d){return new It(f.transformPoint(A.start,d),f.transformPoint(A.end,d))},f.transformPolyline=function(A,d){var C=A instanceof Ce?A.points:A;f.isArray(C)||(C=[]);for(var N=[],k=0,z=C.length;k<z;k++)N[k]=f.transformPoint(C[k],d);return new Ce(N)},f.styleToObject=function(A){for(var d={},C=A.split(";"),N=0;N<C.length;N++){var k=C[N],z=k.split("=");d[z[0].trim()]=z[1].trim()}return d},f.createSlicePathData=function(A,d,C,N){var k=2*r-1e-6,z=A,B=d,U=C,X=N,K=(X<U&&(K=U,U=X,X=K),X-U),st=K<r?"0":"1",ut=c(U),dt=u(U),wt=c(X),mt=u(X);return K>=k?z?"M0,"+B+"A"+B+","+B+" 0 1,1 0,"+-B+"A"+B+","+B+" 0 1,1 0,"+B+"M0,"+z+"A"+z+","+z+" 0 1,0 0,"+-z+"A"+z+","+z+" 0 1,0 0,"+z+"Z":"M0,"+B+"A"+B+","+B+" 0 1,1 0,"+-B+"A"+B+","+B+" 0 1,1 0,"+B+"Z":z?"M"+B*ut+","+B*dt+"A"+B+","+B+" 0 "+st+",1 "+B*wt+","+B*mt+"L"+z*wt+","+z*mt+"A"+z+","+z+" 0 "+st+",0 "+z*ut+","+z*dt+"Z":"M"+B*ut+","+B*dt+"A"+B+","+B+" 0 "+st+",1 "+B*wt+","+B*mt+"L0,0Z"},f.mergeAttrs=function(A,d){for(var C in d)C==="class"?A[C]=A[C]?A[C]+" "+d[C]:d[C]:C==="style"?f.isObject(A[C])&&f.isObject(d[C])?A[C]=f.mergeAttrs(A[C],d[C]):f.isObject(A[C])?A[C]=f.mergeAttrs(A[C],f.styleToObject(d[C])):f.isObject(d[C])?A[C]=f.mergeAttrs(f.styleToObject(A[C]),d[C]):A[C]=f.mergeAttrs(f.styleToObject(A[C]),f.styleToObject(d[C])):A[C]=d[C];return A},f.annotateString=function(A,d,C){d=d||[],C=C||{};for(var N=C.offset||0,k=[],z,B=[],U,X,K=0;K<A.length;K++){U=B[K]=A[K];for(var st=0;st<d.length;st++){var ut=d[st],dt=ut.start+N,wt=ut.end+N;K>=dt&&K<wt&&(f.isObject(U)?U.attrs=f.mergeAttrs(f.mergeAttrs({},U.attrs),ut.attrs):U=B[K]={t:A[K],attrs:ut.attrs},C.includeAnnotationIndices&&(U.annotations||(U.annotations=[])).push(st))}X=B[K-1],X?f.isObject(U)&&f.isObject(X)?JSON.stringify(U.attrs)===JSON.stringify(X.attrs)?z.t+=U.t:(k.push(z),z=U):f.isObject(U)||f.isObject(X)?(k.push(z),z=U):z=(z||"")+U:z=U}return z&&k.push(z),k},f.findAnnotationsAtIndex=function(A,d){var C=[];return A&&A.forEach(function(N){N.start<d&&d<=N.end&&C.push(N)}),C},f.findAnnotationsBetweenIndexes=function(A,d,C){var N=[];return A&&A.forEach(function(k){(d>=k.start&&d<k.end||C>k.start&&C<=k.end||k.start>=d&&k.end<C)&&N.push(k)}),N},f.shiftAnnotations=function(A,d,C){return A&&A.forEach(function(N){N.start<d&&N.end>=d?N.end+=C:N.start>=d&&(N.start+=C,N.end+=C)}),A},f.convertLineToPathData=function(A){A=f(A);var d=["M",A.attr("x1"),A.attr("y1"),"L",A.attr("x2"),A.attr("y2")].join(" ");return d},f.convertPolygonToPathData=function(A){var d=f.getPointsFromSvgNode(A);return d.length===0?null:f.svgPointsToPath(d)+" Z"},f.convertPolylineToPathData=function(A){var d=f.getPointsFromSvgNode(A);return d.length===0?null:f.svgPointsToPath(d)},f.svgPointsToPath=function(A){for(var d=0,C=A.length;d<C;d++)A[d]=A[d].x+" "+A[d].y;return"M "+A.join(" L")},f.getPointsFromSvgNode=function(A){A=f.toNode(A);var d=[],C=A.points;if(C)for(var N=0,k=C.numberOfItems;N<k;N++)d.push(C.getItem(N));return d},f.KAPPA=.551784,f.convertCircleToPathData=function(A){A=f(A);var d=parseFloat(A.attr("cx"))||0,C=parseFloat(A.attr("cy"))||0,N=parseFloat(A.attr("r")),k=N*f.KAPPA,z=["M",d,C-N,"C",d+k,C-N,d+N,C-k,d+N,C,"C",d+N,C+k,d+k,C+N,d,C+N,"C",d-k,C+N,d-N,C+k,d-N,C,"C",d-N,C-k,d-k,C-N,d,C-N,"Z"].join(" ");return z},f.convertEllipseToPathData=function(A){A=f(A);var d=parseFloat(A.attr("cx"))||0,C=parseFloat(A.attr("cy"))||0,N=parseFloat(A.attr("rx")),k=parseFloat(A.attr("ry"))||N,z=N*f.KAPPA,B=k*f.KAPPA,U=["M",d,C-k,"C",d+z,C-k,d+N,C-B,d+N,C,"C",d+N,C+B,d+z,C+k,d,C+k,"C",d-z,C+k,d-N,C+B,d-N,C,"C",d-N,C-B,d-z,C-k,d,C-k,"Z"].join(" ");return U},f.convertRectToPathData=function(A){return A=f(A),f.rectToPath({x:parseFloat(A.attr("x"))||0,y:parseFloat(A.attr("y"))||0,width:parseFloat(A.attr("width"))||0,height:parseFloat(A.attr("height"))||0,rx:parseFloat(A.attr("rx"))||0,ry:parseFloat(A.attr("ry"))||0})},f.rectToPath=function(A){var d,C=A.x,N=A.y,k=A.width,z=A.height,B=a(A.rx||A["top-rx"]||0,k/2),U=a(A.rx||A["bottom-rx"]||0,k/2),X=a(A.ry||A["top-ry"]||0,z/2),K=a(A.ry||A["bottom-ry"]||0,z/2);return B||U||X||K?d=["M",C,N+X,"v",z-X-K,"a",U,K,0,0,0,U,K,"h",k-2*U,"a",U,K,0,0,0,U,-K,"v",-(z-K-X),"a",B,X,0,0,0,-B,-X,"h",-(k-2*B),"a",B,X,0,0,0,-B,X,"Z"]:d=["M",C,N,"H",C+k,"V",N+z,"H",C,"V",N,"Z"],d.join(" ")},f.normalizePathData=function(){var A=`	
\v\f\r \u2028\u2029`,d=new RegExp("([a-z])["+A+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+A+"]*,?["+A+"]*)+)","ig"),C=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+A+"]*,?["+A+"]*","ig"),N=Math,k=N.PI,z=N.sin,B=N.cos,U=N.tan,X=N.asin,K=N.sqrt,st=N.abs;function ut(J,Q,tt,nt,Gt,kt){var Ht=.3333333333333333,Tt=2/3;return[Ht*J+Tt*tt,Ht*Q+Tt*nt,Ht*Gt+Tt*tt,Ht*kt+Tt*nt,Gt,kt]}function dt(J,Q,tt){var nt=J*B(tt)-Q*z(tt),Gt=J*z(tt)+Q*B(tt);return{x:nt,y:Gt}}function wt(J,Q,tt,nt,Gt,kt,Ht,Tt,ne,Ot){var ot=k*120/180,rt=k/180*(+Gt||0),x=[],E;if(Ot)Bt=Ot[0],Nt=Ot[1],Qt=Ot[2],Xt=Ot[3];else{E=dt(J,Q,-rt),J=E.x,Q=E.y,E=dt(Tt,ne,-rt),Tt=E.x,ne=E.y;var L=(J-Tt)/2,F=(Q-ne)/2,it=L*L/(tt*tt)+F*F/(nt*nt);it>1&&(it=K(it),tt=it*tt,nt=it*nt);var ct=tt*tt,xt=nt*nt,Ft=(kt==Ht?-1:1)*K(st((ct*xt-ct*F*F-xt*L*L)/(ct*F*F+xt*L*L))),Qt=Ft*tt*F/nt+(J+Tt)/2,Xt=Ft*-nt*L/tt+(Q+ne)/2,Bt=X(((Q-Xt)/nt).toFixed(9)),Nt=X(((ne-Xt)/nt).toFixed(9));Bt=J<Qt?k-Bt:Bt,Nt=Tt<Qt?k-Nt:Nt,Bt<0&&(Bt=k*2+Bt),Nt<0&&(Nt=k*2+Nt),Ht&&Bt>Nt&&(Bt=Bt-k*2),!Ht&&Nt>Bt&&(Nt=Nt-k*2)}var De=Nt-Bt;if(st(De)>ot){var In=Nt,wn=Tt,Ae=ne;Nt=Bt+ot*(Ht&&Nt>Bt?1:-1),Tt=Qt+tt*B(Nt),ne=Xt+nt*z(Nt),x=wt(Tt,ne,tt,nt,Gt,0,Ht,wn,Ae,[Nt,In,Qt,Xt])}De=Nt-Bt;var Oe=B(Bt),hn=z(Bt),Cn=B(Nt),$e=z(Nt),xn=U(De/4),rs=4/3*(tt*xn),ln=4/3*(nt*xn),cn=[J,Q],zi=[J+rs*hn,Q-ln*Oe],Hl=[Tt+rs*$e,ne-ln*Cn],$o=[Tt,ne];if(zi[0]=2*cn[0]-zi[0],zi[1]=2*cn[1]-zi[1],Ot)return[zi,Hl,$o].concat(x);x=[zi,Hl,$o].concat(x).join().split(",");for(var qo=[],xr=x.length,_n=0;_n<xr;_n++)qo[_n]=_n%2?dt(x[_n-1],x[_n],rt).y:dt(x[_n],x[_n+1],rt).x;return qo}function mt(J){if(!J)return null;var Q={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},tt=[];return String(J).replace(d,function(nt,Gt,kt){var Ht=[],Tt=Gt.toLowerCase();for(kt.replace(C,function(ne,Ot){Ot&&Ht.push(+Ot)}),Tt==="m"&&Ht.length>2&&(tt.push([Gt].concat(Ht.splice(0,2))),Tt="l",Gt=Gt==="m"?"l":"L");Ht.length>=Q[Tt]&&(tt.push([Gt].concat(Ht.splice(0,Q[Tt]))),!!Q[Tt]););}),tt}function Pt(J){if((!Array.isArray(J)||!Array.isArray(J&&J[0]))&&(J=mt(J)),!J||!J.length)return[["M",0,0]];for(var Q=[],tt=0,nt=0,Gt=0,kt=0,Ht=0,Tt,ne=J.length,Ot=Ht;Ot<ne;Ot++){var ot=[];Q.push(ot);var rt=J[Ot];if(Tt=rt[0],Tt!=Tt.toUpperCase()){ot[0]=Tt.toUpperCase();var x,E;switch(ot[0]){case"A":ot[1]=rt[1],ot[2]=rt[2],ot[3]=rt[3],ot[4]=rt[4],ot[5]=rt[5],ot[6]=+rt[6]+tt,ot[7]=+rt[7]+nt;break;case"V":ot[1]=+rt[1]+nt;break;case"H":ot[1]=+rt[1]+tt;break;case"M":for(Gt=+rt[1]+tt,kt=+rt[2]+nt,x=rt.length,E=1;E<x;E++)ot[E]=+rt[E]+(E%2?tt:nt);break;default:for(x=rt.length,E=1;E<x;E++)ot[E]=+rt[E]+(E%2?tt:nt);break}}else for(var L=rt.length,F=0;F<L;F++)ot[F]=rt[F];switch(ot[0]){case"Z":tt=+Gt,nt=+kt;break;case"H":tt=ot[1];break;case"V":nt=ot[1];break;case"M":Gt=ot[ot.length-2],kt=ot[ot.length-1],tt=ot[ot.length-2],nt=ot[ot.length-1];break;default:tt=ot[ot.length-2],nt=ot[ot.length-1];break}}return Q}function Ct(J){var Q=Pt(J),tt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function nt(x,E,L){var F,it;if(!x)return["C",E.x,E.y,E.x,E.y,E.x,E.y];switch(x[0]in{T:1,Q:1}||(E.qx=null,E.qy=null),x[0]){case"M":E.X=x[1],E.Y=x[2];break;case"A":parseFloat(x[1])===0||parseFloat(x[2])===0?x=["L",x[6],x[7]]:x=["C"].concat(wt.apply(0,[E.x,E.y].concat(x.slice(1))));break;case"S":L==="C"||L==="S"?(F=E.x*2-E.bx,it=E.y*2-E.by):(F=E.x,it=E.y),x=["C",F,it].concat(x.slice(1));break;case"T":L==="Q"||L==="T"?(E.qx=E.x*2-E.qx,E.qy=E.y*2-E.qy):(E.qx=E.x,E.qy=E.y),x=["C"].concat(ut(E.x,E.y,E.qx,E.qy,x[1],x[2]));break;case"Q":E.qx=x[1],E.qy=x[2],x=["C"].concat(ut(E.x,E.y,x[1],x[2],x[3],x[4]));break;case"H":x=["L"].concat(x[1],E.y);break;case"V":x=["L"].concat(E.x,x[1]);break}return x}function Gt(x,E){if(x[E].length>7){x[E].shift();for(var L=x[E];L.length;)kt[E]="A",x.splice(E++,0,["C"].concat(L.splice(0,6)));x.splice(E,1),ne=Q.length}}for(var kt=[],Ht="",Tt="",ne=Q.length,Ot=0;Ot<ne;Ot++){Q[Ot]&&(Ht=Q[Ot][0]),Ht!=="C"&&(kt[Ot]=Ht,Ot>0&&(Tt=kt[Ot-1])),Q[Ot]=nt(Q[Ot],tt,Tt),kt[Ot]!=="A"&&Ht==="C"&&(kt[Ot]="C"),Gt(Q,Ot);var ot=Q[Ot],rt=ot.length;tt.x=ot[rt-2],tt.y=ot[rt-1],tt.bx=parseFloat(ot[rt-4])||tt.x,tt.by=parseFloat(ot[rt-3])||tt.y}return(!Q[0][0]||Q[0][0]!=="M")&&Q.unshift(["M",0,0]),Q}return function(J){return Ct(J).join(",").split(",").join(" ")}}(),f.namespace=e,f.g=LP,f}(),$=tU,ri={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},gl="[object Arguments]",gy="[object Array]",Nf="[object Boolean]",hA="[object Date]",fD="[object Error]",eU="[object Function]",Dl="[object Map]",Ef="[object Number]",nU="[object Null]",vo="[object Object]",dA="[object RegExp]",Ol="[object Set]",Pf="[object String]",kf="[object Symbol]",iU="[object Undefined]",rU="[object WeakMap]",gA="[object ArrayBuffer]",pA="[object DataView]",hD="[object Float32Array]",dD="[object Float64Array]",gD="[object Int8Array]",pD="[object Int16Array]",mD="[object Int32Array]",vD="[object Uint8Array]",yD="[object Uint8ClampedArray]",bD="[object Uint16Array]",AD="[object Uint32Array]",sU={[gl]:!0,[gy]:!0,[gA]:!0,[pA]:!0,[Nf]:!0,[hA]:!0,[hD]:!0,[dD]:!0,[gD]:!0,[pD]:!0,[mD]:!0,[Dl]:!0,[Ef]:!0,[vo]:!0,[dA]:!0,[Ol]:!0,[Pf]:!0,[kf]:!0,[vD]:!0,[yD]:!0,[bD]:!0,[AD]:!0,[fD]:!1,[eU]:!1,[rU]:!1},mA="\\ud800-\\udfff",oU="\\u0300-\\u036f",aU="\\ufe20-\\ufe2f",lU="\\u20d0-\\u20ff",cU="\\u1ab0-\\u1aff",uU="\\u1dc0-\\u1dff",fU=oU+aU+lU+cU+uU,ID="\\u2700-\\u27bf",wD="a-z\\xdf-\\xf6\\xf8-\\xff",hU="\\xac\\xb1\\xd7\\xf7",dU="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",gU="\\u2000-\\u206f",pU=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",CD="A-Z\\xc0-\\xd6\\xd8-\\xde",mU="\\ufe0e\\ufe0f",xD=hU+dU+gU+pU,_D="[']",xC=`[${xD}]`,vA=`[${fU}]`,SD="\\d",vU=`[${ID}]`,MD=`[${wD}]`,TD=`[^${mA}${xD+SD+ID+wD+CD}]`,py="\\ud83c[\\udffb-\\udfff]",yU=`(?:${vA}|${py})`,ND=`[^${mA}]`,yA="(?:\\ud83c[\\udde6-\\uddff]){2}",bA="[\\ud800-\\udbff][\\udc00-\\udfff]",go=`[${CD}]`,bU="\\u200d",_C=`(?:${MD}|${TD})`,AU=`(?:${go}|${TD})`,SC=`(?:${_D}(?:d|ll|m|re|s|t|ve))?`,MC=`(?:${_D}(?:D|LL|M|RE|S|T|VE))?`,ED=`${yU}?`,PD=`[${mU}]?`,IU=`(?:${bU}(?:${[ND,yA,bA].join("|")})${PD+ED})*`,wU="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",CU="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",kD=PD+ED+IU,xU=`(?:${[vU,yA,bA].join("|")})${kD}`,_U=RegExp([`${go}?${MD}+${SC}(?=${[xC,go,"$"].join("|")})`,`${AU}+${MC}(?=${[xC,go+_C,"$"].join("|")})`,`${go}?${_C}+${SC}`,`${go}+${MC}`,CU,wU,`${SD}+`,xU].join("|"),"g"),AA=200,my="__hash_undefined__",SU=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,MU=`[${mA}]`,TU=`${ND}${vA}?`,NU=`(?:${[TU,vA,yA,bA,MU].join("|")})`,DD=RegExp(`${py}(?=${py})|${NU+kD}`,"g"),EU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PU=/^\w*$/,kU=".".charCodeAt(0),DU=/\\(\\)?/g,OU=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),LU=/^(?:0|[1-9]\d*)$/,RU=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),zU=4294967295-1,BU=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,OD=t=>DD.test(t),jU=t=>t.match(DD)||[],GU=t=>t.split(""),LD=t=>OD(t)?jU(t):GU(t),FU=t=>t==null?[]:Ll(t).map(e=>t[e]),Ll=t=>li(t)?RD(t):Object.keys(Object(t)),ZU=t=>{if(!Df(t))return Object.keys(t);var e=[];for(var n in Object(t))hasOwnProperty.call(t,n)&&n!="constructor"&&e.push(n);return e},RD=(t,e)=>{const n=Array.isArray(t),i=!n&&bi(t)&&Ai(t)===gl,r=!n&&!i&&zl(t),s=n||i||r,o=t.length,a=new Array(s?o:0);let l=s?-1:o;for(;++l<o;)a[l]=`${l}`;for(const c in t)(e||hasOwnProperty.call(t,c))&&!(s&&(c==="length"||_A(c,o)))&&a.push(c);return a},Sc=(t,e)=>{let{length:n}=t;for(;n--;)if(Wo(t[n][0],e))return n;return-1},Wo=(t,e)=>t===e||t!==t&&e!==e,bi=t=>t!=null&&typeof t=="object",xu=(t,e,n)=>{if(!se(n))return!1;const i=typeof e;return(i=="number"?li(n)&&e>-1&&e<n.length:i=="string"&&e in n)?Wo(n[e],t):!1},WU=t=>bi(t)&&Ai(t)==Ol,UU=t=>bi(t)&&Ai(t)==Dl,Df=t=>{const e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Object.prototype;return t===n},qs=(t,e,n)=>{const i=t[e];(!(hasOwnProperty.call(t,e)&&Wo(i,n))||n===void 0&&!(e in t))&&(t[e]=n)},Rl=(t,e,n)=>{let i=-1;const r=e.length;for(;++i<r;){const s=e[i];qs(n,s,t[s])}return n},li=t=>t!=null&&typeof t!="function"&&typeof t.length=="number"&&t.length>-1&&t.length%1===0,Lo=t=>typeof t=="symbol"||bi(t)&&Ai(t)===kf,VU=t=>{const e=t.length;let n=new t.constructor(e);return e&&typeof t[0]=="string"&&hasOwnProperty.call(t,"index")&&(n.index=t.index,n.input=t.input),n},IA=(t,e)=>{let n=-1;const i=t.length;for(e||(e=new Array(i));++n<i;)e[n]=t[n];return e},Ai=t=>t==null?t===void 0?iU:nU:Object.prototype.toString.call(t),wA=t=>{const e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e},zD=(t,e)=>{const n=e?wA(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},YU=t=>{const e=new t.constructor(t.source,/\w*$/.exec(t));return e.lastIndex=t.lastIndex,e},BD=t=>typeof t.constructor=="function"&&!Df(t)?Object.create(Object.getPrototypeOf(t)):{},CA=t=>t==null?[]:(t=Object(t),Object.getOwnPropertySymbols(t).filter(n=>propertyIsEnumerable.call(t,n))),HU=(t,e)=>Rl(t,CA(t),e);function XU(t,e){const n=e?wA(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}const $U=(t,e,n)=>{const i=t.constructor;switch(e){case gA:return wA(t);case Nf:case hA:return new i(+t);case pA:return XU(t,n);case hD:case dD:case gD:case pD:case mD:case vD:case yD:case bD:case AD:return zD(t,n);case Dl:return new i(t);case Ef:case Pf:return new i(t);case dA:return YU(t);case Ol:return new i;case kf:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(t)):{}}},zl=t=>bi(t)&&SU.test(Ai(t)),vy=t=>{const e=Object.keys(t);return!Array.isArray(t)&&t!=null&&e.push(...CA(Object(t))),e},jD=t=>{const e=[];for(;t;)e.push(...CA(t)),t=Object.getPrototypeOf(Object(t));return e},GD=t=>{const e=[];for(const n in t)e.push(n);return Array.isArray(t)||e.push(...jD(t)),e},Mc=({__data__:t},e)=>{const n=t;return lV(e)?n[typeof e=="string"?"string":"hash"]:n.map},qU=(t,e,n,i)=>{const r=vy(t),s=r.length,a=vy(e).length;if(s!=a)return!1;let l,c=s;for(;c--;)if(l=r[c],!hasOwnProperty.call(e,l))return!1;const u=i.get(t),f=i.get(e);if(u&&f)return u==e&&f==t;let g=!0;i.set(t,e),i.set(e,t);let p;for(;++c<s;){l=r[c];const v=t[l],y=e[l];if(!(v===y||n(v,y,i))){g=!1;break}p||(p=l=="constructor")}if(g&&!p){const v=t.constructor,y=e.constructor;v!=y&&"constructor"in t&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof y=="function"&&y instanceof y)&&(g=!1)}return i.delete(t),i.delete(e),g},Of=(t,e,n)=>t===e?!0:t==null||e==null||!bi(t)&&!bi(e)?t!==t&&e!==e:JU(t,e,Of,n),JU=(t,e,n,i)=>{let r=Array.isArray(t);const s=Array.isArray(e);let o=r?gy:Ai(t),a=s?gy:Ai(e);o=o==gl?vo:o,a=a==gl?vo:a;let l=o==vo;const c=a==vo,u=o==a;if(u&&!l)return i||(i=new wo),r||zl(t)?FD(t,e,!1,n,i):tV(t,e,o,n,i);const f=l&&hasOwnProperty.call(t,"__wrapped__"),g=c&&hasOwnProperty.call(e,"__wrapped__");if(f||g){const p=f?t.value():t,v=g?e.value():e;return i||(i=new wo),n(p,v,i)}return u?(i||(i=new wo),qU(t,e,n,i)):!1},FD=(t,e,n,i,r)=>{const o=t.length,a=e.length;if(o!=a)return!1;const l=r.get(t),c=r.get(e);if(l&&c)return l==e&&c==t;let u=-1,f=!0;const g=n?new Ro:void 0;for(r.set(t,e),r.set(e,t);++u<o;){const p=t[u],v=e[u];if(g){if(!KU(e,(y,I)=>{if(!QU(g,I)&&(p===y||i(p,y,r)))return g.push(I)})){f=!1;break}}else if(!(p===v||i(p,v,r))){f=!1;break}}return r.delete(t),r.delete(e),f},KU=(t,e)=>{let n=-1;const i=t==null?0:t.length;for(;++n<i;)if(e(t[n],n,t))return!0;return!1},QU=(t,e)=>t.has(e),TC=(t,e,n,i)=>!(t.byteLength!=e.byteLength||!n(new Uint8Array(t),new Uint8Array(e),i)),tV=(t,e,n,i,r)=>{switch(n){case pA:return t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset?!1:(t=t.buffer,e=e.buffer,TC(t,e,i,r));case gA:return TC(t,e,i,r);case Nf:case hA:case Ef:return Wo(+t,+e);case fD:return t.name==e.name&&t.message==e.message;case dA:case Pf:return t==`${e}`;case Dl:let s=ZD;case Ol:if(s||(s=Lf),t.size!=e.size)return!1;const o=r.get(t);if(o)return o==e;r.set(t,e);const a=FD(s(t),s(e),!0,i,r);return r.delete(t),a;case kf:return Symbol.prototype.valueOf.call(t)==Symbol.prototype.valueOf.call(e)}return!1},ZD=t=>{let e=-1,n=Array(t.size);return t.forEach((i,r)=>{n[++e]=[r,i]}),n},Lf=t=>{let e=-1;const n=new Array(t.size);return t.forEach(i=>{n[++e]=i}),n},xA=(t,e)=>{if(Array.isArray(t))return!1;const n=typeof t;return n==="number"||n==="boolean"||t==null||Lo(t)?!0:PU.test(t)||!EU.test(t)||e!=null&&t in Object(e)},eV=t=>{const e=[];return t.charCodeAt(0)===kU&&e.push(""),t.replace(OU,(n,i,r,s)=>{let o=n;r?o=s.replace(DU,"$1"):i&&(o=i.trim()),e.push(o)}),e},es=(t,e)=>Array.isArray(t)?t:xA(t,e)?[t]:eV(`${t}`),Bl=(t,e)=>{e=es(e,t);let n=0;const i=e.length;for(;t!=null&&n<i;)t=t[br(e[n])],n++;return n&&n==i?t:void 0};function nV(t,e){if(t!==e){const n=t!==void 0,i=t===null,r=t===t,s=Lo(t),o=e!==void 0,a=e===null,l=e===e,c=Lo(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||i&&o&&l||!n&&l||!r)return 1;if(!i&&!s&&!c&&t<e||c&&n&&r&&!i&&!s||a&&n&&r||!o&&r||!l)return-1}return 0}function iV(t,e,n){let i=-1;const r=t.criteria,s=e.criteria,o=r.length,a=n.length;for(;++i<o;){const l=i<a?n[i]:null,u=(l&&typeof l=="function"?l:nV)(r[i],s[i]);if(u)return l&&typeof l!="function"?u*(l=="desc"?-1:1):u}return t.index-e.index}const WD=(t,e)=>{let n=(o,a)=>!!(o==null?0:o.length)&&o.indexOf(a)>-1,i=!0;const r=[],s=e.length;if(!t.length)return r;e.length>=AA&&(n=(o,a)=>o.has(a),i=!1,e=new Ro(e));t:for(let o in t){let a=t[o];const l=a;if(a=a!==0?a:0,i&&l===l){let c=s;for(;c--;)if(e[c]===l)continue t;r.push(a)}else n(e,l)||r.push(a)}return r},rV=t=>{const e=(g,p)=>!!(g==null?0:g.length)&&g.indexOf(p)>-1,n=(g,p)=>g.has(p),i=t[0].length,r=t.length,s=new Array(r),o=[];let a,l=1/0,c=r;for(;c--;)a=t[c],l=Math.min(a.length,l),s[c]=i>=120&&a.length>=120?new Ro(c&&a):void 0;a=t[0];let u=-1;const f=s[0];t:for(;++u<i&&o.length<l;){let g=a[u];const p=g;if(g=g!==0?g:0,!(f?n(f,p):e(o,p))){for(c=r;--c;){const v=s[c];if(!(v?n(v,p):e(t[c],p)))continue t}f&&f.push(p),o.push(g)}}return o},br=t=>{if(typeof t=="string"||Lo(t))return t;const e=`${t}`;return e=="0"&&1/t==-1/0?"-0":e},Io=(t,e=!1,n=!1,i=!0,r,s,o,a)=>{let l;if(r&&(l=o?r(t,s,o,a):r(t)),l!==void 0)return l;if(!se(t))return t;const c=Array.isArray(t),u=Ai(t);if(c){if(l=VU(t),!e)return IA(t,l)}else{const v=typeof t=="function";if(u===vo||u===gl||v&&!o){if(l=n||v?{}:BD(t),!e)return n?sV(t,Rl(t,Object.keys(t),l)):HU(t,Object.assign(l,t))}else{if(v||!sU[u])return o?t:{};l=$U(t,u,e)}}a||(a=new wo);const f=a.get(t);if(f)return f;if(a.set(t,l),UU(t))return t.forEach((v,y)=>{l.set(y,Io(v,e,n,i,r,y,t,a))}),l;if(WU(t))return t.forEach(v=>{l.add(Io(v,e,n,i,r,v,t,a))}),l;if(zl(t))return l;const p=c?void 0:(i?n?GD:vy:n?VD:Ll)(t);return(p||t).forEach((v,y)=>{p&&(y=v,v=t[y]),qs(l,y,Io(v,e,n,i,r,y,t,a))}),l},sV=(t,e)=>Rl(t,jD(t),e),UD=(t,e)=>e.length<2?t:Bl(t,e.slice(0,-1)),oV=(t,e,n)=>{if(!se(t))return t;e=es(e,t);const i=e.length,r=i-1;let s=-1,o=t;for(;o!=null&&++s<i;){const a=br(e[s]);let l=n;if(s!=r){const c=o[a];l=void 0,l===void 0&&(l=se(c)?c:_A(e[s+1])?[]:{})}qs(o,a,l),o=o[a]}return t},_A=(t,e)=>{const n=typeof t;return e=e??Number.MAX_SAFE_INTEGER,!!e&&(n==="number"||n!=="symbol"&&LU.test(t))&&t>-1&&t%1==0&&t<e},aV=(t,e)=>{e=es(e,t),t=UD(t,e);const n=e[e.length-1];return t==null||delete t[br(n)]},lV=t=>{const e=typeof t;return e==="string"||e==="number"||e==="symbol"||e==="boolean"?t!=="__proto__":t===null},VD=t=>{const e=[];for(const n in t)e.push(n);return e},cV=t=>{t=Object(t);const e={};for(const n in t)e[n]=t[n];return e},NC=(t,e)=>{if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]};function YD(t,e=!1){return(n,...i)=>{let r=-1,s=i.length,o=s>1?i[s-1]:void 0;const a=s>2?i[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):e?(l,c)=>{if(Array.isArray(l)&&!Array.isArray(c))return c}:void 0,a&&xu(i[0],i[1],a)&&(o=s<3?void 0:o,s=1),n=Object(n);++r<s;){const l=i[r];l&&t(n,l,r,o)}return n}}const SA=(t,e,n,i,r)=>{t!==e&&zn(e,(s,o)=>{if(se(s))r||(r=new wo),uV(t,e,o,n,SA,i,r);else{let a=i?i(t[o],s,`${o}`,t,e,r):void 0;a===void 0&&(a=s),yy(t,o,a)}})},uV=(t,e,n,i,r,s,o)=>{const a=NC(t,n),l=NC(e,n),c=o.get(l);if(c){yy(t,n,c);return}let u=s?s(a,l,`${n}`,t,e,o):void 0,f=u===void 0;if(f){const g=Array.isArray(l),p=!g&&zl(l);u=l,g||p?Array.isArray(a)?u=a:bi(a)&&li(a)?u=IA(a):p?(f=!1,u=zD(l,!0)):u=[]:ze(l)||pl(l)?(u=a,pl(a)?u=cV(a):(typeof a=="function"||!se(a))&&(u=BD(l))):f=!1}f&&(o.set(l,u),r(u,l,i,s,o),o.delete(l)),yy(t,n,u)},yy=(t,e,n)=>{(n!==void 0&&!Wo(t[e],n)||n===void 0&&!(e in t))&&qs(t,e,n)};function fV(t,e,n){const i=Object(t),r=n(t);let{length:s}=r,o=-1;for(;s--;){const a=r[++o];if(e(i[a],a,i)===!1)break}return t}const hV=(t,e)=>t&&fV(t,e,Ll),MA=(t,e)=>{if(t==null)return t;if(!li(t))return hV(t,e);const n=t.length,i=Object(t);let r=-1;for(;++r<n&&e(i[r],r,i)!==!1;);return t};function dV(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}const gV=Set&&1/Lf(new Set([void 0,-0]))[1]==1/0?t=>new Set(t):()=>{};function HD(t,e,n,i,r,s){return se(t)&&se(e)&&(s.set(e,t),SA(t,e,void 0,HD,s),s.delete(e)),t}function pV(t,e,n){e.length?e=e.map(o=>Array.isArray(o)?a=>Bl(a,o.length===1?o[0]:o):o):e=[o=>o];let i=-1,r=-1;const s=li(t)?new Array(t.length):[];return MA(t,o=>{const a=e.map(l=>l(o));s[++r]={criteria:a,index:++i,value:o}}),mV(s,(o,a)=>iV(o,a,n))}function mV(t,e){let{length:n}=t;for(t.sort(e);n--;)t[n]=t[n].value;return t}function XD(t){return t===t&&!se(t)}function $D(t,e){return n=>n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}function qD(t,e){return t!=null&&DV(t,e,kV)}function vV(t,e){return xA(t)&&XD(e)?$D(br(t),e):n=>{const i=Bl(n,t);return i===void 0&&i===e?qD(n,t):Of(e,i)}}function yV(t){const e=bV(t);return e.length===1&&e[0][2]?$D(e[0][0],e[0][1]):n=>n===t||AV(n,t,e)}function bV(t){const e=Ll(t);let n=e.length;for(;n--;){const i=e[n],r=t[i];e[n]=[i,r,XD(r)]}return e}function AV(t,e,n,i){let r=n.length;const s=r,o=!i;if(t==null)return!s;let a,l;for(t=Object(t);r--;)if(a=n[r],o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1;for(;++r<s;){a=n[r];const c=a[0],u=t[c],f=a[1];if(o&&a[2]){if(u===void 0&&!(c in t))return!1}else{const g=new wo;if(i&&(l=i(u,f,c,t,e,g)),!(l===void 0?Of(f,u,g):l))return!1}}return!0}function IV(t){return xA(t)?wV(br(t)):CV(t)}function wV(t){return e=>e==null?void 0:e[t]}function CV(t){return e=>Bl(e,t)}function xV(t){return typeof t=="function"?t:t==null?e=>e:typeof t=="object"?Array.isArray(t)?vV(t[0],t[1]):yV(t):IV(t)}function Rf(){const t=xV;return arguments.length?t(arguments[0]):t}const _V=(t,e,n,i)=>{let r=-1;const s=t==null?0:t.length;for(i&&s&&(n=t[++r]);++r<s;)n=e(n,t[r],r,t);return n},SV=(t,e,n,i,r)=>(r(t,(s,o,a)=>{n=i?(i=!1,s):e(n,s,o,a)}),n);function MV(t,e,n){const i=Array.isArray(t)?_V:SV,r=arguments.length<3;return i(t,e,n,r,MA)}const TV=t=>Array.isArray(t)||pl(t)||!!(t&&t[Symbol.isConcatSpreadable]);function JD(t,e,n,i,r){let s=-1;const o=t.length;for(n||(n=TV),r||(r=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?JD(a,e-1,n,i,r):r.push(...a):i||(r[r.length]=a)}return r}const pl=t=>bi(t)&&Ai(t)=="[object Arguments]",NV=(t,e)=>EV(t,e,(n,i)=>qD(t,i)),EV=(t,e,n)=>{let i=-1;const r=e.length,s={};for(;++i<r;){const o=e[i],a=Bl(t,o);n(a,o)&&oV(s,es(o,t),a)}return s},PV=t=>typeof t=="number"&&t>-1&&t%1==0&&t<=Number.MAX_SAFE_INTEGER,kV=(t,e)=>t!=null&&e in Object(t),DV=(t,e,n)=>{e=es(e,t);for(var i=-1,r=e.length,s=!1;++i<r;){var o=br(e[i]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++i!=r?s:(r=t==null?0:t.length,!!r&&PV(r)&&_A(o,r)&&(Array.isArray(t)||pl(t)))},OV=t=>t.match(BU),LV=t=>t.match(_U),RV=(t,e)=>e===void 0?(RU(t)?LV(t):OV(t))||[]:t.match(e)||[],zV=(t,e,n)=>{const{length:i}=t;return n=n===void 0?i:n,!e&&n>=i?t:t.slice(e,n)},BV=jV("toUpperCase");function jV(t){return e=>{if(!e)return"";const n=OD(e)?LD(e):void 0,i=n?n[0]:e[0],r=n?zV(n,1).join(""):e.slice(1);return i[t]()+r}}class wo{constructor(e){const n=this.__data__=new hd(e);this.size=n.size}clear(){this.__data__=new hd,this.size=0}delete(e){const n=this.__data__,i=n.delete(e);return this.size=n.size,i}get(e){return this.__data__.get(e)}has(e){return this.__data__.has(e)}set(e,n){let i=this.__data__;if(i instanceof hd){const r=i.__data__;if(r.length<AA-1)return r.push([e,n]),this.size=++i.size,this;i=this.__data__=new KD(r)}return i.set(e,n),this.size=i.size,this}}class hd{constructor(e){let n=-1;const i=e==null?0:e.length;for(this.clear();++n<i;){const r=e[n];this.set(r[0],r[1])}}clear(){this.__data__=[],this.size=0}delete(e){const n=this.__data__,i=Sc(n,e);if(i<0)return!1;const r=n.length-1;return i==r?n.pop():n.splice(i,1),--this.size,!0}get(e){const n=this.__data__,i=Sc(n,e);return i<0?void 0:n[i][1]}has(e){return Sc(this.__data__,e)>-1}set(e,n){const i=this.__data__,r=Sc(i,e);return r<0?(++this.size,i.push([e,n])):i[r][1]=n,this}}class KD{constructor(e){let n=-1;const i=e==null?0:e.length;for(this.clear();++n<i;){const r=e[n];this.set(r[0],r[1])}}clear(){this.size=0,this.__data__={hash:new EC,map:new Map,string:new EC}}delete(e){const n=Mc(this,e).delete(e);return this.size-=n?1:0,n}get(e){return Mc(this,e).get(e)}has(e){return Mc(this,e).has(e)}set(e,n){const i=Mc(this,e),r=i.size;return i.set(e,n),this.size+=i.size==r?0:1,this}}class EC{constructor(e){let n=-1;const i=e==null?0:e.length;for(this.clear();++n<i;){const r=e[n];this.set(r[0],r[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(e){const n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}get(e){const i=this.__data__[e];return i===my?void 0:i}has(e){return this.__data__[e]!==void 0}set(e,n){const i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=n===void 0?my:n,this}}class Ro{constructor(e){let n=-1;const i=e==null?0:e.length;for(this.__data__=new KD;++n<i;)this.add(e[n])}add(e){return this.__data__.set(e,my),this}has(e){return this.__data__.has(e)}}Ro.prototype.push=Ro.prototype.add;const QD=function(t){var e=Object.prototype.toString;return t===!0||t===!1||!!t&&typeof t=="object"&&e.call(t)===Nf},se=function(t){return!!t&&(typeof t=="object"||typeof t=="function")},Sn=function(t){var e=Object.prototype.toString;return typeof t=="number"||!!t&&typeof t=="object"&&e.call(t)===Ef},fn=function(t){var e=Object.prototype.toString;return typeof t=="string"||!!t&&typeof t=="object"&&e.call(t)===Pf},Mt=YD((t,e)=>{if(Df(e)||li(e)){Rl(e,Ll(e),t);return}for(var n in e)hasOwnProperty.call(e,n)&&qs(t,n,e[n])}),tO=Mt,GV=tO,eO=(t,...e)=>{let n=-1,i=e.length;const r=i>2?e[2]:void 0;for(r&&xu(e[0],e[1],r)&&(i=1);++n<i;){const s=e[n];if(s==null)continue;const o=Object.keys(s),a=o.length;let l=-1;for(;++l<a;){const c=o[l],u=t[c];(u===void 0||Wo(u,Object.prototype[c])&&!hasOwnProperty.call(t,c))&&(t[c]=s[c])}}return t},Rn=eO,nO=function(...e){return e.push(void 0,HD),Ze.apply(void 0,e)},zf=nO,ii=(t,e,...n)=>{let i=-1;const r=typeof e=="function",s=li(t)?new Array(t.length):[];return MA(t,o=>{s[++i]=r?e.apply(o,n):iO(o,e,...n)}),s},iO=(t,e,...n)=>{e=es(e,t),t=UD(t,e);const i=t==null?t:t[br(dV(e))];return i==null?void 0:i.apply(t,n)},TA=(t,e,n)=>{let i=0,r=t==null?0:t.length;if(r==0)return 0;n=Rf(n,2),e=n(e);const s=e!==e,o=e===null,a=Lo(e),l=e===void 0;for(;i<r;){let c;const u=Math.floor((i+r)/2),f=n(t[u]),g=f!==void 0,p=f===null,v=f===f,y=Lo(f);s?c=v:l?c=v&&g:o?c=v&&g&&!p:a?c=v&&g&&!p&&!y:p||y?c=!1:c=f<e,c?i=u+1:r=u}return Math.min(r,zU)},$r=(t,e)=>{let n=-1,i=(l,c)=>!!(l==null?0:l.length)&&l.indexOf(c)>-1;e=Rf(e,2);let r=!0;const{length:s}=t,o=[];let a=o;if(s>=AA){const l=e?null:gV(t);if(l)return Lf(l);r=!1,i=(c,u)=>c.has(u),a=new Ro}else a=e?[]:o;t:for(;++n<s;){let l=t[n];const c=e?e(l):l;if(l=l!==0?l:0,r&&c===c){let u=a.length;for(;u--;)if(a[u]===c)continue t;e&&a.push(c),o.push(l)}else i(a,c)||(a!==o&&a.push(c),o.push(l))}return o},qn=t=>Io(t),mn=t=>Io(t,!0),Zi=t=>{if(t==null)return!0;if(li(t)&&(Array.isArray(t)||typeof t=="string"||typeof t.splice=="function"||zl(t)||pl(t)))return!t.length;const e=Ai(t);if(e=="[object Map]"||e=="[object Set]")return!t.size;if(Df(t))return!ZU(t).length;for(const n in t)if(hasOwnProperty.call(t,n))return!1;return!0},Ms=(t,e)=>Of(t,e),ge=t=>typeof t=="function",ze=t=>{if(!bi(t)||Ai(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},ee=t=>{if(!t)return[];if(li(t))return fn(t)?LD(t):IA(t);if(Symbol.iterator&&Symbol.iterator in Object(t)){const i=t[Symbol.iterator]();let r;const s=[];for(;!(r=i.next()).done;)s.push(r.value);return s}const e=Ai(t);return(e==Dl?ZD:e==Ol?Lf:FU)(t)};function rO(t,e,n){if(typeof t!="function")throw new TypeError("Expected a function");let i,r,s,o,a,l,c=0,u=!1,f=!1,g=!0;const p=!e&&e!==0&&window&&typeof window.requestAnimationFrame=="function";e=+e||0,se(n)&&(u=!!n.leading,f="maxWait"in n,s=f?Math.max(+n.maxWait||0,e):s,g="trailing"in n?!!n.trailing:g);function v(C){const N=i,k=r;return i=r=void 0,c=C,o=t.apply(k,N),o}function y(C,N){return p?(window.cancelAnimationFrame(a),window.requestAnimationFrame(C)):setTimeout(C,N)}function I(C){if(p)return window.cancelAnimationFrame(C);clearTimeout(C)}function _(C){return c=C,a=y(R,e),u?v(C):o}function S(C){const N=C-l,k=C-c,z=e-N;return f?Math.min(z,s-k):z}function O(C){const N=C-l,k=C-c;return l===void 0||N>=e||N<0||f&&k>=s}function R(){const C=Date.now();if(O(C))return A(C);a=y(R,S(C))}function A(C){return a=void 0,g&&i?v(C):(i=r=void 0,o)}function d(...C){const N=Date.now(),k=O(N);if(i=C,r=this,l=N,k){if(a===void 0)return _(l);if(f)return a=y(R,e),v(l)}return a===void 0&&(a=y(R,e)),o}return d.cancel=()=>{a!==void 0&&I(a),c=0,i=l=r=a=void 0},d.flush=()=>a===void 0?o:A(Date.now()),d.pending=()=>a!==void 0,d}const sO=(t,e)=>(e=Rf(e,2),MV(t,(n,i,r)=>(r=e(i),hasOwnProperty.call(n,r)?n[r].push(i):qs(n,r,[i]),n),{})),Kc=(t,e=[])=>{if(t==null)return[];const n=e.length;return n>1&&xu(t,e[0],e[1])?e=[]:n>2&&xu(e[0],e[1],e[2])&&(e=[e[0]]),Array.isArray(e)||(e=[Rf(e,2)]),pV(t,e.flat(1),[])},oO=t=>(t==null?0:t.length)?JD(t,1/0):[],_u=(t,...e)=>li(t)?WD(t,e):[],NA=(t,...e)=>bi(t)&&li(t)?WD(t,e.flat(1)):[],FV=(...t)=>{const e=t.map(n=>bi(n)&&li(n)?n:[]);return e.length&&e[0]===t[0]?rV(e):[]},Su=(...t)=>{const e=t.flat(1);return $r(e)},Ti=(t,e)=>{if(t==null)return!1;typeof e=="string"&&(e=e.split("."));let n=-1,i=t;for(;++n<e.length;){if(!i||!hasOwnProperty.call(i,e[n]))return!1;i=i[e[n]]}return!0},Be=(t,e,n)=>{e=es(e,t);let i=-1,r=e.length;for(r||(r=1,t=void 0);++i<r;){let s=t==null?void 0:t[br(e[i])];s===void 0&&(i=r,s=n),t=typeof s=="function"?s.call(t):s}return t},pr=(t,...e)=>{let n={};if(t==null)return n;let i=!1;e=e.flat(1).map(s=>(s=es(s,t),i||(i=s.length>1),s)),Rl(t,GD(t),n),i&&(n=Io(n,!0,!0,!0,s=>ze(s)?void 0:s));let r=e.length;for(;r--;)aV(n,e[r]);return n},EA=(t,...e)=>t==null?{}:NV(t,e.flat(1/0)),ZV=(t,...e)=>(e.flat(1).forEach(n=>{n=br(n),qs(t,n,t[n].bind(t))}),t),zn=(t,e=n=>n)=>{let n=-1;const i=Object(t),r=li(t)?RD(t,!0):VD(t);let s=r.length;for(;s--;){const o=r[++n];if(e(i[o],o,i)===!1)break}},aO=(t="")=>RV(`${t}`.replace(/['\u2019]/g,"")).reduce((e,n,i)=>(n=n.toLowerCase(),e+(i?BV(n):n)),"");let WV=0;const lO=(t="")=>{const e=++WV;return`${t}`+e},Ze=YD((t,e,n,i)=>{SA(t,e,n,i)},!0),di=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,ri.classNamePrefix.length)!==ri.classNamePrefix&&(e=ri.classNamePrefix+e),e}).join(" ")},cO=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,ri.classNamePrefix.length)===ri.classNamePrefix&&(e=e.substr(ri.classNamePrefix.length)),e}).join(" ")},ml=function(t,e){const n={},i={},r=$.namespace.svg,s=e||r,o=document.createDocumentFragment(),a=function(l,c,u){for(let f=0;f<l.length;f++){const g=l[f];if(typeof g=="string"){const R=document.createTextNode(g);c.appendChild(R);continue}if(!g.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const p=g.tagName;let v;g.hasOwnProperty("namespaceURI")&&(u=g.namespaceURI),v=document.createElementNS(u,p);const y=u===r,I=y?$:Jt,_=g.attributes;_&&I(v).attr(_);const S=g.style;if(S&&Jt(v).css(S),g.hasOwnProperty("className")){const R=g.className;y?v.className.baseVal=R:v.className=R}if(g.hasOwnProperty("textContent")&&(v.textContent=g.textContent),g.hasOwnProperty("selector")){const R=g.selector;if(n[R])throw new Error("json-dom-parser: selector must be unique");n[R]=v,I(v).attr("joint-selector",R)}if(g.hasOwnProperty("groupSelector")){let R=g.groupSelector;Array.isArray(R)||(R=[R]);for(let A=0;A<R.length;A++){const d=R[A];let C=i[d];C||(C=i[d]=[]),C.push(v)}}c.appendChild(v);const O=g.children;Array.isArray(O)&&a(O,v,u)}};return a(t,o,s),{fragment:o,selectors:n,groupSelectors:i}},Ta=function(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);e=(e<<5)-e+i,e=e&e}return e},zo=function(t,e,n){for(var i=Array.isArray(e)?e:e.split(n||"/"),r,s=0,o=i.length;s<o;)if(r=i[s++],Object(t)===t&&r in t)t=t[r];else return;return t},uO=function(t,e){return typeof e!="string"&&typeof e!="number"&&(e=String(e)),!(e==="constructor"&&typeof t[e]=="function"||e==="__proto__")},Mu=function(t,e,n,i){const r=Array.isArray(e)?e:e.split(i||"/"),s=r.length-1;let o=t,a=0;for(;a<s;a++){const l=r[a];if(!uO(o,l))return t;o=o[l]||(o[l]={})}return o[r[s]]=n,t},by=function(t,e,n){const i=Array.isArray(e)?e:e.split(n||"/"),r=i.length-1;let s=t,o=0;for(;o<r;o++){const a=i[o];if(!uO(s,a))return t;const l=s[a];if(!l)return t;s=l}return delete s[i[r]],t},fO=function(t,e,n){e=e||"/";var i={};for(var r in t)if(t.hasOwnProperty(r)){var s=typeof t[r]=="object";if(s&&n&&n(t[r])&&(s=!1),s){var o=fO(t[r],e,n);for(var a in o)o.hasOwnProperty(a)&&(i[r+e+a]=o[a])}else i[r]=t[r]}return i},hO=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})},Ts=function(t){return Ts.id=Ts.id||1,t===void 0?"j_"+Ts.id++:(t.id=t.id===void 0?"j_"+Ts.id++:t.id,t.id)},dO=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},de=function(t){if(t.normalized)return t;const{originalEvent:e,target:n}=t,i=e&&e.changedTouches&&e.changedTouches[0];if(i)for(let r in i)t[r]===void 0&&(t[r]=i[r]);if(n){const r=n.correspondingUseElement;r&&(t.target=r)}return t.normalized=!0,t},gO=function(t){let r=0,s=0,o=0,a=0;return"detail"in t&&(s=t.detail),"wheelDelta"in t&&(s=-t.wheelDelta/120),"wheelDeltaY"in t&&(s=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(r=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=s,s=0),o="deltaX"in t?t.deltaX:r*10,a="deltaY"in t?t.deltaY:s*10,(o||a)&&t.deltaMode&&(t.deltaMode==1?(o*=40,a*=40):(o*=800,a*=800)),t.deltaX===0&&t.deltaY!==0&&t.shiftKey&&(o=a,a=0,r=s,s=0),o&&!r&&(r=o<1?-1:1),a&&!s&&(s=a<1?-1:1),{spinX:r,spinY:s,deltaX:o,deltaY:a}},pO=function(t,e){return t>e?e:t<-e?-e:t},Tu=function(){var t;if(typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(n){var i=new Date().getTime(),r=Math.max(0,16-(i-e)),s=setTimeout(function(){n(i+r)},r);return e=i+r,s}}return function(n,i,...r){return t(i!==void 0?n.bind(i,...r):n)}}(),Nu=function(){var t,e=typeof window<"u";return e&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?t.bind(window):t}(),UV=function(t,e,n,i){var r,s;if(!n){var o=e.$(".scalable")[0],a=e.$(".rotatable")[0];o&&o.firstChild?n=o.firstChild:a&&a.firstChild&&(n=a.firstChild)}return n?(s=$(n).findIntersection(i,t.paper.cells),s||(r=$(n).getBBox({target:t.paper.cells}))):(r=e.model.getBBox(),s=r.intersectionWithLineFromCenterToPoint(i)),s||r.center()},en=function(t){return fn(t)&&t.slice(-1)==="%"},mO=function(t,e){function n(a){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(t);return l?l[1]:null}var i=parseFloat(t);if(Number.isNaN(i))return null;var r={};r.value=i;var s;if(e==null)s="[A-Za-z]*";else if(Array.isArray(e)){if(e.length===0)return null;s=e.join("|")}else fn(e)&&(s=e);var o=n(s);return o===null?null:(r.unit=o,r)},Va=0;function VV(t,e){const n=t.split(e);let i=1;for(let r=0,s=n.length-1;r<s;r++){const o=[];(r>0||n[0]!=="")&&o.push(Va),o.push(e),(r<s-1||n[s]!=="")&&o.push(Va),n.splice(i,0,...o),i+=o.length+1}return n.filter(r=>r!=="")}function PC(t,e){if(t===null)return e.getBBox().height;switch(t.unit){case"em":return e.getBBox().height*t.value;case"px":case"":return t.value}}const PA=function(t,e,n={},i={}){var r=e.width,s=e.height,o=i.svgDocument||$("svg").node,a=$("tspan").node,l=$("text").attr(n).append(a).node,c=document.createTextNode("");l.style.opacity=0,l.style.display="block",a.style.display="block",a.appendChild(c),o.appendChild(l),i.svgDocument||document.body.appendChild(o);const u=i.preserveSpaces,f=" ";var g=i.separator||f,p=i.eol||`
`,v=i.hyphen?new RegExp(i.hyphen):/[^\w\d]/,y=i.maxLineCount;Sn(y)||(y=1/0);var I=t.split(g),_=[],S=[],O,R,A;u&&$(a).attr("xml:space","preserve");for(var d=0,C=0,N=I.length;d<N;d++){var k=I[d];if(!(!k&&!u)&&typeof k=="string"){var z=!1;if(p&&k.indexOf(p)>=0)if(k.length>1){const Pt=VV(I[d],p);I.splice(d,1,...Pt),d--,N=I.length;continue}else{if(u&&typeof I[d-1]=="string"){I.splice(d,Va,"",Va),N+=2,d--;continue}S[++C]=!u||typeof I[d+1]=="string"?"":void 0,z=!0}if(!z){let Pt;if(u?Pt=S[C]!==void 0?S[C]+f+k:k:Pt=S[C]?S[C]+f+k:k,c.data=Pt,a.getComputedTextLength()<=r)S[C]=Pt,(O||R)&&(_[C++]=!0,O=0,R=0);else{if(!S[C]||O){var B=!!O;if(O=k.length-1,B||!O){if(!O){if(!S[C]){S=[];break}I.splice(d,2,k+I[d+1]),N--,_[C++]=!0,d--;continue}I[d]=k.substring(0,O);const Ct=I[d+1];I[d+1]=k.substring(O)+(Ct===void 0||Ct===Va?"":Ct)}else{if(R)I.splice(d,2,I[d]+I[d+1]),R=0;else{var U=k.search(v);U>-1&&U!==k.length-1&&U!==0&&(R=U+1,O=0),I.splice(d,1,k.substring(0,R||O),k.substring(R||O)),N++}C&&!_[C-1]&&C--}(!u||S[C]!=="")&&d--;continue}C++,d--}}var X=null;if(S.length>y)X=y-1;else if(s!==void 0){if(A===void 0&&c.data!=="")if(n.lineHeight==="auto")A=PC({value:1.5,unit:"em"},l);else{const Pt=mO(n.lineHeight,["em","px",""]);A=PC(Pt,l)}A*S.length>s&&(X=Math.floor(s/A)-1)}if(X!==null){S.splice(X+1);var K=i.ellipsis;if(!K||X<0)break;typeof K!="string"&&(K="");var st=S[X];if(!st&&!z)break;var ut=st.length,dt,wt,mt;do{if(wt=st[ut],dt=st.substring(0,ut),wt?wt.match(g)&&(dt+=wt):(mt=typeof g=="string"?g:" ",dt+=mt),dt+=K,c.data=dt,a.getComputedTextLength()<=r){S[X]=dt;break}ut--}while(ut>=0);break}}}return i.svgDocument?o.removeChild(l):document.body.removeChild(o),S.join(p)},vO=function(t){var e=Jt(Jt.parseHTML("<div>"+t+"</div>",null,!1));return e.find("*").each(function(){var n=this;Jt.each(n.attributes,function(){var i=this,r=i.name,s=i.value;(r.startsWith("on")||s.startsWith("javascript:")||s.startsWith("data:")||s.startsWith("vbscript:"))&&Jt(n).removeAttr(r)})}),e.html()},yO=function(t,e){if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(t,e);else{var n=window.URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}},YV=function(t,e){const n=bO(t);yO(n,e)},bO=function(t){t=t.replace(/\s/g,""),t=decodeURIComponent(t);var e=t.indexOf(","),n=t.slice(0,e),i=n.split(":")[1].split(";")[0],r=t.slice(e+1),s;n.indexOf("base64")>=0?s=atob(r):s=unescape(encodeURIComponent(r));for(var o=new Uint8Array(s.length),a=0;a<s.length;a++)o[a]=s.charCodeAt(a);return new Blob([o],{type:i})},HV=function(t,e){if(!t||t.substr(0,5)==="data:")return setTimeout(function(){e(null,t)},0);var n=function(s,o){if(s.status===200){var a=new FileReader;a.onload=function(l){var c=l.target.result;o(null,c)},a.onerror=function(){o(new Error("Failed to load image "+t))},a.readAsDataURL(s.response)}else o(new Error("Failed to load image "+t))},i=function(s,o){var a=function(p){for(var v=32768,y=[],I=0;I<p.length;I+=v)y.push(String.fromCharCode.apply(null,p.subarray(I,I+v)));return y.join("")};if(s.status===200){var l=new Uint8Array(s.response),c=t.split(".").pop()||"png",u={svg:"svg+xml"},f="data:image/"+(u[c]||c)+";base64,",g=f+btoa(a(l));o(null,g)}else o(new Error("Failed to load image "+t))},r=new XMLHttpRequest;r.open("GET",t,!0),r.addEventListener("error",function(){e(new Error("Failed to load image "+t))}),r.responseType=window.FileReader?"blob":"arraybuffer",r.addEventListener("load",function(){window.FileReader?n(r,e):i(r,e)}),r.send()},XV=function(t){var e=Jt(t);if(e.length===0)throw new Error("Element not found");var n=e[0],i=n.ownerDocument,r=n.getBoundingClientRect(),s=0,o=0;if(n.ownerSVGElement){var a=$(n),l=a.getBBox({target:a.svg()});s=r.width-l.width,o=r.height-l.height}return{x:r.left+window.pageXOffset-i.documentElement.offsetLeft+s/2,y:r.top+window.pageYOffset-i.documentElement.offsetTop+o/2,width:r.width-s,height:r.height-o}},AO=function(t,e){var n=Jt(t),i=n.map(function(){var r=this,s=r.parentNode,o=s.insertBefore(document.createTextNode(""),r.nextSibling);return function(){if(s===this)throw new Error("You can't sort elements if any one is a descendant of another.");s.insertBefore(this,o),s.removeChild(o)}});return Array.prototype.sort.call(n,e).each(function(r){i[r].call(this)})},$V=function(t,e){var n=Jt(t);zn(e,function(i,r){var s=n.find(r).addBack().filter(r);Ti(i,"class")&&(s.addClass(i.class),i=pr(i,"class")),s.attr(i)})},mr=function(t){if(Object(t)!==t){var e=0;return isFinite(t)&&(e=+t),{top:e,right:e,bottom:e,left:e}}var n,i,r,s;return n=i=r=s=0,isFinite(t.vertical)&&(n=r=+t.vertical),isFinite(t.horizontal)&&(i=s=+t.horizontal),isFinite(t.top)&&(n=+t.top),isFinite(t.right)&&(i=+t.right),isFinite(t.bottom)&&(r=+t.bottom),isFinite(t.left)&&(s=+t.left),{top:n,right:i,bottom:r,left:s}},IO={linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){var i=(11-6*e-11*t)/4;return-i*i+n*n}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return .5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,n){return e=e||0,n=n||1,function(i){var r=t(i);return r<e?e:r>n?n:r}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},kA={number:function(t,e){var n=e-t;return function(i){return t+n*i}},object:function(t,e){var n=Object.keys(t);return function(i){var r,s,o={};for(r=n.length-1;r!=-1;r--)s=n[r],o[s]=t[s]+(e[s]-t[s])*i;return o}},hexColor:function(t,e){var n=parseInt(t.slice(1),16),i=parseInt(e.slice(1),16),r=n&255,s=(i&255)-r,o=n&65280,a=(i&65280)-o,l=n&16711680,c=(i&16711680)-l;return function(u){var f=r+s*u&255,g=o+a*u&65280,p=l+c*u&16711680;return"#"+(1<<24|f|g|p).toString(16).slice(1)}},unit:function(t,e){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,i=n.exec(t),r=n.exec(e),s=r[1].indexOf("."),o=s>0?r[1].length-s-1:0;t=+i[1];var a=+r[1]-t,l=i[2];return function(c){return(t+a*c).toFixed(o)+l}}},wO={outline:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=Number.isFinite(t.margin)?t.margin:2,i=Number.isFinite(t.width)?t.width:1;return pn(e)({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:n+i,innerRadius:n})},highlight:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return pn(e)({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return pn('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return pn(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return pn('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return pn('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return pn('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return pn('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return pn('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return pn('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return pn('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},qV={number:function(t,e,n){n=n||{currency:["$",""],decimal:".",thousands:",",grouping:[3]};var i=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,r=i.exec(t),s=r[1]||" ",o=r[2]||">",a=r[3]||"",l=r[4]||"",c=r[5],u=+r[6],f=r[7],g=r[8],p=r[9],v=1,y="",I="",_=!1;switch(g&&(g=+g.substring(1)),(c||s==="0"&&o==="=")&&(c=s="0",o="=",f&&(u-=Math.floor((u-1)/4))),p){case"n":f=!0,p="g";break;case"%":v=100,I="%",p="f";break;case"p":v=100,I="%",p="r";break;case"b":case"o":case"x":case"X":l==="#"&&(y="0"+p.toLowerCase());break;case"c":case"d":_=!0,g=0;break;case"s":v=-1,p="r";break}l==="$"&&(y=n.currency[0],I=n.currency[1]),p=="r"&&!g&&(p="g"),g!=null&&(p=="g"?g=Math.max(1,Math.min(21,g)):(p=="e"||p=="f")&&(g=Math.max(0,Math.min(20,g))));var S=c&&f;if(_&&e%1)return"";var O=e<0||e===0&&1/e<0?(e=-e,"-"):a,R=I;if(v<0){var A=this.prefix(e,g);e=A.scale(e),R=A.symbol+I}else e*=v;e=this.convert(p,e,g);var d=e.lastIndexOf("."),C=d<0?e:e.substring(0,d),N=d<0?"":n.decimal+e.substring(d+1);function k(U){for(var X=U.length,K=[],st=0,ut=n.grouping[0];X>0&&ut>0;)K.push(U.substring(X-=ut,X+ut)),ut=n.grouping[st=(st+1)%n.grouping.length];return K.reverse().join(n.thousands)}!c&&f&&n.grouping&&(C=k(C));var z=y.length+C.length+N.length+(S?0:O.length),B=z<u?new Array(z=u-z+1).join(s):"";return S&&(C=k(B+C)),O+=y,e=C+N,(o==="<"?O+e+B:o===">"?B+O+e:o==="^"?B.substring(0,z>>=1)+O+e+B.substring(z):O+(S?e:B+e))+R},string:function(t,e){for(var n,i="{",r=!1,s=[];(n=t.indexOf(i))!==-1;){var o,a,l;if(o=t.slice(0,n),r){a=o.split(":"),l=a.shift().split("."),o=e;for(var c=0;c<l.length;c++)o=o[l[c]];a.length&&(o=this.number(a,o))}s.push(o),t=t.slice(n+1),r=!r,i=r?"}":"{"}return s.push(t),s.join("")},convert:function(t,e,n){switch(t){case"b":return e.toString(2);case"c":return String.fromCharCode(e);case"o":return e.toString(8);case"x":return e.toString(16);case"X":return e.toString(16).toUpperCase();case"g":return e.toPrecision(n);case"e":return e.toExponential(n);case"f":return e.toFixed(n);case"r":return(e=this.round(e,this.precision(e,n))).toFixed(Math.max(0,Math.min(20,this.precision(e*(1+1e-15),n))));default:return e+""}},round:function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},precision:function(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)},prefix:function(t,e){var n=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(r,s){var o=Math.pow(10,Math.abs(8-s)*3);return{scale:s>8?function(a){return a/o}:function(a){return a*o},symbol:r}}),i=0;return t&&(t<0&&(t*=-1),e&&(t=this.round(t,this.precision(t,e))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,Math.floor((i<=0?i+1:i-1)/3)*3))),n[8+i/3]}},pn=function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},t.replace(e,function(i){for(var r=Array.from(arguments),s=r.slice(1,4).find(function(l){return!!l}),o=s.split("."),a=n[o.shift()];a!==void 0&&o.length;)a=a[o.shift()];return a!==void 0?a:""})}},JV=function(t){var e=window.top.document;t=t||e.body;function n(i,r){for(var s=["webkit","moz","ms","o",""],o=0;o<s.length;o++){var a=s[o],l=a?a+r:r.substr(0,1).toLowerCase()+r.substr(1);if(i[l]!==void 0)return ge(i[l])?i[l]():i[l]}}n(e,"FullscreenElement")||n(e,"FullScreenElement")?n(e,"ExitFullscreen")||n(e,"CancelFullScreen"):n(t,"RequestFullscreen")||n(t,"RequestFullScreen")},Is=function(){};function DA(t){t=$r(t);const e=ee(t).reduce(function(n,i){return n[i.id]=i.clone(),n},{});return ee(t).forEach(function(n){const i=e[n.id];if(i.isLink()){const o=i.source(),a=i.target();o.id&&e[o.id]&&i.prop("source/id",e[o.id].id),a.id&&e[a.id]&&i.prop("target/id",e[a.id].id)}const r=n.get("parent");r&&e[r]&&i.set("parent",e[r].id);const s=ee(n.get("embeds")).reduce(function(o,a){return e[a]&&o.push(e[a].id),o},[]);Zi(s)||i.set("embeds",s)}),e}const KV=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],QV=KV.reduce((t,e)=>(t[e]=!0,t),{}),t6={qualify:function(t){return ze(t)},set:function(t,e,n){Object.keys(t).forEach(function(i){if(QV[i]&&i in n){const r=t[i];n.tagName==="SELECT"&&Array.isArray(r)?Array.from(n.options).forEach(function(s,o){s.selected=r.includes(s.value)}):n[i]=r}})}},e6=t6;function Nr(t,e){return function(n,i){var r=en(n);n=parseFloat(n),r&&(n/=100);var s={};if(isFinite(n)){var o=r||n>=0&&n<=1?n*i[e]:Math.max(n+i[e],0);s[t]=o}return s}}function Tc(t,e,n){return function(i,r){var s=en(i);i=parseFloat(i),s&&(i/=100);var o;if(isFinite(i)){var a=r[n]();s||i>0&&i<1?o=a[t]+r[e]*i:o=a[t]+i}var l=Z();return l[t]=o||0,l}}function kC(t,e,n){return function(i,r){var s;i==="middle"?s=r[e]/2:i===n?s=r[e]:isFinite(i)?s=i>-1&&i<1?-r[e]*i:-i:en(i)?s=r[e]*parseFloat(i)/100:s=0;var o=Z();return o[t]=-(r[t]+s),o}}function CO(t,e){var n="joint-shape",i=e&&e.resetOffset;return function(r,s,o){var a=Jt(o),l=a.data(n);if(!l||l.value!==r){var c=t(r);l={value:r,shape:c,shapeBBox:c.bbox()},a.data(n,l)}var u=l.shape.clone(),f=l.shapeBBox.clone(),g=f.origin(),p=s.origin();f.x=p.x,f.y=p.y;var v=s.maxRectScaleToFit(f,p),y=f.width===0||s.width===0?1:v.sx,I=f.height===0||s.height===0?1:v.sy;return u.scale(y,I,g),i&&u.translate(-g.x,-g.y),u}}function DC(t){function e(i){return new _t($.normalizePathData(i))}var n=CO(e,t);return function(i,r,s){var o=n(i,r,s);return{d:o.serialize()}}}function OC(t){var e=CO(Ce,t);return function(n,i,r){var s=e(n,i,r);return{points:s.serialize()}}}function Nc(t,e){var n=new Z(1,0);return function(i){var r,s,o=this[t](i);return o?(s=e.rotate?o.vector().vectorAngle(n):0,r=o.start):(r=this.path.start,s=0),s===0?{transform:"translate("+r.x+","+r.y+")"}:{transform:"translate("+r.x+","+r.y+") rotate("+s+")"}}}function LC(t){return function(n,i,r){const s=$(r);s.attr(t)!==n&&s.attr(t,n)}}function lo(t,e,n){return n.text!==void 0}function ba(){return this.model.isLink()}function dd(t){var e={},n=t.stroke;typeof n=="string"&&(e.stroke=n,e.fill=n);var i=t.strokeOpacity;return i===void 0&&(i=t["stroke-opacity"]),i===void 0&&(i=t.opacity),i!==void 0&&(e["stroke-opacity"]=i,e["fill-opacity"]=i),e}function RC(t){const{paper:e}=this;return`url(#${t.type==="pattern"?e.definePattern(t):e.defineGradient(t)})`}const Vt={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:LC("href")},xlinkHref:{set:LC("xlink:href")},filter:{qualify:ze,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:ze,set:RC},stroke:{qualify:ze,set:RC},sourceMarker:{qualify:ze,set:function(t,e,n,i){return t=Mt(dd(i),t),{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:ze,set:function(t,e,n,i){return t=Mt(dd(i),{transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:ze,set:function(t,e,n,i){return t=Mt(dd(i),t),{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{qualify:function(t,e,n){return!n.textWrap||!ze(n.textWrap)},set:function(t,e,n,i){var r=Jt(n),s="joint-text",o=r.data(s),a=EA(i,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol","displayEmpty");const{x:l}=a;ei(l)&&(a.x=ni(l,e));let c=i["font-size"]||i.fontSize;ei(c)&&(c=ni(c,e));var u=a.fontSize=c,f=JSON.stringify([t,a]);if(o===void 0||o!==f){u&&n.setAttribute("font-size",u);var g=a.textPath;if(se(g)){var p=g.selector;if(typeof p=="string"){var v=this.findBySelector(p)[0];v instanceof SVGPathElement&&(a.textPath=Mt({"xlink:href":"#"+v.id},g))}}$(n).text(""+t,a),r.data(s,f)}}},textWrap:{qualify:ze,set:function(t,e,n,i){var r={},s=t.width||0;en(s)?r.width=e.width*parseFloat(s)/100:ei(s)?r.width=Number(ni(s,e)):t.width===null?r.width=1/0:s<=0?r.width=e.width+s:r.width=s;var o=t.height||0;en(o)?r.height=e.height*parseFloat(o)/100:ei(o)?r.height=Number(ni(o,e)):t.height===null||(o<=0?r.height=e.height+o:r.height=o);var a,l=t.text;if(l===void 0&&(l=i.text),l!==void 0){const c=t.breakText||PA,u=i["font-size"]||i.fontSize;a=c(""+l,r,{"font-weight":i["font-weight"]||i.fontWeight,"font-size":ei(u)?ni(u,e):u,"font-family":i["font-family"]||i.fontFamily,lineHeight:i.lineHeight,"letter-spacing":"letter-spacing"in i?i["letter-spacing"]:i.letterSpacing},{svgDocument:this.paper.svg,ellipsis:t.ellipsis,hyphen:t.hyphen,maxLineCount:t.maxLineCount,preserveSpaces:t.preserveSpaces})}else a="";Vt.text.set.call(this,a,e,n,i)}},title:{qualify:function(t,e){return e instanceof SVGElement},set:function(t,e,n){var i=Jt(n),r="joint-title",s=i.data(r);if(s===void 0||s!==t){if(i.data(r,t),n.tagName==="title"){n.textContent=t;return}var o=n.firstElementChild;if(o&&o.tagName==="title")o.textContent=t;else{var a=document.createElementNS(n.namespaceURI,"title");a.textContent=t,n.insertBefore(a,o)}}}},lineHeight:{qualify:lo},textVerticalAnchor:{qualify:lo},textPath:{qualify:lo},annotations:{qualify:lo},eol:{qualify:lo},displayEmpty:{qualify:lo},port:{set:function(t){return t===null||t.id===void 0?t:t.id}},style:{qualify:ze,set:function(t,e,n){Jt(n).css(t)}},html:{set:function(t,e,n){Jt(n).html(t+"")}},props:e6,ref:{},refX:{position:Tc("x","width","origin")},refY:{position:Tc("y","height","origin")},refDx:{position:Tc("x","width","corner")},refDy:{position:Tc("y","height","corner")},refWidth:{set:Nr("width","width")},refHeight:{set:Nr("height","height")},refRx:{set:Nr("rx","width")},refRy:{set:Nr("ry","height")},refRInscribed:{set:function(t){var e=Nr(t,"width"),n=Nr(t,"height");return function(i,r){var s=r.height>r.width?e:n;return s(i,r)}}("r")},refRCircumscribed:{set:function(t,e){var n=en(t);t=parseFloat(t),n&&(t/=100);var i=Math.sqrt(e.height*e.height+e.width*e.width),r;return isFinite(t)&&(n||t>=0&&t<=1?r=t*i:r=Math.max(t+i,0)),{r}}},refCx:{set:Nr("cx","width")},refCy:{set:Nr("cy","height")},xAlignment:{offset:kC("x","width","right")},yAlignment:{offset:kC("y","height","bottom")},resetOffset:{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}},refDResetOffset:{set:DC({resetOffset:!0})},refDKeepOffset:{set:DC({resetOffset:!1})},refPointsResetOffset:{set:OC({resetOffset:!0})},refPointsKeepOffset:{set:OC({resetOffset:!1})},connection:{qualify:ba,set:function({stubs:t=0}){let e;if(isFinite(t)&&t!==0){let n;t<0?n=(this.getConnectionLength()+t)/2:n=t;const i=this.getConnection(),r=this.getConnectionSubdivisions(),s=i.divideAtLength(n,{segmentSubdivisions:r}),o=i.divideAtLength(-n,{segmentSubdivisions:r});s&&o&&(e=`${s[0].serialize()} ${o[1].serialize()}`)}return{d:e||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:ba,set:Nc("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:ba,set:Nc("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:ba,set:Nc("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:ba,set:Nc("getTangentAtRatio",{rotate:!1})}};Vt["xlink:href"]=Vt.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(t=>{Vt[t]={qualify:ei,set:function(n,i){return{[t]:ni(n,i)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(t=>{Vt[t]={qualify:ei,set:function(n,i){return{[t]:Math.max(0,ni(n,i))}}}});Vt.refR=Vt.refRInscribed;Vt.refD=Vt.refDResetOffset;Vt.refPoints=Vt.refPointsResetOffset;Vt.atConnectionLength=Vt.atConnectionLengthKeepGradient;Vt.atConnectionRatio=Vt.atConnectionRatioKeepGradient;Vt.fontSize=Vt["font-size"];Vt.strokeWidth=Vt["stroke-width"];Vt.refX2=Vt.refX;Vt.refY2=Vt.refY;Vt.refWidth2=Vt.refWidth;Vt.refHeight2=Vt.refHeight;Vt["ref-x"]=Vt.refX;Vt["ref-y"]=Vt.refY;Vt["ref-dy"]=Vt.refDy;Vt["ref-dx"]=Vt.refDx;Vt["ref-width"]=Vt.refWidth;Vt["ref-height"]=Vt.refHeight;Vt["x-alignment"]=Vt.xAlignment;Vt["y-alignment"]=Vt.yAlignment;const OA=Vt,Ei=Qe.Model.extend({constructor:function(t,e){var n,i=t||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=lO("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(i=this.parse(i,e)||{}),(n=Be(this,"defaults"))&&(i=Ze({},n,i)),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,n){throw new Error("Must define a translate() method.")},toJSON:function(){const e=Be(this.constructor.prototype,"defaults").attrs||{},n=this.attributes.attrs,i={};zn(n,function(s,o){const a=e[o];zn(s,function(l,c){se(l)&&!Array.isArray(l)?zn(l,function(u,f){(!a||!a[c]||!Ms(a[c][f],u))&&(i[o]=i[o]||{},(i[o][c]||(i[o][c]={}))[f]=u)}):(!a||!Ms(a[c],l))&&(i[o]=i[o]||{},i[o][c]=l)})});const r=mn(pr(this.attributes,"attrs"));return r.attrs=i,r},initialize:function(t){const e=this.getIdAttribute();(!t||t[e]===void 0)&&this.set(e,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return hO()},processPorts:function(){var t=this.ports,e={};zn(this.get("attrs"),function(s,o){s&&s.port&&(s.port.id!==void 0?e[s.port.id]=s.port:e[s.port]={id:s.port})});var n={};if(zn(t,function(s,o){e[o]||(n[o]=!0)}),this.graph&&!Zi(n)){var i=this.graph.getConnectedLinks(this,{inbound:!0});i.forEach(function(s){n[s.get("target").port]&&s.remove()});var r=this.graph.getConnectedLinks(this,{outbound:!0});r.forEach(function(s){n[s.get("source").port]&&s.remove()})}this.ports=e},remove:function(t={}){const{graph:e,collection:n}=this;if(!e)return n&&n.remove(this,t),this;e.startBatch("remove");const i=this.getParentCell();i&&i.unembed(this,t);const r=this.getEmbeddedCells();for(let s=0,o=r.length;s<o;s++){const a=r[s];a&&a.remove(t)}return this.trigger("remove",this,e.attributes.cells,t),e.stopBatch("remove"),this},toFront:function(t){var e=this.graph;if(e){t=Rn(t||{},{foregroundEmbeds:!0});let n;t.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1,sortSiblings:t.foregroundEmbeds}),n.unshift(this)):n=[this];const i=t.foregroundEmbeds?n:Kc(n,l=>l.z());let s=e.maxZIndex()-n.length+1;const o=e.get("cells");let a=o.indexOf(i[0])!==o.length-n.length;a||(a=i.some(function(l,c){return l.z()!==s+c})),a&&(this.startBatch("to-front"),s=s+n.length,i.forEach(function(l,c){l.set("z",s+c,t)}),this.stopBatch("to-front"))}return this},toBack:function(t){var e=this.graph;if(e){t=Rn(t||{},{foregroundEmbeds:!0});let i;t.deep?(i=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1,sortSiblings:t.foregroundEmbeds}),i.unshift(this)):i=[this];const r=t.foregroundEmbeds?i:Kc(i,a=>a.z());let s=e.minZIndex();var n=e.get("cells");let o=n.indexOf(r[0])!==0;o||(o=r.some(function(a,l){return a.z()!==s+l})),o&&(this.startBatch("to-back"),s-=i.length,r.forEach(function(a,l){a.set("z",s+l,t)}),this.stopBatch("to-back"))}return this},parent:function(t,e){return t===void 0?this.get("parent"):this.set("parent",t,e)},embed:function(t,e){const n=Array.isArray(t)?t:[t];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(n.some(i=>i.isEmbedded()&&this.id!==i.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,e),this},unembed:function(t,e){const n=Array.isArray(t)?t:[t];return this._unembedCells(n,e),this},canEmbed:function(t){return(Array.isArray(t)?t:[t]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(t,e){const n="embed";this.startBatch(n);const i=Mt([],this.get("embeds"));t.forEach(r=>{i[r.isLink()?"unshift":"push"](r.id),r.parent(this.id,e)}),this.set("embeds",$r(i),e),this.stopBatch(n)},_unembedCells:function(t,e){const n="unembed";this.startBatch(n),t.forEach(i=>i.unset("parent",e)),this.set("embeds",_u(this.get("embeds"),...t.map(i=>i.id)),e),this.stopBatch(n)},getParentCell:function(){var t=this.parent(),e=this.graph;return t&&e&&e.getCell(t)||null},getAncestors:function(){var t=[];if(!this.graph)return t;for(var e=this.getParentCell();e;)t.push(e),e=e.getParentCell();return t},getEmbeddedCells:function(t){if(t=t||{},!this.graph)return[];if(t.deep)return t.breadthFirst?this._getEmbeddedCellsBfs(t.sortSiblings):this._getEmbeddedCellsDfs(t.sortSiblings);const e=this.get("embeds");if(Zi(e))return[];let n=e.map(this.graph.getCell,this.graph);return t.sortSiblings&&(n=Kc(n,i=>i.z())),n},_getEmbeddedCellsBfs:function(t){const e=[],n=[];for(n.push(this);n.length>0;){const i=n.shift();e.push(i);const r=i.getEmbeddedCells({sortSiblings:t});n.push(...r)}return e.shift(),e},_getEmbeddedCellsDfs:function(t){const e=[],n=[];for(n.push(this);n.length>0;){const i=n.pop();e.push(i);const r=i.getEmbeddedCells({sortSiblings:t});for(let s=r.length-1;s>=0;--s)n.push(r[s])}return e.shift(),e},isEmbeddedIn:function(t,e){var n=fn(t)?t:t.id,i=this.parent();if(e=Mt({deep:!0},e),this.graph&&e.deep){for(;i;){if(i===n)return!0;i=this.graph.getCell(i).parent()}return!1}else return i===n},isEmbedded:function(){return!!this.parent()},clone:function(t){if(t=t||{},t.deep)return ee(DA([this].concat(this.getEmbeddedCells({deep:!0}))));var e=Qe.Model.prototype.clone.apply(this,arguments);return e.set(this.getIdAttribute(),this.generateId()),e.unset("embeds"),e.unset("parent"),e},prop:function(t,e,n){var i="/",r=fn(t);if(r||Array.isArray(t))if(arguments.length>1){var s,o;r?(s=t,o=s.split("/")):(s=t.join(i),o=t.slice());var a=o[0],l=o.length;const S=n||{};S.propertyPath=s,S.propertyValue=e,S.propertyPathArray=o,"rewrite"in S||(S.rewrite=!1);for(var c={},u=c,f=a,g=1;g<l;g++){var p=o[g],v=Number.isFinite(r?Number(p):p);u=u[f]=v?[]:{},f=p}c=Mu(c,o,e,"/");var y=Ze({},this.attributes);S.rewrite&&by(y,s,"/");var I=Ze(y,c);return this.set(a,I[a],S)}else return zo(this.attributes,t,i);const _=e||{};return _.propertyPath=null,_.propertyValue=t,_.propertyPathArray=[],"rewrite"in _||(_.rewrite=!1),this.set(Ze({},this.attributes,t),_)},removeProp:function(t,e){e=e||{};var n=Array.isArray(t)?t:t.split("/"),i=n[0];if(i==="attrs"&&(e.dirty=!0),n.length===1)return this.unset(t,e);var r=n.slice(1),s=this.get(i);return s==null?this:(s=mn(s),by(s,r,"/"),this.set(i,s,e))},attr:function(t,e,n){var i=Array.from(arguments);return i.length===0?this.get("attrs"):(Array.isArray(t)?i[0]=["attrs"].concat(t):fn(t)?i[0]="attrs/"+t:i[0]={attrs:t},this.prop.apply(this,i))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,n,i){i=i||"/";var r={duration:100,delay:10,timingFunction:IO.linear,valueFunction:kA.number};n=Mt(r,n);var s=0,o,a=(function(f){var g,p,v;s=s||f,f-=s,p=f/n.duration,p<1?this._transitionIds[t]=g=Tu(a):(p=1,delete this._transitionIds[t]),v=o(n.timingFunction(p)),n.transitionId=g,this.prop(t,v,n),g||this.trigger("transition:end",this,t)}).bind(this);const{_scheduledTransitionIds:l}=this;let c;var u=f=>{l[t]&&(l[t]=_u(l[t],c),l[t].length===0&&delete l[t]),this.stopPendingTransitions(t,i),o=n.valueFunction(zo(this.attributes,t,i),e),this._transitionIds[t]=Tu(f),this.trigger("transition:start",this,t)};return c=setTimeout(u,n.delay,a),l[t]||(l[t]=[]),l[t].push(c),c},getTransitions:function(){return Su(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(t,e="/"){const{_scheduledTransitionIds:n={}}=this;let i=Object.keys(n);if(t){const r=t.split(e);i=i.filter(s=>Ms(r,s.split(e).slice(0,r.length)))}return i.forEach(r=>{n[r].forEach(o=>clearTimeout(o)),delete n[r]}),this},stopPendingTransitions(t,e="/"){const{_transitionIds:n={}}=this;let i=Object.keys(n);if(t){const r=t.split(e);i=i.filter(s=>Ms(r,s.split(e).slice(0,r.length)))}i.forEach(r=>{const s=n[r];Nu(s),delete n[r],this.trigger("transition:end",this,r)})},stopTransitions:function(t,e="/"){return this.stopScheduledTransitions(t,e),this.stopPendingTransitions(t,e),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,Mt({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,Mt({},e,{cell:this})),this},getChangeFlag:function(t){var e=0;if(!t)return e;for(var n in t)!t.hasOwnProperty(n)||!this.hasChanged(n)||(e|=t[n]);return e},angle:function(){return 0},position:function(){return new Z(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new Z},getBBox:function(){return new vt(0,0,0,0)},getPointRotatedAroundCenter(t,e,n){const i=new Z(e,n);return t&&i.rotate(this.getBBox().center(),t),i},getAbsolutePointFromRelative(t,e){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(t,e))},getRelativePointFromAbsolute(t,e){return this.getPointRotatedAroundCenter(this.angle(),t,e).difference(this.position())}},{getAttributeDefinition:function(t){var e=this.attributes,n=OA;return e&&e[t]||n[t]},define:function(t,e,n,i){n=Mt({defaults:zf({type:t},e,this.prototype.defaults)},n);var r=this.extend(n,i);return typeof joint<"u"&&Ti(joint,"shapes")&&Mu(joint.shapes,t,r,"."),r}}),xO=function(t,e,n){if(fn(n)){if(!Eu[n])throw new Error('Unknown wrapper: "'+n+'"');n=Eu[n]}if(!ge(n))throw new Error("Wrapper must be a function.");ee(e).forEach(function(i){t[i]=n(t[i])})},Eu={cells:function(t){return function(){var e=Array.from(arguments),n=e.length,i=n>0&&e[0]||[],r=n>1&&e[n-1]||{};return Array.isArray(i)||(r instanceof Ei?i=e:i instanceof Ei&&(e.length>1&&e.pop(),i=e)),r instanceof Ei&&(r={}),t.call(this,i,r)}}};function n6(t,...e){const n=[];return t.forEach((r,s)=>{n.push(r),s in e&&n.push(e[s])}),i6(n.join(""))}function i6(t){const e=new DOMParser,n=`<svg>${t.trim()}</svg>`;if(e.parseFromString(n.replace(/@/g,""),"application/xml").getElementsByTagName("parsererror")[0])throw new Error("Invalid SVG markup");const s=e.parseFromString(n,"text/html").querySelector("svg");return r6(s)}function _O(t){const e={},{tagName:n,attributes:i,namespaceURI:r,style:s,childNodes:o}=t;e.namespaceURI=r,e.tagName=r===$.namespace.xhtml?n.toLowerCase():n;const a={};for(var l=s.length;l--;){var c=s[l];a[c]=s.getPropertyValue(c)}e.style=a;const u=i.getNamedItem("@selector");u&&(e.selector=u.value,i.removeNamedItem("@selector"));const f=i.getNamedItem("@group-selector");if(f){const y=f.value.split(",");e.groupSelector=y.map(I=>I.trim()),i.removeNamedItem("@group-selector")}const g=i.getNamedItem("class");g&&(e.className=g.value);const p=[];o.forEach(y=>{switch(y.nodeType){case Node.TEXT_NODE:{const I=y.data.replace(/\s\s+/g," ");I.trim()&&p.push(I);break}case Node.ELEMENT_NODE:{p.push(_O(y));break}}}),p.length&&(e.children=p);const v={};return Array.from(i).forEach(y=>{const{name:I,value:_}=y;v[I]=_}),Object.keys(v).length>0&&(e.attributes=v),e}function r6(t){const e=[];return Array.from(t.children).forEach(n=>{e.push(_O(n))}),e}const Re={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function LA(t,e){const n=new vt(t);switch(e){case void 0:throw new Error("Position required");case Re.LEFT:case"leftMiddle":return n.leftMiddle();case Re.RIGHT:case"rightMiddle":return n.rightMiddle();case Re.TOP:case"topMiddle":return n.topMiddle();case Re.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case Re.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case Re.TOP_RIGHT:case"topRight":return n.topRight();case Re.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case Re.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case Re.CENTER:return n.center();default:throw new Error(`Unknown position: ${e}`)}}const s6=Object.freeze(Object.defineProperty({__proto__:null,addClassNamePrefix:di,assign:Mt,bindAll:ZV,breakText:PA,camelCase:aO,cancelFrame:Nu,cap:pO,clone:qn,cloneCells:DA,cloneDeep:mn,dataUriToBlob:bO,debounce:rO,deepMixin:GV,deepSupplement:nO,defaults:Rn,defaultsDeep:zf,difference:NA,downloadBlob:yO,downloadDataUri:YV,filter:wO,flattenDeep:oO,flattenObject:fO,forIn:zn,format:qV,getByPath:zo,getElementBBox:XV,getRectPoint:LA,groupBy:sO,guid:Ts,has:Ti,hashCode:Ta,imageToDataUri:HV,interpolate:kA,intersection:FV,invoke:ii,invokeProperty:iO,isBoolean:QD,isEmpty:Zi,isEqual:Ms,isFunction:ge,isNumber:Sn,isObject:se,isPercentage:en,isPlainObject:ze,isString:fn,merge:Ze,mixin:tO,nextFrame:Tu,noop:Is,normalizeEvent:de,normalizeSides:mr,normalizeWheel:gO,omit:pr,parseCssNumeric:mO,parseDOMJSON:ml,pick:EA,removeClassNamePrefix:cO,result:Be,sanitizeHTML:vO,setAttributesBySelector:$V,setByPath:Mu,shapePerimeterConnectionPoint:UV,sortBy:Kc,sortElements:AO,sortedIndex:TA,supplement:eO,svg:n6,template:pn,timing:IO,toArray:ee,toKebabCase:dO,toggleFullScreen:JV,union:Su,uniq:$r,uniqueId:lO,unsetByPath:by,uuid:hO,without:_u,wrapWith:xO,wrappers:Eu},Symbol.toStringTag,{value:"Module"}));function SO(t,e,n){var i=t.toJSON();return i.angle=e||0,Rn({},n,i)}function jl(t,e,n,i){return t.map(function(r,s,o){var a=this.pointAt((s+.5)/o.length);return(r.dx||r.dy)&&a.offset(r.dx||0,r.dy||0),SO(a.round(),0,RA(i,r))},Rs(e,n))}function MO(t,e,n,i){var r=e.center(),s=e.width/e.height,o=e.topMiddle(),a=Tn.fromRect(e);return t.map(function(l,c,u){var f=n+i(c,u.length),g=o.clone().rotate(r,-f).scale(s,1,r),p=l.compensateRotation?-a.tangentTheta(g):0;return(l.dx||l.dy)&&g.offset(l.dx||0,l.dy||0),l.dr&&g.move(r,l.dr),SO(g.round(),p,RA(e,l))})}function RA(t,e){let{x:n,y:i,angle:r}=e;return en(n)?n=parseFloat(n)/100*t.width:ei(n)&&(n=Number(ni(n,t))),en(i)?i=parseFloat(i)/100*t.height:ei(i)&&(i=Number(ni(i,t))),{x:n,y:i,angle:r}}function Ay(t,e){const{x:n,y:i}=RA(t,e);return new Z(n||0,i||0)}const o6=function(t,e){return t.map(n=>{const i=Ay(e,n).round().toJSON();return i.angle=n.angle||0,i})},a6=function(t,e,n){return n.fn(t,e,n)},l6=function(t,e,n){var i=Ay(e,n.start||e.origin()),r=Ay(e,n.end||e.corner());return jl(t,i,r,e)},c6=function(t,e,n){return jl(t,e.origin(),e.bottomLeft(),e)},u6=function(t,e,n){return jl(t,e.topRight(),e.corner(),e)},f6=function(t,e,n){return jl(t,e.origin(),e.topRight(),e)},h6=function(t,e,n){return jl(t,e.bottomLeft(),e.corner(),e)},d6=function(t,e,n){var i=n.startAngle||0,r=n.step||360/t.length;return MO(t,e,i,function(s){return s*r})},g6=function(t,e,n){var i=n.startAngle||0,r=n.step||20;return MO(t,e,i,function(s,o){return(s+.5-o/2)*r})},TO=Object.freeze(Object.defineProperty({__proto__:null,absolute:o6,bottom:h6,ellipse:g6,ellipseSpread:d6,fn:a6,left:c6,line:l6,right:u6,top:f6},Symbol.toStringTag,{value:"Module"}));function ns(t,e){return zf({},t,e,{x:0,y:0,angle:0,attrs:{}})}function NO(t){var e=t.center(),n=e.theta(t.origin()),i=e.theta(t.bottomLeft()),r=e.theta(t.corner()),s=e.theta(t.topRight());return[n,s,r,i]}function EO(t,e,n,i){i=Rn({},i,{offset:15});var r=e.center().theta(t),s,o,a,l,c=i.offset,u=0;const[f,g,p,v]=NO(e);r<g||r>p?(a=".3em",s=c,o=0,l="start"):r<f?(s=0,o=-c,n?(u=-90,l="start",a=".3em"):(l="middle",a="0")):r<v?(a=".3em",s=-c,o=0,l="end"):(s=0,o=c,n?(u=90,l="start",a=".3em"):(l="middle",a=".6em"));var y=Math.round;return ns(i,{x:y(s),y:y(o),angle:u,attrs:{labelText:{y:a,textAnchor:l}}})}function PO(t,e,n,i){i=Rn({},i,{offset:15});var r=e.center().theta(t),s,o,a,l,c=i.offset,u=0;const[f,g,p,v]=NO(e);r<g||r>p?(a=".3em",s=-c,o=0,l="end"):r<f?(s=0,o=c,n?(u=90,l="start",a=".3em"):(l="middle",a=".6em")):r<v?(a=".3em",s=c,o=0,l="start"):(s=0,o=-c,n?(u=-90,l="start",a=".3em"):(l="middle",a="0"));var y=Math.round;return ns(i,{x:y(s),y:y(o),angle:u,attrs:{labelText:{y:a,textAnchor:l}}})}function kO(t,e,n){n=Rn({},n,{offset:20});var i=yu(0,0),r=-t.theta(i),s=r,o=t.clone().move(i,n.offset).difference(t).round(),a=".3em",l;(r+90)%180===0?(l=e?"end":"middle",!e&&r===-270&&(a="0em")):r>-270&&r<-90?(l="start",s=r-180):l="end";var c=Math.round;return ns(n,{x:c(o.x),y:c(o.y),angle:e?s:0,attrs:{labelText:{y:a,textAnchor:l}}})}const p6=function(t,e,n){return ns(n)},m6=function(t,e,n){return ns(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},v6=function(t,e,n){return ns(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},y6=function(t,e,n){return ns(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},b6=function(t,e,n){return ns(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},A6=function(t,e,n){return EO(t,e,!0,n)},I6=function(t,e,n){return EO(t,e,!1,n)},w6=function(t,e,n){return PO(t,e,!0,n)},C6=function(t,e,n){return PO(t,e,!1,n)},x6=function(t,e,n){return kO(t.difference(e.center()),!1,n)},_6=function(t,e,n){return kO(t.difference(e.center()),!0,n)},DO=Object.freeze(Object.defineProperty({__proto__:null,bottom:b6,inside:C6,insideOriented:w6,left:m6,manual:p6,outside:I6,outsideOriented:A6,radial:x6,radialOriented:_6,right:v6,top:y6},Symbol.toStringTag,{value:"Module"})),sn=Ei.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(t){return this.set({source:{x:0,y:0},target:{x:0,y:0}},t)},source:function(t,e,n){if(t===void 0)return qn(this.get("source"));var i,r,s=t instanceof Ei;if(s)return i=qn(e)||{},i.id=t.id,r=n,this.set("source",i,r);var o=!ze(t);return o?(i=qn(e)||{},i.x=t.x,i.y=t.y,r=n,this.set("source",i,r)):(i=t,r=e,this.set("source",i,r))},target:function(t,e,n){if(t===void 0)return qn(this.get("target"));var i,r,s=t instanceof Ei;if(s)return i=qn(e)||{},i.id=t.id,r=n,this.set("target",i,r);var o=!ze(t);return o?(i=qn(e)||{},i.x=t.x,i.y=t.y,r=n,this.set("target",i,r)):(i=t,r=e,this.set("target",i,r))},router:function(t,e,n){if(t===void 0){var i=this.get("router");return i?typeof i=="object"?qn(i):i:this.get("manhattan")?{name:"orthogonal"}:null}var r=typeof t=="object"||typeof t=="function",s=r?t:{name:t,args:e},o=r?e:n;return this.set("router",s,o)},connector:function(t,e,n){if(t===void 0){var i=this.get("connector");return i?typeof i=="object"?qn(i):i:this.get("smooth")?{name:"smooth"}:null}var r=typeof t=="object"||typeof t=="function",s=r?t:{name:t,args:e},o=r?e:n;return this.set("connector",s,o)},label:function(t,e,n){var i=this.labels();return t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=i.length+t),arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,n)},labels:function(t,e){return arguments.length===0?(t=this.get("labels"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("labels",t,e))},hasLabels:function(){const{labels:t}=this.attributes;return Array.isArray(t)&&t.length>0},insertLabel:function(t,e,n){if(!e)throw new Error("dia.Link: no label provided");var i=this.labels(),r=i.length;return t=isFinite(t)&&t!==null?t|0:r,t<0&&(t=r+t+1),i.splice(t,0,e),this.labels(i,n)},appendLabel:function(t,e){return this.insertLabel(-1,t,e)},removeLabel:function(t,e){var n=this.labels();return t=isFinite(t)&&t!==null?t|0:-1,n.splice(t,1),this.labels(n,e)},vertex:function(t,e,n){var i=this.vertices();if(t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=i.length+t),arguments.length<=1)return this.prop(["vertices",t]);var r=this._normalizeVertex(e);return this.prop(["vertices",t],r,n)},vertices:function(t,e){if(arguments.length===0)return t=this.get("vertices"),Array.isArray(t)?t.slice():[];Array.isArray(t)||(t=[]);for(var n=[],i=0;i<t.length;i++){var r=t[i],s=this._normalizeVertex(r);n.push(s)}return this.set("vertices",n,e)},insertVertex:function(t,e,n){if(!e)throw new Error("dia.Link: no vertex provided");var i=this.vertices(),r=i.length;t=isFinite(t)&&t!==null?t|0:r,t<0&&(t=r+t+1);var s=this._normalizeVertex(e);return i.splice(t,0,s),this.vertices(i,n)},removeVertex:function(t,e){var n=this.vertices();return t=isFinite(t)&&t!==null?t|0:-1,n.splice(t,1),this.vertices(n,e)},_normalizeVertex:function(t){var e=!ze(t);return e?{x:t.x,y:t.y}:t},translate:function(t,e,n){return n=n||{},n.translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(function(i){return{x:(i.x||0)+t,y:(i.y||0)+e}},n)},scale:function(t,e,n,i){return this.applyToPoints(function(r){return Z(r).scale(t,e,n).toJSON()},i)},applyToPoints:function(t,e){if(!ge(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:i,target:r}=this.attributes;i.id||(n.source=t(i)),r.id||(n.target=t(r));var s=this.vertices();return s.length>0&&(n.vertices=s.map(t)),this.set(n,e)},getSourcePoint:function(){var t=this.getSourceCell();return t?t.getPointFromConnectedLink(this,"source"):new Z(this.source())},getTargetPoint:function(){var t=this.getTargetCell();return t?t.getPointFromConnectedLink(this,"target"):new Z(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const t=[this.getSourcePoint(),...this.vertices().map(Z),this.getTargetPoint()];return new Ce(t)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(t){var e;if(this.graph){var n=this.getSourceElement(),i=this.getTargetElement(),r=this.getParentCell();n&&i&&(n===i||n.isEmbeddedIn(i)?e=i:i.isEmbeddedIn(n)?e=n:e=this.graph.getCommonAncestor(n,i)),r&&(!e||e.id!==r.id)&&r.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var{source:e,target:n}=this.attributes,i=e.id,r=n.id;if(!i||!r)return!1;var s=i===r;if(!s&&t.deep&&this.graph){var o=this.getSourceCell(),a=this.getTargetCell();s=o.isEmbeddedIn(a)||a.isEmbeddedIn(o)}return s},getSourceCell:function(){const{graph:t,attributes:e}=this;var n=e.source;return n&&n.id&&t&&t.getCell(n.id)||null},getSourceElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getSourceCell()}while(t&&t.isLink());return t},getTargetCell:function(){const{graph:t,attributes:e}=this;var n=e.target;return n&&n.id&&t&&t.getCell(n.id)||null},getTargetElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getTargetCell()}while(t&&t.isLink());return t},getRelationshipAncestor:function(){var t;if(this.graph){var e=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=fn(t)||Sn(t)?t:t.id,n=this.getRelationshipAncestor();return!!n&&(n.id===e||n.isEmbeddedIn(e))},_getDefaultLabel:function(){var t=this.get("defaultLabel")||this.defaultLabel||{},e={};return e.markup=t.markup||this.get("labelMarkup")||this.labelMarkup,e.position=t.position,e.attrs=t.attrs,e.size=t.size,e}},{endsEqual:function(t,e){var n=t.port===e.port||!t.port&&!e.port;return t.id===e.id&&n}});var OO=function(t){var e=mn(t)||{};this.ports=[],this.groups={},this.portLayoutNamespace=TO,this.portLabelLayoutNamespace=DO,this._init(e)};OO.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return this.ports.filter(function(e){return e.group===t})},getGroupPortsMetrics:function(t,e){var n=this.getGroup(t),i=this.getPortsByGroup(t),r=n.position||{},s=r.name,o=this.portLayoutNamespace;o[s]||(s="left");var a=r.args||{},l=i.map(function(f){return f&&f.position&&f.position.args}),c=o[s](l,e,a),u={ports:i,result:[]};return ee(c).reduce((function(f,g,p){var v=f.ports[p];return f.result.push({portId:v.id,portTransformation:g,labelTransformation:this._getPortLabelLayout(v,Z(g),e),portAttrs:v.attrs,portSize:v.size,labelSize:v.label.size}),f}).bind(this),u),u.result},_getPortLabelLayout:function(t,e,n){var i=this.portLabelLayoutNamespace,r=t.label.position.name||"left";return i[r]?i[r](e,n,t.label.position.args):null},_init:function(t){if(se(t.groups))for(var e=Object.keys(t.groups),n=0,i=e.length;n<i;n++){var r=e[n];this.groups[r]=this._evaluateGroup(t.groups[r])}for(var s=ee(t.items),o=0,a=s.length;o<a;o++)this.ports.push(this._evaluatePort(s[o]))},_evaluateGroup:function(t){return Ze(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var e=Mt({},t),n=this.getGroup(t.group);return e.markup=e.markup||n.markup,e.attrs=Ze({},n.attrs,e.attrs),e.position=this._createPositionNode(n,e),e.label=Ze({},n.label,this._getLabel(e)),e.z=this._getZIndex(n,e),e.size=Mt({},n.size,e.size),e},_getZIndex:function(t,e){return Sn(e.z)?e.z:Sn(t.z)||t.z==="auto"?t.z:"auto"},_createPositionNode:function(t,e){return Ze({name:"left",args:{}},t.position,{args:e.args})},_getPosition:function(t,e){var n={},i;ge(t)?(i="fn",n.fn=t):fn(t)?i=t:t===void 0?i=e?"left":null:Array.isArray(t)?(i="absolute",n.x=t[0],n.y=t[1]):se(t)&&(i=t.name,Mt(n,t.args));var r={args:n};return i&&(r.name=i),r},_getLabel:function(t,e){var n=t.label||{},i=n;return i.position=this._getPosition(n.position,e),i}};const S6={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},e={};ee(t.items).forEach(function(a){e[a.id]=!0});var n=this.previous("ports")||{},i={};ee(n.items).forEach(function(a){e[a.id]||(i[a.id]=!0)});var r=this.graph;if(r&&!Zi(i)){var s=r.getConnectedLinks(this,{inbound:!0});s.forEach(function(a){i[a.get("target").port]&&a.remove()});var o=r.getConnectedLinks(this,{outbound:!0});o.forEach(function(a){i[a.get("source").port]&&a.remove()})}},hasPorts:function(){var t=this.prop("ports/items");return Array.isArray(t)&&t.length>0},hasPort:function(t){return this.getPortIndex(t)!==-1},getPorts:function(){return mn(this.prop("ports/items"))||[]},getGroupPorts:function(t){const e=ee(this.prop(["ports","items"])).filter(n=>n.group===t);return mn(e)},getPort:function(t){return mn(ee(this.prop("ports/items")).find(function(e){return e.id&&e.id===t}))},getPortsPositions:function(t){var e=this._portSettingsData.getGroupPortsMetrics(t,vt(this.size()));return e.reduce(function(n,i){var r=i.portTransformation;return n[i.portId]={x:r.x,y:r.y,angle:r.angle},n},{})},getPortIndex:function(t){var e=se(t)?t.id:t;return this._isValidPortId(e)?ee(this.prop("ports/items")).findIndex(function(n){return n.id===e}):-1},addPort:function(t,e){if(!se(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var n=Mt([],this.prop("ports/items"));return n.push(t),this.prop("ports/items",n,e),this},insertPort:function(t,e,n){const i=typeof t=="number"?t:this.getPortIndex(t);if(!se(e)||Array.isArray(e))throw new Error("dia.Element: insertPort requires an object.");const r=Mt([],this.prop("ports/items"));return r.splice(i,0,e),this.prop("ports/items",r,n),this},portProp:function(t,e,n,i){var r=this.getPortIndex(t);if(r===-1)throw new Error("Element: unable to find port with id "+t);var s=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?s[0]=["ports","items",r].concat(e):fn(e)?s[0]=["ports/items/",r,"/",e].join(""):(s=["ports/items/"+r],ze(e)&&(s.push(e),s.push(n))),this.prop.apply(this,s)},_validatePorts:function(){var t=this.get("ports")||{},e=[];t=t||{};var n=ee(t.items);return n.forEach(function(i){typeof i!="object"&&e.push("Element: invalid port ",i),this._isValidPortId(i.id)||(i.id=this.generatePortId())},this),$r(n,"id").length!==n.length&&e.push("Element: found id duplicities in ports."),e},generatePortId:function(){return this.generateId()},_isValidPortId:function(t){return t!=null&&!se(t)},addPorts:function(t,e){return t.length&&this.prop("ports/items",Mt([],this.prop("ports/items")).concat(t),e),this},removePort:function(t,e){const n=e||{},i=this.getPortIndex(t);if(i!==-1){const r=Mt([],this.prop(["ports","items"]));r.splice(i,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],r,n),this.stopBatch("port-remove")}return this},removePorts:function(t,e){let n,i;if(Array.isArray(t)){if(n=e||{},t.length===0)return this.this;i=Mt([],this.prop(["ports","items"])).filter(function(s){return!t.some(function(o){const a=se(o)?o.id:o;return s.id===a})})}else n=t||{},i=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],i,n),this.stopBatch("port-remove"),this},_createPortData:function(){var t=this._validatePorts();if(t.length>0)throw this.set("ports",this.previous("ports")),new Error(t.join(" "));var e;this._portSettingsData&&(e=this._portSettingsData.getPorts()),this._portSettingsData=new OO(this.get("ports"));var n=this._portSettingsData.getPorts();if(e){var i=n.filter(function(s){if(!e.find(function(o){return o.id===s.id}))return s}),r=e.filter(function(s){if(!n.find(function(o){return o.id===s.id}))return s});r.length>0&&this.trigger("ports:remove",this,r),i.length>0&&this.trigger("ports:add",this,i)}}},M6={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var t=[],e=this._getContainerElement(),n=0,i=e.node.childNodes.length;n<i;n++)t.push(e.node.childNodes[n]);var r=sO(this.model._portSettingsData.getPorts(),"z"),s="auto";ee(r[s]).forEach(function(u){var f=this._getPortElement(u);e.append(f),t.push(f)},this);for(var o=Object.keys(r),a=0;a<o.length;a++){var l=o[a];if(l!==s){var c=parseInt(l,10);this._appendPorts(r[l],c,t)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,e,n){var i=this._getContainerElement(),r=ee(t).map(this._getPortElement,this);n[e]||e<0?$(n[Math.max(e,0)]).before(r):i.append(r)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},findPortNode:function(t,e){const n=this._portElementsCache[t];if(!n)return null;if(!e)return n.portContentElement.node;const i=n.portElement.node,r=n.portSelectors,[s=null]=this.findBySelector(e,i,r);return s},_updatePorts:function(){this._updatePortGroup(void 0);var t=Object.keys(this.model._portSettingsData.groups);t.forEach(this._updatePortGroup,this)},_removePorts:function(){ii(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){let e,n,i,r;var s=$(this.portContainerMarkup).addClass("joint-port"),o=this._getPortMarkup(t);if(Array.isArray(o)){var a=this.parseDOMJSON(o,s.node),l=a.fragment;l.childNodes.length>1?e=$("g").append(l):e=$(l.firstChild),r=a.selectors}else e=$(o),Array.isArray(e)&&(e=$("g").append(e));if(!e)throw new Error("ElementView: Invalid port markup.");e.attr({port:t.id,"port-group":t.group});const c=this._getPortLabelMarkup(t.label);if(Array.isArray(c)){const{fragment:y,selectors:I}=this.parseDOMJSON(c,s.node),_=y.childNodes.length;_>0&&(i=I,n=_===1?$(y.firstChild):$("g").append(y))}else n=$(c),Array.isArray(n)&&(n=$("g").append(n));var u;if(r&&i){for(var f in i)if(r[f]&&f!==this.selector)throw new Error("ElementView: selectors within port must be unique.");u=Mt({},r,i)}else u=r||i||{};const g="portRoot",p="labelRoot",v="labelText";if(g in u||(u[g]=e.node),n){const y=n.node;if(p in u||(u[p]=y),!(v in u)){const I=n.tagName()==="TEXT"?y:Array.from(y.querySelectorAll("text"));u[v]=I,i||(i={}),i[v]=I}}return s.append(e.addClass("joint-port-body")),n&&s.append(n.addClass("joint-port-label")),this._portElementsCache[t.id]={portElement:s,portLabelElement:n,portSelectors:u,portLabelSelectors:i,portContentElement:e,portContentSelectors:r},s},_updatePortGroup:function(t){for(var e=vt(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(t,e),i=0,r=n.length;i<r;i++){var s=n[i],o=s.portId,a=this._portElementsCache[o]||{},l=s.portTransformation,c=s.labelTransformation;c&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,c.attrs,{rootBBox:new vt(s.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,c,-l.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,s.portAttrs,{rootBBox:new vt(s.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,l)}},applyPortTransform:function(t,e,n){var i=$.createSVGMatrix().rotate(n||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(i,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},Pe=Ei.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Ei.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(t,e,n){const i=Sn(e);n=(i?n:t)||{};const{parentRelative:r,deep:s,restrictedArea:o}=n;let a;if(r){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(a=l.get("position"))}if(i){if(a&&(t+=a.x,e+=a.y),s||o){const{x:l,y:c}=this.get("position");this.translate(t-l,e-c,n)}else this.set("position",{x:t,y:e},n);return this}else{const l=Z(this.get("position"));return r?l.difference(a):l}},translate:function(t,e,n){if(t=t||0,e=e||0,t===0&&e===0)return this;n=n||{},n.translateBy=n.translateBy||this.id;var i=this.get("position")||{x:0,y:0},r=n.restrictedArea;if(r&&n.translateBy===this.id)if(typeof r=="function"){var s=r.call(this,i.x+t,i.y+e,n);t=s.x-i.x,e=s.y-i.y}else{var o=this.getBBox({deep:!0}),a=i.x-o.x,l=i.y-o.y,c=Math.max(r.x+a,Math.min(r.x+r.width+a-o.width,i.x+t)),u=Math.max(r.y+l,Math.min(r.y+r.height+l-o.height,i.y+e));t=c-i.x,e=u-i.y}var f={x:i.x+t,y:i.y+e};return n.tx=t,n.ty=e,n.transition?(se(n.transition)||(n.transition={}),this.transition("position",f,Mt({},n.transition,{valueFunction:kA.object})),ii(this.getEmbeddedCells(),"translate",t,e,n)):(this.startBatch("translate",n),this.set("position",f,n),ii(this.getEmbeddedCells(),"translate",t,e,n),this.stopBatch("translate",n)),this},size:function(t,e,n){var i=this.get("size");return t===void 0?{width:i.width,height:i.height}:(se(t)&&(n=e,e=Sn(t.height)?t.height:i.height,t=Sn(t.width)?t.width:i.width),this.resize(t,e,n))},resize:function(t,e,n){if(n=n||{},this.startBatch("resize",n),n.direction){var i=this.get("size");switch(n.direction){case"left":case"right":e=i.height;break;case"top":case"bottom":t=i.width;break}var r=Hi(this.get("angle")||0),s=this.getBBox(),o;if(r){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(a+=Math.floor((r+45)/90),a%=4);var l=s[["bottomLeft","corner","topRight","origin"][a]](),c=Z(l).rotate(s.center(),-r),u=Math.sqrt(t*t+e*e)/2,f=a*Math.PI/2;f+=Math.atan(a%2==0?e/t:t/e),f-=jn(r);var g=Z.fromPolar(u,f,c);o=Z(g).offset(t/-2,e/-2)}else switch(o=s.topLeft(),n.direction){case"top":case"top-right":o.offset(0,s.height-e);break;case"left":case"bottom-left":o.offset(s.width-t,0);break;case"top-left":o.offset(s.width-t,s.height-e);break}this.set("size",{width:t,height:e},n),this.position(o.x,o.y,n)}else this.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this},scale:function(t,e,n,i){var r=this.getBBox().scale(t,e,n);return this.startBatch("scale",i),this.position(r.x,r.y,i),this.resize(r.width,r.height,i),this.stopBatch("scale"),this},fitEmbeds:function(t){return this.fitToChildren(t)},fitToChildren:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(i=>i.isElement());return n.length===0?this:(this.startBatch("fit-embeds",t),t.deep&&ii(n,"fitToChildren",t),this._fitToElements(Object.assign({elements:n},t)),this.stopBatch("fit-embeds"),this)},fitParent:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");if(t.deep&&t.terminator&&(t.terminator===this||t.terminator===this.id))return this;const n=this.getParentCell();if(!n||!n.isElement())return this;const i=n.getEmbeddedCells().filter(r=>r.isElement());return i.length===0?this:(this.startBatch("fit-parent",t),n._fitToElements(Object.assign({elements:i},t)),t.deep&&n.fitParent(t),this.stopBatch("fit-parent"),this)},_fitToElements:function(t={}){const e=this.graph.getCellsBBox(t.elements);if(!e)return;const{expandOnly:n,shrinkOnly:i}=t;if(n&&i)return;let{x:r,y:s,width:o,height:a}=e;const{left:l,right:c,top:u,bottom:f}=mr(t.padding);r-=l,s-=u,o+=l+c,a+=f+u;let g=new vt(r,s,o,a);if(n)g=this.getBBox().union(g);else if(i){const p=this.getBBox().intersect(g);if(!p)return;g=p}this.set({position:{x:g.x,y:g.y},size:{width:g.width,height:g.height}},t)},rotate:function(t,e,n,i){if(n){var r=this.getBBox().center(),s=this.get("size"),o=this.get("position");r.rotate(n,this.get("angle")-t);var a=r.x-s.width/2-o.x,l=r.y-s.height/2-o.y;this.startBatch("rotate",{angle:t,absolute:e,origin:n}),this.position(o.x+a,o.y+l,i),this.rotate(t,e,null,i),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,i);return this},angle:function(){return Hi(this.get("angle")||0)},getBBox:function(t={}){const{graph:e,attributes:n}=this,{deep:i,rotate:r}=t;if(i&&e){const f=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return f.push(this),e.getCellsBBox(f,t)}const{angle:s=0,position:{x:o,y:a},size:{width:l,height:c}}=n,u=new vt(o,a,l,c);return r&&u.rotateAroundCenter(s),u},getPointFromConnectedLink:function(t,e){var n=this.getBBox(),i=n.center(),r=t.get(e);if(!r)return i;var s=r.port;if(!s||!this.hasPort(s))return i;var o=this.portProp(s,["group"]),a=this.getPortsPositions(o),l=new Z(a[s]).offset(n.origin()),c=this.angle();return c&&l.rotate(i,-c),l}});Mt(Pe.prototype,S6);const T6=Qe.Collection.extend({initialize:function(t,e){e.cellNamespace?this.cellNamespace=e.cellNamespace:this.cellNamespace=typeof joint<"u"&&Ti(joint,"shapes")?joint.shapes:null,this.graph=e.graph},model:function(t,e){var n=e.collection,i=n.cellNamespace,r=t.type==="link"?sn:zo(i,t.type,".")||Pe,s=new r(t,e);return e.dry||(s.graph=n.graph),s},comparator:function(t){return t.get("z")||0}}),ur=Qe.Model.extend({initialize:function(t,e){e=e||{};var n=new T6([],{model:e.cellModel,cellNamespace:e.cellNamespace,graph:this});Qe.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var{source:e,target:n}=t.attributes;e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var{source:e,target:n}=t.attributes;e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],n.id&&this._in[n.id]&&this._in[n.id][t.id]&&delete this._in[n.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var n=t.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var n=t.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=Qe.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,e,n){var i;return typeof t=="object"?(i=t,n=e):(i={})[t]=e,i.hasOwnProperty("cells")&&(this.resetCells(i.cells,n),i=pr(i,"cells")),Qe.Model.prototype.set.call(this,i,n)},clear:function(t){t=Mt({},t,{clear:!0});var e=this.get("cells");if(e.length===0)return this;this.startBatch("clear",t);var n=e.sortBy(function(i){return i.isLink()?1:2});do n.shift().remove(t);while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(t,e){var n;if(t instanceof Qe.Model?(n=t.attributes,!t.graph&&(!e||!e.dry)&&(t.graph=this)):n=t,!fn(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},minZIndex:function(){var t=this.get("cells").first();return t&&t.get("z")||0},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,e){return Array.isArray(t)?this.addCells(t,e):(t instanceof Qe.Model?t.has("z")||t.set("z",this.maxZIndex()+1):t.z===void 0&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,e),e||{}),this)},addCells:function(t,e){return t.length===0?this:(t=oO(t),e.maxPosition=e.position=t.length-1,this.startBatch("add",e),t.forEach(function(n){this.addCell(n,e),e.position--},this),this.stopBatch("add",e),this)},resetCells:function(t,e){var n=ee(t).map(function(i){return this._prepareCell(i,e)},this);return this.get("cells").reset(n,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),ii(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(t,n):this.removeLinks(t,n)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(t=>t.isElement())},getLinks:function(){return this.get("cells").filter(t=>t.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){e=e||{};var n=e.indirect,i=e.inbound,r=e.outbound;i===void 0&&r===void 0&&(i=r=!0);var s=[],o={};r&&a(this,t),i&&l(this,t);function a(f,g){if(zn(f.getOutboundEdges(g.id),(function(v,y){if(!o[y]){var I=f.getCell(y);s.push(I),o[y]=!0,n&&(i&&l(f,I),r&&a(f,I))}}).bind(f)),n&&g.isLink()){var p=g.getTargetCell();p&&p.isLink()&&(o[p.id]||(s.push(p),a(f,p)))}}function l(f,g){if(zn(f.getInboundEdges(g.id),(function(v,y){if(!o[y]){var I=f.getCell(y);s.push(I),o[y]=!0,n&&(i&&l(f,I),r&&a(f,I))}}).bind(f)),n&&g.isLink()){var p=g.getSourceCell();p&&p.isLink()&&(o[p.id]||(s.push(p),l(f,p)))}}if(e.deep){var c=t.getEmbeddedCells({deep:!0}),u={};c.forEach(function(f){f.isElement()&&(u[f.id]=!0)}),c.forEach(function(f){f.isLink()||(r&&zn(this.getOutboundEdges(f.id),(function(g,p){if(!o[p]){var v=this.getCell(p),{source:y,target:I}=v.attributes,_=y.id,S=I.id;if(!e.includeEnclosed&&_&&u[_]&&S&&u[S])return;s.push(this.getCell(p)),o[p]=!0}}).bind(this)),i&&zn(this.getInboundEdges(f.id),(function(g,p){if(!o[p]){var v=this.getCell(p),{source:y,target:I}=v.attributes,_=y.id,S=I.id;if(!e.includeEnclosed&&_&&u[_]&&S&&u[S])return;s.push(this.getCell(p)),o[p]=!0}}).bind(this)))},this)}return s},getNeighbors:function(t,e){e||(e={});var n=e.inbound,i=e.outbound;n===void 0&&i===void 0&&(n=i=!0);var r=this.getConnectedLinks(t,e).reduce((function(a,l){var{source:c,target:u}=l.attributes,f=l.hasLoop(e);if(n&&Ti(c,"id")&&!a[c.id]){var g=this.getCell(c.id);g.isElement()&&(f||g&&g!==t&&(!e.deep||!g.isEmbeddedIn(t)))&&(a[c.id]=g)}if(i&&Ti(u,"id")&&!a[u.id]){var p=this.getCell(u.id);p.isElement()&&(f||p&&p!==t&&(!e.deep||!p.isEmbeddedIn(t)))&&(a[u.id]=p)}return a}).bind(this),{});if(t.isLink()){if(n){var s=t.getSourceCell();s&&s.isElement()&&!r[s.id]&&(r[s.id]=s)}if(i){var o=t.getTargetCell();o&&o.isElement()&&!r[o.id]&&(r[o.id]=o)}}return ee(r)},getCommonAncestor:function(){var t=Array.from(arguments).map(function(n){for(var i=[],r=n.get("parent");r;)i.push(r),r=this.getCell(r).get("parent");return i},this);t=t.sort(function(n,i){return n.length-i.length});var e=ee(t.shift()).find(function(n){return t.every(function(i){return i.includes(n)})});return this.getCell(e)},getSuccessors:function(t,e){e=e||{};var n=[];return this.search(t,function(i){i!==t&&n.push(i)},Mt({},e,{outbound:!0})),n},cloneCells:DA,cloneSubgraph:function(t,e){var n=this.getSubgraph(t,e);return this.cloneCells(n)},getSubgraph:function(t,e){e=e||{};var n=[],i={},r=[],s=[];return ee(t).forEach(function(o){if(i[o.id]||(n.push(o),i[o.id]=o,o.isLink()?s.push(o):r.push(o)),e.deep){var a=o.getEmbeddedCells({deep:!0});a.forEach(function(l){i[l.id]||(n.push(l),i[l.id]=l,l.isLink()?s.push(l):r.push(l))})}}),s.forEach(function(o){var{source:a,target:l}=o.attributes;if(a.id&&!i[a.id]){var c=this.getCell(a.id);n.push(c),i[c.id]=c,r.push(c)}if(l.id&&!i[l.id]){var u=this.getCell(l.id);n.push(this.getCell(l.id)),i[u.id]=u,r.push(u)}},this),r.forEach(function(o){var a=this.getConnectedLinks(o,e);a.forEach(function(l){var{source:c,target:u}=l.attributes;!i[l.id]&&c.id&&i[c.id]&&u.id&&i[u.id]&&(n.push(l),i[l.id]=l)})},this),n},getPredecessors:function(t,e){e=e||{};var n=[];return this.search(t,function(i){i!==t&&n.push(i)},Mt({},e,{inbound:!0})),n},search:function(t,e,n){n=n||{},n.breadthFirst?this.bfs(t,e,n):this.dfs(t,e,n)},bfs:function(t,e,n={}){const i={},r={},s=[];for(s.push(t),r[t.id]=0;s.length>0;){var o=s.shift();if(i[o.id]||(i[o.id]=!0,e.call(this,o,r[o.id])===!1))continue;const a=this.getNeighbors(o,n);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[u.id]=r[o.id]+1,s.push(u)}}},dfs:function(t,e,n={}){const i={},r={},s=[];for(s.push(t),r[t.id]=0;s.length>0;){const o=s.pop();if(i[o.id]||(i[o.id]=!0,e.call(this,o,r[o.id])===!1))continue;const a=this.getNeighbors(o,n),l=s.length;for(let c=0,u=a.length;c<u;c++){const f=a[c];r[f.id]=r[o.id]+1,s.splice(l,0,f)}}},getSources:function(){var t=[];return zn(this._nodes,(function(e,n){(!this._in[n]||Zi(this._in[n]))&&t.push(this.getCell(n))}).bind(this)),t},getSinks:function(){var t=[];return zn(this._nodes,(function(e,n){(!this._out[n]||Zi(this._out[n]))&&t.push(this.getCell(n))}).bind(this)),t},isSource:function(t){return!this._in[t.id]||Zi(this._in[t.id])},isSink:function(t){return!this._out[t.id]||Zi(this._out[t.id])},isSuccessor:function(t,e){var n=!1;return this.search(t,function(i){if(i===e&&i!==t)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(t,e){var n=!1;return this.search(t,function(i){if(i===e&&i!==t)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(t,e,n){n=n||{};var i=n.inbound,r=n.outbound;i===void 0&&r===void 0&&(i=r=!0);var s=!1;return this.getConnectedLinks(t,n).forEach(function(o){var{source:a,target:l}=o.attributes;if(i&&Ti(a,"id")&&a.id===e.id||r&&Ti(l,"id")&&l.id===e.id)return s=!0,!1}),s},disconnectLinks:function(t,e){this.getConnectedLinks(t).forEach(function(n){n.set(n.attributes.source.id===t.id?"source":"target",{x:0,y:0},e)})},removeLinks:function(t,e){ii(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return this.getElements().filter(e=>e.getBBox({rotate:!0}).containsPoint(t))},findModelsInArea:function(t,e={}){const n=new vt(t),{strict:i=!1}=e,r=i?"containsRect":"intersect";return this.getElements().filter(s=>n[r](s.getBBox({rotate:!0})))},findModelsUnderElement:function(t,e={}){const{searchBy:n="bbox"}=e,i=t.getBBox().rotateAroundCenter(t.angle());return(n==="bbox"?this.findModelsInArea(i):this.findModelsFromPoint(LA(i,n))).filter(s=>t.id!==s.id&&!s.isEmbeddedIn(t))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(t,e={}){const{rotate:n=!0}=e;return ee(t).reduce(function(i,r){const s=r.getBBox({rotate:n});return s?i?i.union(s):s:i},null)},translate:function(t,e,n){var i=this.getCells().filter(function(r){return!r.isEmbedded()});return ii(i,"translate",t,e,n),this},resize:function(t,e,n){return this.resizeCells(t,e,this.getCells(),n)},resizeCells:function(t,e,n,i){var r=this.getCellsBBox(n);if(r){var s=Math.max(t/r.width,0),o=Math.max(e/r.height,0);ii(n,"scale",s,o,r.origin(),i)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",Mt({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",Mt({},e,{batchName:t}))},hasActiveBatch:function(t){const e=this._batches;let n;return arguments.length===0?n=Object.keys(e):Array.isArray(t)?n=t:n=[t],n.some(i=>e[i]>0)}},{validations:{multiLinks:function(t,e){var{source:n,target:i}=e.attributes;if(n.id&&i.id){var r=e.getSourceCell();if(r){var s=t.getConnectedLinks(r,{outbound:!0}),o=s.filter(function(a){var{source:l,target:c}=a.attributes;return l&&l.id===n.id&&(!l.port||l.port===n.port)&&c&&c.id===i.id&&(!c.port||c.port===i.port)});if(o.length>1)return!1}}return!0},linkPinning:function(t,e){var{source:n,target:i}=e.attributes;return n.id&&i.id}}});xO(ur.prototype,["resetCells","addCells","removeCells"],Eu.cells);const or={},yi=Qe.View.extend({options:{},theme:null,themeClassNamePrefix:di("theme-"),requireSetThemeOverride:!1,defaultTheme:ri.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=Mt({},this.options,t),Qe.View.call(this,t)},initialize:function(){or[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(t){if(t||(t=Be(this,"children")),t){var e=this.svgElement,n=$.namespace[e?"svg":"xhtml"],i=ml(t,n);(e?this.vel:this.$el).empty().append(i.fragment),this.childNodes=i.selectors}return this},findAttribute:function(t,e){for(var n=e;n&&n.nodeType===1;){var i=n.getAttribute(t);if(i)return i;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Be(this,"el"));else{var t=Be(this,"tagName"),e=Mt({},Be(this,"attributes")),n=Mt({},Be(this,"style"));this.id&&(e.id=Be(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(t){this.svgElement?this.vel.attr(t):this.$el.attr(t)},_setStyle:function(t){this.$el.css(t)},_createElement:function(t){return this.svgElement?document.createElementNS($.namespace.svg,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof Qe.$?t:Qe.$(t),this.el=this.$el[0],this.svgElement&&(this.vel=$(this.el))},_ensureElClassName:function(){var t=Be(this,"className");if(t){var e=di(t);this.svgElement?this.vel.removeClass(t).addClass(e):this.$el.removeClass(t).addClass(e)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override?this:(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t,this)},addThemeClassName:function(t){if(t=t||this.theme,!t)return this;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.addClass(e):this.$el.addClass(e),this},removeThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.removeClass(e):this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),or[this.cid]=null,Qe.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(t,e,n){if(!e)return this;n||(n={});var i=this.getEventNamespace();for(var r in e){var s=e[r];typeof s!="function"&&(s=this[s]),s&&Jt(t).on(r+i,n,s.bind(this))}return this},undelegateElementEvents:function(t){return Jt(t).off(this.getEventNamespace()),this},delegateDocumentEvents:function(t,e){return t||(t=Be(this,"documentEvents")),this.delegateElementEvents(document,t,e)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(t,e){if(!t)throw new Error("eventData(): event object required.");var n=t.data,i="__"+this.cid+"__";return e===void 0?n?n[i]||{}:{}:(n||(n=t.data={}),n[i]||(n[i]={}),Mt(n[i],e),this)},stopPropagation:function(t){return this.eventData(t,{propagationStopped:!0}),this},isPropagationStopped:function(t){return!!this.eventData(t).propagationStopped}},{extend:function(){var t=Array.from(arguments),e=t[0]&&Mt({},t[0])||{},n=t[1]&&Mt({},t[1])||{},i=e.render||this.prototype&&this.prototype.render||null;return e.render=function(){return typeof i=="function"&&i.apply(this,arguments),this.render.__render__===i&&this.onRender(),this},e.render.__render__=i,Qe.View.extend.call(this,e,n)}}),zC="dbltap";if(Jt.event&&!(zC in Jt.event.special)){const t=ri.doubleTapInterval,e=30;Jt.event.special[zC]={bindType:"touchend",delegateType:"touchend",handle:function(n,...i){const{handleObj:r,target:s}=n,o=Jt.data(s),a=new Date().getTime(),l="lastTouch"in o?a-o.lastTouch:0;l<t&&l>e?(o.lastTouch=null,n.type=r.origType,r.handler.call(this,n,...i)):o.lastTouch=a}}}class N6{constructor(...e){this.callbackArguments=e}listenTo(e,n,...i){const{callbackArguments:r}=this;if($.isObject(n)){const[s=null]=i;Object.entries(n).forEach(([o,a])=>{typeof a=="function"&&((s||r.length>0)&&(a=a.bind(s,...r)),Qe.Events.listenTo.call(this,e,o,a))})}else if(typeof n=="string"&&typeof i[0]=="function"){let[s,o=null]=i;(o||r.length>0)&&(s=s.bind(o,...r)),Qe.Events.listenTo.call(this,e,n,s)}}stopListening(){Qe.Events.stopListening.call(this)}}const E6=Object.freeze(Object.defineProperty({__proto__:null,Listener:N6,View:yi,views:or},Symbol.toStringTag,{value:"Module"})),ti={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},LO=yi.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return di(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(t,e){this.el.insertBefore(t,this.insertPivot(e))},insertNode:function(t){const{el:e}=this;t.parentNode!==e&&e.appendChild(t)},insertPivot:function(t){const{el:e,pivotNodes:n}=this;t=+t,t||(t=0);let i=n[t];if(i)return i;i=n[t]=document.createComment("z-index:"+(t+1));let r=-1/0;for(let s in n)s=+s,s<t&&s>r&&(r=s,t-1);if(r!==-1/0){const s=n[r];e.insertBefore(i,s.nextSibling)}else e.insertBefore(i,e.firstChild);return i},removePivots:function(){const{el:t,pivotNodes:e}=this;for(let n in e)t.removeChild(e[n]);this.pivotNodes={}}});function Aa(t){return t?Array.isArray(t)?t:[t]:[]}const gi=yi.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(t,e){const{paper:n}=t;this.cellView=t,this.nodeSelector=e,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:t,nodeSelector:e}=this;return t.isMounted()?(this.update(t,e),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(t,e=null){let n;if(typeof e=="string")[n]=t.findBySelector(e);else if(ze(e)){const i=t.model.isLink(),{label:r=null,port:s,selector:o}=e;i&&r!==null?n=t.findLabelNode(r,o):!i&&s?n=t.findPortNode(s,o):[n]=t.findBySelector(o)}else e&&(n=$.toNode(e),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(t,e){const{options:n}=this,{layer:i}=n,{rotatableNode:r}=t,s=t.getNodeMatrix(e);return r?i?r.contains(e)?s:t.getRootRotateMatrix().inverse().multiply(s):t.getNodeRotateMatrix(e).multiply(s):s},mount(){const{MOUNTABLE:t,cellView:e,el:n,options:i,transformGroup:r,detachedTransformGroup:s,postponedUpdate:o,nodeSelector:a}=this;if(!t||r)return;if(o){this.update(e,a),this.transform();return}const{vel:l,paper:c}=e,{layer:u}=i;if(u){let f;s?(f=s,this.detachedTransformGroup=null):f=$("g").addClass("highlight-transform").append(n),this.transformGroup=f,c.getLayerView(u).insertSortedNode(f.node,i.z)}else(!n.parentNode||n.nextSibling)&&l.append(n)},unmount(){const{MOUNTABLE:t,transformGroup:e,vel:n}=this;t&&(e?(this.transformGroup=null,this.detachedTransformGroup=e,e.remove()):n.remove())},transform(){const{transformGroup:t,cellView:e,updateRequested:n}=this;if(!t||e.model.isLink()||n)return;const i=e.getRootTranslateMatrix(),r=e.getRootRotateMatrix(),s=i.multiply(r);t.attr("transform",$.matrixToTransformString(s))},update(){const{node:t,cellView:e,nodeSelector:n,updateRequested:i,id:r}=this;if(i)return;this.postponedUpdate=!1;const s=this.node=this.findNode(e,n);t&&this.unhighlight(e,t),s?(this.highlight(e,s),this.mount()):(this.unmount(),e.notify("cell:highlight:invalid",r,this))},onRemove(){const{node:t,cellView:e,id:n,constructor:i}=this;t&&this.unhighlight(e,t),this.unmount(),i._removeRef(e,n)},highlight(t,e){},unhighlight(t,e){},listenToUpdateAttributes(t){const e=Be(this,"UPDATE_ATTRIBUTES");!Array.isArray(e)||e.length===0||this.listenTo(t.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:t}=this;if(!t)return;const{model:e,paper:n}=t;Be(this,"UPDATE_ATTRIBUTES").some(r=>e.hasChanged(r))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(t,e,n){const i=this.uniqueId(e,n);this.add(t,e,i,n)},unhighlight:function(t,e,n){const i=this.uniqueId(e,n);this.remove(t,i)},get(t,e=null){const{cid:n}=t,{_views:i}=this,r=i[n];if(e===null){const s=[];if(!r)return s;for(let o in r){const a=r[o];a instanceof this&&s.push(a)}return s}else{if(!r)return null;if(e in r){const s=r[e];if(s instanceof this)return s}return null}},add(t,e,n,i={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const r=gi.get(t,n);r&&r.remove();const s=new this(i);return s.id=n,this._addRef(t,n,s),s.requestUpdate(t,e),s.listenToUpdateAttributes(t),s},_addRef(t,e,n){const{cid:i}=t,{_views:r}=this;let s=r[i];s||(s=r[i]={}),s[e]=n},_removeRef(t,e){const{cid:n}=t,{_views:i}=this,r=i[n];if(r){e&&delete r[e];for(let s in r)return;delete i[n]}},remove(t,e=null){Aa(this.get(t,e)).forEach(n=>{n.remove()})},removeAll(t,e=null){const{_views:n}=this;for(let i in n)for(let r in n[i]){const s=n[i][r];s.cellView.paper===t&&s instanceof this&&(e===null||r===e)&&s.remove()}},update(t,e=null,n=!1){Aa(this.get(t,e)).forEach(i=>{(n||i.UPDATABLE)&&i.update()})},transform(t,e=null){Aa(this.get(t,e)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(t,e=null){Aa(this.get(t,e)).forEach(n=>n.unmount())},mount(t,e=null){Aa(this.get(t,e)).forEach(n=>n.mount())},uniqueId(t,e=""){return $.ensureId(t)+JSON.stringify(e)}}),co={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},P6={TOOLS:"TOOLS"},qt=yi.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var t=["cell"],e=this.model.get("type");return e&&e.toLowerCase().split(".").forEach(function(n,i,r){t.push("type-"+r.slice(0,i+1).join("-"))}),t.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var t={},e={},n=0,i,r,s,o=Be(this,"presentationAttributes");for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];for(Array.isArray(l)||(l=[l]),i=0,r=l.length;i<r;i++){s=l[i];var c=t[s];c||(c=t[s]=1<<n++),e[a]|=c}}var u=Be(this,"initFlag");for(Array.isArray(u)||(u=[u]),i=0,r=u.length;i<r;i++)s=u[i],t[s]||(t[s]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=t,this._presentationAttributes=e},hasFlag:function(t,e){return t&this.getFlag(e)},removeFlag:function(t,e){return t^t&this.getFlag(e)},getFlag:function(t){var e=this._flags;if(!e)return 0;var n=0;if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++)n|=e[t[i]];else n|=e[t];return n},attributes:function(){var t=this.model;return{"model-id":t.id,"data-type":t.attributes.type}},constructor:function(t){t.id=t.id||Ts(this),yi.call(this,t)},initialize:function(){this.setFlags(),yi.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(t,e){var n=t.getChangeFlag(this._presentationAttributes);e.updateHandled||!n||(e.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),e.tool&&(e.async=!1),this.requestUpdate(n,e))},requestUpdate:function(t,e){const{paper:n}=this;n&&t>0&&n.requestViewUpdate(this,t,this.UPDATE_PRIORITY,e)},parseDOMJSON:function(t,e){var n=ml(t),i=n.selectors,r=n.groupSelectors;for(var s in r){if(i[s])throw new Error("dia.CellView: ambiguous group selector");i[s]=r[s]}if(e){var o=this.selector;if(i[o])throw new Error("dia.CellView: ambiguous root selector.");i[o]=e}return{fragment:n.fragment,selectors:i}},can:function(t){var e=ge(this.options.interactive)?this.options.interactive(this):this.options.interactive;return se(e)&&e[t]!==!1||QD(e)&&e!==!1},findBySelector:function(t,e,n){if(e||(e=this.el),n||(n=this.selectors),!t||t===".")return[e];if(n){var i=n[t];if(i)return Array.isArray(i)?i:[i]}return ri.useCSSSelectors?Jt(e).find(t).toArray():[]},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getBBox:function(t){var e;if(t&&t.useModelGeometry){var n=this.model;e=n.getBBox().bbox(n.angle())}else e=this.getNodeBBox(this.el);return this.paper.localToPaperRect(e)},getNodeBBox:function(t){const e=this.getNodeBoundingRect(t),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(t)),i=this.getNodeMatrix(t);return $.transformRect(e,n.multiply(i))},getNodeRotateMatrix(t){return!this.rotatableNode||this.rotatableNode.contains(t)?this.getRootRotateMatrix():$.createSVGMatrix()},getNodeUnrotatedBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),i=this.getRootTranslateMatrix();return $.transformRect(e,i.multiply(n))},getRootTranslateMatrix:function(){var t=this.model,e=t.position(),n=$.createSVGMatrix().translate(e.x,e.y);return n},getRootRotateMatrix:function(){var t=$.createSVGMatrix(),e=this.model,n=e.angle();if(n){var i=e.getBBox(),r=i.width/2,s=i.height/2;t=t.translate(r,s).rotate(n).translate(-r,-s)}return t},_notifyHighlight:function(t,e,n={}){const{el:i}=this;let r;if(typeof e=="string"?[r=i]=this.findBySelector(e):[r=i]=this.$(e),n.partial=r!==i,n.type===void 0){let s;switch(!0){case n.embedding:s=co.EMBEDDING;break;case n.connecting:s=co.CONNECTING;break;case n.magnetAvailability:s=co.MAGNET_AVAILABILITY;break;case n.elementAvailability:s=co.ELEMENT_AVAILABILITY;break;default:s=co.DEFAULT;break}n.type=s}return this.notify(t,r,n),this},highlight:function(t,e){return this._notifyHighlight("cell:highlight",t,e)},unhighlight:function(t,e={}){return this._notifyHighlight("cell:unhighlight",t,e)},findMagnet:function(t){const e=this.el;let n=this.$(t)[0];n||(n=e);do{const i=n.getAttribute("magnet"),r=n===e;if((i||r)&&i!=="false")return n;if(r)return;n=n.parentNode}while(n)},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const[i]=this.findBySelector(n);if(i)return i}return t},getSelector:function(t,e){var n;if(t===this.el)return typeof e=="string"&&(n="> "+e),n;if(t){var i=$(t).index()+1;n=t.tagName+":nth-child("+i+")",e&&(n+=" > "+e),n=this.getSelector(t.parentNode,n)}return n},addLinkFromMagnet:function(t,e,n){var i=this.paper,r=i.model,s=i.getDefaultLink(this,t);return s.set({source:this.getLinkEnd(t,e,n,s,"source"),target:{x:e,y:n}}).addTo(r,{async:!1,ui:!0}),s.findView(i)},getLinkEnd:function(t,...e){var n=this.model,i=n.id,r=this.findAttribute("port",t),s=t.getAttribute("joint-selector"),o={id:i};return s!=null&&(o.magnet=s),r!=null?(o.port=r,!n.hasPort(r)&&!s&&(o.selector=this.getSelector(t))):s==null&&this.el!==t&&(o.selector=this.getSelector(t)),this.customizeLinkEnd(o,t,...e)},customizeLinkEnd:function(t,e,n,i,r,s){const{paper:o}=this,{connectionStrategy:a}=o.options;if(typeof a=="function"){var l=a.call(o,t,this,e,new Z(n,i),r,s,o);if(l)return l}return t},getMagnetFromLinkEnd:function(t){var e=this.el,n=t.port,i=t.magnet,r=this.model,s;return n!=null&&r.isElement()&&r.hasPort(n)?s=this.findPortNode(n,i)||e:(i||(i=t.selector),!i&&n!=null&&(i='[port="'+n+'"]'),s=this.findBySelector(i,e,this.selectors)[0]),this.findProxyNode(s,"magnet")},dragLinkStart:function(t,e,n,i){this.model.startBatch("add-link");const r=this.addLinkFromMagnet(e,n,i);r.notifyPointerdown(t,n,i),r.eventData(t,r.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(t,{linkView:r})},dragLink:function(t,e,n){var i=this.eventData(t),r=i.linkView;if(r)r.pointermove(t,e,n);else{var s=this.paper,o=s.options.magnetThreshold,a=this.getEventTarget(t),l=i.targetMagnet;if(o==="onleave"){if(l===a||$(l).contains(a))return}else if(s.eventData(t).mousemoved<=o)return;this.dragLinkStart(t,l,e,n)}},dragLinkEnd:function(t,e,n){var i=this.eventData(t),r=i.linkView;r&&(r.pointerup(t,e,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){Zi(e)||(t instanceof SVGElement?$(t).attr(e):Jt(t).attr(e))},processNodeAttributes:function(t,e){var n,i,r,s,o,a,l,c,u,f=[];for(n in e)e.hasOwnProperty(n)&&(i=e[n],r=this.getAttributeDefinition(n),r&&(!ge(r.qualify)||r.qualify.call(this,i,t,e,this))?(fn(r.set)&&(a||(a={}),a[r.set]=i),i!==null&&f.push(n,r)):(a||(a={}),a[dO(n)]=i));for(s=0,o=f.length;s<o;s+=2)n=f[s],r=f[s+1],i=e[n],ge(r.set)&&(l||(l={}),l[n]=i),ge(r.position)&&(c||(c={}),c[n]=i),ge(r.offset)&&(u||(u={}),u[n]=i);return{raw:e,normal:a,set:l,position:c,offset:u}},updateRelativeAttributes:function(t,e,n,i){i||(i={});var r,s,o,a=e.raw||{},l=e.normal||{},c=e.set,u=e.position,f=e.offset;for(r in c){s=c[r],o=this.getAttributeDefinition(r);var g=o.set.call(this,s,n.clone(),t,a,this);se(g)?Mt(l,g):g!==void 0&&(l[r]=g)}if(t instanceof HTMLElement){this.setNodeAttributes(t,l);return}var p=l.transform,v=$.transformStringToMatrix(p),y=Z(v.e,v.f);p&&(l=pr(l,"transform"),v.e=v.f=0);var I,_,S;if(u||f){var O=this.getNodeScale(t,i.scalableNode);I=O.sx,_=O.sy}var R=!1;for(r in u)s=u[r],o=this.getAttributeDefinition(r),S=o.position.call(this,s,n.clone(),t,a,this),S&&(y.offset(Z(S).scale(I,_)),R||(R=!0));this.setNodeAttributes(t,l);var A=!1;if(f){var d=this.getNodeBoundingRect(t);if(d.width>0&&d.height>0){var C=$.transformRect(d,v).scale(1/I,1/_);for(r in f)s=f[r],o=this.getAttributeDefinition(r),S=o.offset.call(this,s,C,t,a,this),S&&(y.offset(Z(S).scale(I,_)),A||(A=!0))}}(p!==void 0||R||A)&&(y.round(1),v.e=y.x,v.f=y.y,t.setAttribute("transform",$.matrixToTransformString(v)))},getNodeScale:function(t,e){var n,i;if(e&&e.contains(t)){var r=e.scale();n=1/r.sx,i=1/r.sy}else n=1,i=1;return{sx:n,sy:i}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(t){var e=this.metrics;if(!e)return{};var n=$.ensureId(t),i=e[n];return i||(i=e[n]={}),i},getNodeData:function(t){var e=this.nodeCache(t);return e.data||(e.data={}),e.data},getNodeBoundingRect:function(t){var e=this.nodeCache(t);return e.boundingRect===void 0&&(e.boundingRect=$(t).getBBox()),new vt(e.boundingRect)},getNodeMatrix:function(t){const e=this.nodeCache(t);if(e.magnetMatrix===void 0){const{rotatableNode:n,el:i}=this;let r;n&&n.contains(t)?r=n:r=i,e.magnetMatrix=$(t).getTransformToElement(r)}return $.createSVGMatrix(e.magnetMatrix)},getNodeShape:function(t){var e=this.nodeCache(t);return e.geometryShape===void 0&&(e.geometryShape=$(t).toGeometryShape()),e.geometryShape.clone()},isNodeConnection:function(t){return this.model.isLink()&&(!t||t===this.el)},findNodesAttributes:function(t,e,n,i){var r,s,o,a,l={},c=[];for(var u in t)if(t.hasOwnProperty(u)&&(o=t[u],!!ze(o))){var f=n[u]=this.findBySelector(u,e,i);for(r=0,s=f.length;r<s;r++){var g=f[r];a=$.ensureId(g);var p=i&&i[u]===g,v=l[a];if(v){v.array||(c.push(a),v.array=!0,v.attributes=[v.attributes],v.selectedLength=[v.selectedLength]);var y=v.attributes,I=v.selectedLength;if(p)y.unshift(o),I.unshift(-1);else{var _=TA(I,s);y.splice(_,0,o),I.splice(_,0,s)}}else l[a]={attributes:o,selectedLength:p?-1:s,node:g,array:!1}}}for(r=0,s=c.length;r<s;r++)a=c[r],o=l[a],o.attributes=Ze({},...o.attributes.reverse());return l},getEventTarget:function(t,e={}){const{target:n,type:i,clientX:r=0,clientY:s=0}=t;return e.fromPoint||i==="touchmove"||i==="touchend"||"pointerId"in t&&n.hasPointerCapture(t.pointerId)?document.elementFromPoint(r,s):n},updateDOMSubtreeAttributes:function(t,e,n){n||(n={}),n.rootBBox||(n.rootBBox=vt()),n.selectors||(n.selectors=this.selectors);var i={},r={},s=[],o=[],a,l,c,u,f,g=n.roAttributes,p=this.findNodesAttributes(g||e,t,i,n.selectors),v=g?this.findNodesAttributes(e,t,i,n.selectors):p;for(var y in p)if(u=p[y],c=u.attributes,l=u.node,f=this.processNodeAttributes(l,c),!f.set&&!f.position&&!f.offset)this.setNodeAttributes(l,f.normal);else{var I=v[y]&&v[y].attributes,_=I&&c.ref===void 0?I.ref:c.ref,S;if(_){if(S=(i[_]||this.findBySelector(_,t,n.selectors))[0],!S)throw new Error('dia.CellView: "'+_+'" reference does not exist.')}else S=null;if(a={node:l,refNode:S,processedAttributes:f,allAttributes:I},S){var O=o.findIndex(function(R){return R.refNode===l});O>-1?o.splice(O,0,a):o.push(a)}else s.push(a)}s.push(...o);for(let R=0,A=s.length;R<A;R++){a=s[R],l=a.node,S=a.refNode;const d=S?$.ensureId(S):"";let C=r[d];C||(C=r[d]=S?$(S).getBBox({target:k6(l,S)}):n.rootBBox),g?(f=this.processNodeAttributes(l,a.allAttributes),this.mergeProcessedAttributes(f,a.processedAttributes)):f=a.processedAttributes,this.updateRelativeAttributes(l,f,C,n)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),Mt(t.set,e.set),Mt(t.position,e.position),Mt(t.offset,e.offset);var n=t.normal&&t.normal.transform;n!==void 0&&e.normal&&(e.normal.transform=n),t.normal=e.normal},onMount(t){t||(this.mountTools(),gi.mount(this))},onDetach(){this.unmountTools(),gi.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(t){var e=this._toolsView;return e?t?e.getName()===t:!0:!1},addTools:function(t){return this.removeTools(),t&&(this._toolsView=t,t.configure({relatedView:this}),t.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const t=this._toolsView;return t&&t.unmount(),this},mountTools(){const t=this._toolsView;return t&&!t.isMounted()&&t.mount(),this},updateTools:function(t){var e=this._toolsView;return e&&e.update(t),this},removeTools:function(){var t=this._toolsView;return t&&(t.remove(),this._toolsView=null),this},hideTools:function(){var t=this._toolsView;return t&&t.hide(),this},showTools:function(){var t=this._toolsView;return t&&t.show(),this},onToolEvent:function(t){switch(t){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){gi.remove(this)},updateHighlighters:function(t=!1){gi.update(this,null,t)},transformHighlighters:function(){gi.transform(this)},preventDefaultInteraction(t){this.eventData(t,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(t){const{defaultInteractionPrevented:e=!1}=this.eventData(t);return e},pointerdblclick:function(t,e,n){this.notify("cell:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){this.notify("cell:pointerclick",t,e,n)},contextmenu:function(t,e,n){this.notify("cell:contextmenu",t,e,n)},pointerdown:function(t,e,n){const{model:i}=this,{graph:r}=i;r&&(i.startBatch("pointer"),this.eventData(t,{graph:r})),this.notify("cell:pointerdown",t,e,n)},pointermove:function(t,e,n){this.notify("cell:pointermove",t,e,n)},pointerup:function(t,e,n){const{graph:i}=this.eventData(t);this.notify("cell:pointerup",t,e,n),i&&i.stopBatch("pointer",{cell:this.model})},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,n,i){this.notify("cell:mousewheel",t,e,n,i)},onevent:function(t,e,n,i){this.notify(e,t,n,i)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(t){const{paper:e,model:n}=this;if(e.isAsync()){if(n.isLink()){const s=n.getSourceElement();if(s){const a=e.findViewByModel(s);a&&(e.dumpView(a),e.checkViewVisibility(a))}const o=n.getTargetElement();if(o){const a=e.findViewByModel(o);a&&(e.dumpView(a),e.checkViewVisibility(a))}}e.dumpView(this),e.checkViewVisibility(this)}const i=this.getEventTarget(t,{fromPoint:!0}),r=e.findView(i);r!==this&&(this.mouseleave(t),r&&r.mouseenter(t))},setInteractivity:function(t){this.options.interactive=t}},{Flags:P6,Highlighting:co,addPresentationAttributes:function(t){return Ze({},Be(this.prototype,"presentationAttributes"),t,function(e,n){if(!(!e||!n)&&(typeof e=="string"&&(e=[e]),typeof n=="string"&&(n=[n]),Array.isArray(e)&&Array.isArray(n)))return $r(e.concat(n))})}});function k6(t,e){let n=t;do{if(n.contains(e))return n;n=n.parentNode}while(n);return null}const ie={TOOLS:qt.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},uo={MOVE:"move",MAGNET:"magnet"},We=qt.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=qt.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){qt.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[ie.UPDATE],position:[ie.TRANSLATE,ie.TOOLS],size:[ie.RESIZE,ie.PORTS,ie.TOOLS],angle:[ie.ROTATE,ie.TOOLS],markup:[ie.RENDER],ports:[ie.PORTS]},initFlag:[ie.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(t,e){const{useCSSSelectors:n}=ri;this.hasFlag(t,ie.PORTS)&&(this._removePorts(),this._cleanPortsCache());let i=!1;if(this.hasFlag(t,ie.RENDER))this.render(),this.updateTools(e),this.updateHighlighters(!0),i=!0,t=this.removeFlag(t,[ie.RENDER,ie.UPDATE,ie.RESIZE,ie.TRANSLATE,ie.ROTATE,ie.PORTS,ie.TOOLS]);else{let r=!1;this.hasFlag(t,ie.RESIZE)&&(this.resize(e),r=!0,t=this.removeFlag(t,[ie.RESIZE,ie.UPDATE]),n&&(t=this.removeFlag(t,ie.PORTS))),this.hasFlag(t,ie.UPDATE)&&(this.update(this.model,null,e),t=this.removeFlag(t,ie.UPDATE),r=!0,n&&(t=this.removeFlag(t,ie.PORTS))),this.hasFlag(t,ie.TRANSLATE)&&(this.translate(),t=this.removeFlag(t,ie.TRANSLATE),i=!0),this.hasFlag(t,ie.ROTATE)&&(this.rotate(),t=this.removeFlag(t,ie.ROTATE),i=!0),this.hasFlag(t,ie.PORTS)&&(this._renderPorts(),r=!0,t=this.removeFlag(t,ie.PORTS)),r&&this.updateHighlighters(!1)}return i&&this.transformHighlighters(),this.hasFlag(t,ie.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,ie.TOOLS)),t},_initializePorts:function(){},update:function(t,e){this.cleanNodesCache();const{useCSSSelectors:n}=ri;n&&this._removePorts();var i=this.model,r=i.attr();this.updateDOMSubtreeAttributes(this.el,r,{rootBBox:new vt(i.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===r?null:e}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.ElementView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el),n=this.selectors=e.selectors;this.rotatableNode=$(n[this.rotatableSelector])||null,this.scalableNode=$(n[this.scalableSelector])||null,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=this.vel;e.append($(t)),this.rotatableNode=e.findOne(".rotatable"),this.scalableNode=e.findOne(".scalable");var n=this.selectors={};n[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),ri.useCSSSelectors||this._renderPorts(),this},resize:function(t){if(this.scalableNode)return this.sgResize(t);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var t=this.getTranslateString(),e=this.getRotateString();e&&(t+=" "+e),this.vel.attr("transform",t)},getTranslateString:function(){var t=this.model.attributes.position;return"translate("+t.x+","+t.y+")"},getRotateString:function(){var t=this.model.attributes,e=t.angle;if(!e)return null;var n=t.size;return"rotate("+e+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(t){var e=this.model,n=e.angle(),i=e.size(),r=this.scalableNode,s=!1;r.node.getElementsByTagName("path").length>0&&(s=!0);var o=r.getBBox({recursive:s}),a=i.width/(o.width||1),l=i.height/(o.height||1);r.attr("transform","scale("+a+","+l+")");var c=this.rotatableNode,u=c&&c.attr("transform");if(u){c.attr("transform",u+" rotate("+-n+","+i.width/2+","+i.height/2+")");var f=r.getBBox({target:this.paper.cells});e.set("position",{x:f.x,y:f.y},Mt({updateHandled:!0},t)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(t={}){const e=t.model||this.model,i=(t.paper||this.paper).model,r=t.initialZIndices={},s=e.getEmbeddedCells({deep:!0}),o=i.getConnectedLinks(e,{deep:!0,includeEnclosed:!0});[e,...s,...o].forEach(c=>r[c.id]=c.attributes.z),e.startBatch("to-front"),e.toFront({deep:!0,ui:!0});const a=i.getElements().reduce((c,u)=>Math.max(c,u.attributes.z||0),0);o.forEach(c=>{c.attributes.z<=a&&c.set("z",a+1,{ui:!0})}),e.stopBatch("to-front");const l=e.parent();l?(i.getCell(l).unembed(e,{ui:!0}),t.initialParentId=l):t.initialParentId=null},processEmbedding:function(t={},e,n,i){const r=t.model||this.model,s=t.paper||this.paper,o=s.model,{findParentBy:a,frontParentOnly:l,validateEmbedding:c}=s.options;let u;ge(a)?u=ee(a.call(o,this,e,n,i)):a==="pointer"?u=ee(o.findModelsFromPoint({x:n,y:i})):u=o.findModelsUnderElement(r,{searchBy:a}),u=u.filter(p=>p instanceof Ei&&r.id!==p.id&&!p.isEmbeddedIn(r)),l&&(u=u.slice(-1));let f=null;const g=t.candidateEmbedView;for(let p=u.length-1;p>=0;p--){const v=u[p];if(g&&g.model.id==v.id){f=g;break}else{const y=v.findView(s);if(!ge(c)||c.call(s,this,y)){f=y;break}}}f&&f!=g&&(this.clearEmbedding(t),t.candidateEmbedView=f.highlight(f.findProxyNode(null,"container"),{embedding:!0})),!f&&g&&this.clearEmbedding(t)},clearEmbedding:function(t){t||(t={});var e=t.candidateEmbedView;e&&(e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null)},finalizeEmbedding:function(t={}){const e=t.candidateEmbedView,n=t.model||this.model,i=t.paper||this.paper;if(e)e.model.embed(n,{ui:!0}),e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null;else{const{validateUnembedding:r}=i.options,{initialParentId:s}=t;if(s&&typeof r=="function"&&!r.call(i,this)){this._disallowUnembed(t);return}}i.model.getConnectedLinks(n,{deep:!0}).forEach(r=>{r.reparent({ui:!0})})},_disallowUnembed:function(t){const{model:e,whenNotAllowed:n="revert"}=t,i=e||this.model,s=(t.paper||this.paper).model;switch(n){case"remove":{i.remove({ui:!0});break}case"revert":{const{initialParentId:o,initialPosition:a,initialZIndices:l}=t;if(a){const{x:u,y:f}=a;i.position(u,f,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(u=>{const f=s.getCell(u);f&&f.set("z",l[u],{ui:!0})});const c=s.getCell(o);c&&c.embed(i,{ui:!0});break}}},getDelegatedView:function(){for(var t=this,e=t.model,n=t.paper;t&&!e.isLink();){if(!e.isEmbedded()||t.can("stopDelegation"))return t;e=e.getParentCell(),t=n.findViewByModel(e)}return null},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const i=this.findAttribute("port",t);if(i){const r=this.findPortNode(i,n);if(r)return r}else{const[r]=this.findBySelector(n);if(r)return r}}return t},notifyPointerdown(t,e,n){qt.prototype.pointerdown.call(this,t,e,n),this.notify("element:pointerdown",t,e,n)},notifyPointermove(t,e,n){qt.prototype.pointermove.call(this,t,e,n),this.notify("element:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("element:pointerup",t,e,n),qt.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){qt.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){qt.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",t,e,n)},contextmenu:function(t,e,n){qt.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragStart(t,e,n)},pointermove:function(t,e,n){const i=this.eventData(t),{targetMagnet:r,action:s,delegatedView:o}=i;switch(r&&this.magnetpointermove(t,r,e,n),s){case uo.MAGNET:this.dragMagnet(t,e,n);break;case uo.MOVE:(o||this).drag(t,e,n);default:if(i.preventPointerEvents)break;this.notifyPointermove(t,e,n);break}this.eventData(t,i)},pointerup:function(t,e,n){const i=this.eventData(t),{targetMagnet:r,action:s,delegatedView:o}=i;switch(r&&this.magnetpointerup(t,r,e,n),s){case uo.MAGNET:this.dragMagnetEnd(t,e,n);break;case uo.MOVE:(o||this).dragEnd(t,e,n);default:if(i.preventPointerEvents)break;this.notifyPointerup(t,e,n)}r&&this.magnetpointerclick(t,r,e,n),this.checkMouseleave(t)},mouseover:function(t){qt.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",t)},mouseout:function(t){qt.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",t)},mouseenter:function(t){qt.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){qt.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)},mousewheel:function(t,e,n,i){qt.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",t,e,n,i)},onmagnet:function(t,e,n){const{currentTarget:i}=t;this.magnetpointerdown(t,i,e,n),this.eventData(t,{targetMagnet:i}),this.dragMagnetStart(t,e,n)},magnetpointerdown:function(t,e,n,i){this.notify("element:magnet:pointerdown",t,e,n,i)},magnetpointermove:function(t,e,n,i){this.notify("element:magnet:pointermove",t,e,n,i)},magnetpointerup:function(t,e,n,i){this.notify("element:magnet:pointerup",t,e,n,i)},magnetpointerdblclick:function(t,e,n,i){this.notify("element:magnet:pointerdblclick",t,e,n,i)},magnetcontextmenu:function(t,e,n,i){this.notify("element:magnet:contextmenu",t,e,n,i)},dragStart:function(t,e,n){if(this.isDefaultInteractionPrevented(t))return;var i=this.getDelegatedView();if(!i||!i.can("elementMove"))return;this.eventData(t,{action:uo.MOVE,delegatedView:i});const r=i.model.position();i.eventData(t,{initialPosition:r,pointerOffset:r.difference(e,n),restrictedArea:this.paper.getRestrictedArea(i,e,n)})},dragMagnetStart:function(t,e,n){const{paper:i}=this,r=t.isPropagationStopped();if(r&&this.eventData(t,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(t)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:s=t.currentTarget}=this.eventData(t);if(t.stopPropagation(),!i.options.validateMagnet.call(i,this,s,t)){r?this.dragStart(t,e,n):this.pointerdown(t,e,n);return}i.options.magnetThreshold<=0&&this.dragLinkStart(t,s,e,n),this.eventData(t,{action:uo.MAGNET})},drag:function(t,e,n){var i=this.paper,r=i.options.gridSize,s=this.model,o=this.eventData(t),{pointerOffset:a,restrictedArea:l,embedding:c}=o,u=Zs(e+a.x,r),f=Zs(n+a.y,r);s.position(u,f,{restrictedArea:l,deep:!0,ui:!0}),i.options.embeddingMode&&(c||(this.prepareEmbedding(o),c=!0),this.processEmbedding(o,t,e,n)),this.eventData(t,{embedding:c})},dragMagnet:function(t,e,n){this.dragLink(t,e,n)},dragEnd:function(t,e,n){var i=this.eventData(t);i.embedding&&this.finalizeEmbedding(i)},dragMagnetEnd:function(t,e,n){this.dragLinkEnd(t,e,n)},magnetpointerclick:function(t,e,n,i){var r=this.paper;r.eventData(t).mousemoved>r.options.clickThreshold||this.notify("element:magnet:pointerclick",t,e,n,i)}},{Flags:ie});Mt(We.prototype,M6);const D6=function(t,e,n){return t},O6=function(t,e,n){var i=e.side||"bottom",r=mr(e.padding||40),s=n.sourceBBox,o=n.targetBBox,a=s.center(),l=o.center(),c,u,f;switch(i){case"bottom":f=1,c="y",u="height";break;case"top":f=-1,c="y",u="height";break;case"left":f=-1,c="x",u="width";break;case"right":f=1,c="x",u="width";break;default:throw new Error("Router: invalid side")}return a[c]+=f*(s[u]/2+r[i]),l[c]+=f*(o[u]/2+r[i]),f*(a[c]-l[c])>0?l[c]=a[c]:a[c]=l[c],[a].concat(t,l)};var L6={N:"S",S:"N",E:"W",W:"E"},R6={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function Pu(t,e,n){var i=new Z(t.x,e.y);return n.containsPoint(i)&&(i=new Z(e.x,t.y)),i}function Iy(t,e){return t[e==="W"||e==="E"?"width":"height"]}function Nn(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function Ec(t){return new vt(t.x,t.y,0,0)}function ku(t){var e=mr(t.padding||t.elementPadding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function RO(t,e){return t.sourceBBox.clone().moveAndExpand(ku(e))}function zO(t,e){return t.targetBBox.clone().moveAndExpand(ku(e))}function z6(t,e){if(t.sourceAnchor)return t.sourceAnchor;var n=RO(t,e);return n.center()}function B6(t,e){if(t.targetAnchor)return t.targetAnchor;var n=zO(t,e);return n.center()}function BO(t,e,n){var i=new Z(t.x,e.y),r=new Z(e.x,t.y),s=Nn(t,i),o=Nn(t,r),a=L6[n],l=s===n||s!==a&&(o===a||o!==n)?i:r;return{points:[l],direction:Nn(l,e)}}function Qc(t,e,n){var i=Pu(t,e,n);return{points:[i],direction:Nn(i,e)}}function j6(t,e,n,i){var r={},s=[new Z(t.x,e.y),new Z(e.x,t.y)],o=s.filter(function(f){return!n.containsPoint(f)}),a=o.filter(function(f){return Nn(f,t)!==i}),l;if(a.length>0)l=a.filter(function(f){return Nn(t,f)===i}).pop(),l=l||a[0],r.points=[l],r.direction=Nn(l,e);else{l=NA(s,o)[0];var c=new Z(e).move(l,-Iy(n,i)/2),u=Pu(c,t,n);r.points=[u,c],r.direction=Nn(c,e)}return r}function G6(t,e,n,i){var r=Qc(e,t,i),s=r.points[0];if(n.containsPoint(s)){r=Qc(t,e,n);var o=r.points[0];if(i.containsPoint(o)){var a=new Z(t).move(o,-Iy(n,Nn(t,o))/2),l=new Z(e).move(s,-Iy(i,Nn(e,s))/2),c=new It(a,l).midpoint(),u=Qc(t,c,n),f=BO(c,e,u.direction);r.points=[u.points[0],f.points[0]],r.direction=f.direction}}return r}function gd(t,e,n,i,r){var s={},o=n.union(i).inflate(1),a=o.center().distance(e)>o.center().distance(t),l=a?e:t,c=a?t:e,u,f,g;return r?(u=Z.fromPolar(o.width+o.height,R6[r],l),u=o.pointNearestToPoint(u).move(u,-1)):u=o.pointNearestToPoint(l).move(l,1),f=Pu(u,c,o),u.round().equals(f.round())?(f=Z.fromPolar(o.width+o.height,jn(u.theta(l))+Math.PI/2,c),f=o.pointNearestToPoint(f).move(c,1).round(),g=Pu(u,f,o),s.points=a?[f,g,u]:[u,g,f]):s.points=a?[f,u]:[u,f],s.direction=Nn(a?u:f,e),s}function wy(t,e,n){var i=RO(n,e),r=zO(n,e),s=z6(n,e),o=B6(n,e);i=i.union(Ec(s)),r=r.union(Ec(o)),t=ee(t).map(Z),t.unshift(s),t.push(o);for(var a,l=[],c=0,u=t.length-1;c<u;c++){var f=null,g=t[c],p=t[c+1],v=!!Nn(g,p);if(c===0)c+1===u?i.intersect(r.clone().inflate(1))?f=gd(g,p,i,r):v||(f=G6(g,p,i,r)):i.containsPoint(p)?f=gd(g,p,i,Ec(p).moveAndExpand(ku(e))):v||(f=Qc(g,p,i));else if(c+1===u){var y=v&&Nn(p,g)===a;r.containsPoint(g)||y?f=gd(g,p,Ec(g).moveAndExpand(ku(e)),r,a):v||(f=j6(g,p,r,a))}else v||(f=BO(g,p,a));f?(Array.prototype.push.apply(l,f.points),a=f.direction):a=Nn(g,p),c+1<u&&l.push(p)}return l}var jO={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var t=this.step,e=this.cost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:-t,offsetY:0,cost:e},{offsetX:0,offsetY:t,cost:e},{offsetX:0,offsetY:-t,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},isPointObstacle:null,fallbackRouter:function(t,e,n){if(!ge(wy))throw new Error("Manhattan requires the orthogonal router as default fallback.");return wy(t,Mt({},jO,e),n)},fallbackRoute:function(t,e,n){return null},draggingRoute:null};function zA(t){this.map={},this.options=t,this.mapGridSize=100}zA.prototype.build=function(t,e){var n=this.options,i=ee(n.excludeEnds).reduce(function(l,c){var u=e.get(c);if(u){var f=t.getCell(u.id);f&&l.push(f)}return l},[]),r=[],s=t.getCell(e.get("source").id);s&&(r=Su(r,s.getAncestors().map(function(l){return l.id})));var o=t.getCell(e.get("target").id);o&&(r=Su(r,o.getAncestors().map(function(l){return l.id})));var a=this.mapGridSize;return t.getElements().reduce(function(l,c){var u=ee(n.excludeTypes).includes(c.get("type")),f=i.find(function(R){return R.id===c.id}),g=r.includes(c.id),p=u||f||g;if(!p)for(var v=c.getBBox().moveAndExpand(n.paddingBox),y=v.origin().snapToGrid(a),I=v.corner().snapToGrid(a),_=y.x;_<=I.x;_+=a)for(var S=y.y;S<=I.y;S+=a){var O=_+"@"+S;l[O]=l[O]||[],l[O].push(v)}return l},this.map),this};zA.prototype.isPointAccessible=function(t){var e=t.clone().snapToGrid(this.mapGridSize).toString();return ee(this.map[e]).every(function(n){return!n.containsPoint(t)})};function Js(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Js.prototype.add=function(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=e;var n=TA(this.items,t,(function(i){return this.values[i]}).bind(this));this.items.splice(n,0,t)};Js.prototype.remove=function(t){this.hash[t]=this.CLOSE};Js.prototype.isOpen=function(t){return this.hash[t]===this.OPEN};Js.prototype.isClose=function(t){return this.hash[t]===this.CLOSE};Js.prototype.isEmpty=function(){return this.items.length===0};Js.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t};function GO(t,e){return e&&e.paddingBox?t.sourceBBox.clone().moveAndExpand(e.paddingBox):t.sourceBBox.clone()}function FO(t,e){return e&&e.paddingBox?t.targetBBox.clone().moveAndExpand(e.paddingBox):t.targetBBox.clone()}function ZO(t,e){if(t.sourceAnchor)return t.sourceAnchor;var n=GO(t,e);return n.center()}function F6(t,e){if(t.targetAnchor)return t.targetAnchor;var n=FO(t,e);return n.center()}function pd(t,e,n,i,r){var s=360/n,o=t.theta(Z6(t,e,i,r)),a=Hi(o+s/2);return s*Math.floor(a/s)}function Z6(t,e,n,i){var r=i.step,s=e.x-t.x,o=e.y-t.y,a=s/n.x,l=o/n.y,c=a*r,u=l*r;return new Z(t.x+c,t.y+u)}function BC(t,e){var n=Math.abs(t-e);return n>180?360-n:n}function W6(t,e,n){var i=n.step;ee(n.directions).forEach(function(r){r.gridOffsetX=r.offsetX/i*e.x,r.gridOffsetY=r.offsetY/i*e.y})}function U6(t,e,n){return{source:e.clone(),x:jC(n.x-e.x,t),y:jC(n.y-e.y,t)}}function jC(t,e){if(!t)return e;var n=Math.abs(t),i=Math.round(n/e);if(!i)return n;var r=i*e,s=n-r,o=s/i;return e+o}function V6(t,e){var n=e.source,i=Zs(t.x-n.x,e.x)+n.x,r=Zs(t.y-n.y,e.y)+n.y;return new Z(i,r)}function Na(t,e){return t.round(e)}function tu(t,e,n){return Na(V6(t.clone(),e),n)}function Ya(t){return t.clone().toString()}function md(t){return new Z(t.x===0?0:Math.abs(t.x)/t.x,t.y===0?0:Math.abs(t.y)/t.y)}function Y6(t,e,n,i,r,s,o){for(var a=[],l=md(r.difference(n)),c=Ya(n),u=t[c],f;u;){f=e[c];var g=md(f.difference(u));g.equals(l)||(a.unshift(f),l=g),c=Ya(u),u=t[c]}var p=e[c],v=md(p.difference(i));return v.equals(l)||a.unshift(p),a}function GC(t,e){for(var n=1/0,i=0,r=e.length;i<r;i++){var s=t.manhattanDistance(e[i]);s<n&&(n=s)}return n}function FC(t,e,n,i,r){var s=r.precision,o=r.directionMap,a=t.difference(e.center()),l=se(o)?Object.keys(o):[],c=ee(n),u=l.reduce(function(f,g){if(c.includes(g)){for(var p=o[g],v=new Z(t.x+p.x*(Math.abs(a.x)+e.width),t.y+p.y*(Math.abs(a.y)+e.height)),y=new It(t,v),I=y.intersect(e)||[],_=I.length,S,O=null,R=0;R<_;R++){var A=I[R],d=t.squaredDistance(A);(S===void 0||d>S)&&(S=d,O=A)}if(O){var C=tu(O,i,s);e.containsPoint(C)&&(C=tu(C.offset(p.x*i.x,p.y*i.y),i,s)),f.push(C)}}return f},[]);return e.containsPoint(t)||u.push(tu(t,i,s)),u}function H6(t,e,n,i){var r=i.precision,s,o;t instanceof vt?s=Na(ZO(this,i).clone(),r):s=Na(t.clone(),r),e instanceof vt?o=Na(F6(this,i).clone(),r):o=Na(e.clone(),r);var a=U6(i.step,s,o),l,c,u,f;if(t instanceof vt?(l=s,u=FC(l,t,i.startDirections,a,i)):(l=s,u=[l]),e instanceof vt?(c=o,f=FC(o,e,i.endDirections,a,i)):(c=o,f=[c]),u=u.filter(Ot=>!n(Ot)),f=f.filter(Ot=>!n(Ot)),u.length>0&&f.length>0){for(var g=new Js,p={},v={},y={},I=0,_=u.length;I<_;I++){var S=u[I],O=Ya(S);g.add(O,GC(S,f)),p[O]=S,y[O]=0}var R=i.previousDirectionAngle,A=R===void 0,d,C,N=i.directions;W6(N,a,i);for(var k=N.length,z=ee(f).reduce(function(Ot,ot){var rt=Ya(ot);return Ot.push(rt),Ot},[]),B=i.maximumLoops;!g.isEmpty()&&B>0;){var U=g.pop(),X=p[U],K=v[U],st=y[U],ut=K===void 0,dt=X.equals(l),wt;ut?A?dt?wt=null:wt=pd(l,X,k,a,i):wt=R:wt=pd(K,X,k,a,i);var mt=u.length===f.length;if(mt){for(var Pt=0;Pt<u.length;Pt++)if(!u[Pt].equals(f[Pt])){mt=!1;break}}var Ct=ut&&mt;if(!Ct&&z.indexOf(U)>=0)return i.previousDirectionAngle=wt,Y6(v,p,X,l,c);for(I=0;I<k;I++){d=N[I];var J=d.angle;if(C=BC(wt,J),!(!(A&&dt)&&C>i.maxAllowedDirectionChange)){var Q=tu(X.clone().offset(d.gridOffsetX,d.gridOffsetY),a,r),tt=Ya(Q);if(!(g.isClose(tt)||n(Q))){if(z.indexOf(tt)>=0){var nt=Q.equals(c);if(!nt){var Gt=pd(Q,c,k,a,i),kt=BC(J,Gt);if(kt>i.maxAllowedDirectionChange)continue}}var Ht=d.cost,Tt=dt?0:i.penalties[C],ne=st+Ht+Tt;(!g.isOpen(tt)||ne<y[tt])&&(p[tt]=Q,v[tt]=X,y[tt]=ne,g.add(tt,ne+GC(Q,f)))}}}B--}}return i.fallbackRoute.call(this,l,c,i)}function X6(t){if(t.directions=Be(t,"directions"),t.penalties=Be(t,"penalties"),t.paddingBox=Be(t,"paddingBox"),t.padding=Be(t,"padding"),t.padding){var e=mr(t.padding);t.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}ee(t.directions).forEach(function(n){var i=new Z(0,0),r=new Z(n.offsetX,n.offsetY);n.angle=Hi(i.theta(r))})}function $6(t,e,n){X6(e),n.options.perpendicular=!!e.perpendicular;var i=GO(n,e),r=FO(n,e),s=ZO(n,e);let o;if(typeof e.isPointObstacle=="function")o=e.isPointObstacle;else{const O=new zA(e);O.build(n.paper.model,n.model),o=R=>!O.isPointAccessible(R)}for(var a=ee(t).map(Z),l=[],c=s,u,f,g=0,p=a.length;g<=p;g++){var v=null;if(f=u||i,u=a[g],!u){u=r;var y=!n.model.get("source").id||!n.model.get("target").id;if(y&&ge(e.draggingRoute)){var I=f===i?s:f,_=u.origin();v=e.draggingRoute.call(n,I,_,e)}}if(v=v||H6.call(n,f,u,o,e),v===null)return e.fallbackRouter(t,e,n);var S=v[0];S&&S.equals(c)&&v.shift(),c=v[v.length-1]||c,Array.prototype.push.apply(l,v)}return l}const Cy=function(t,e,n){return $6(t,Mt({},jO,e),n)};var q6={maxAllowedDirectionChange:45,diagonalCost:function(){var t=this.step;return Math.ceil(Math.sqrt(t*t<<1))},directions:function(){var t=this.step,e=this.cost(),n=this.diagonalCost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:t,offsetY:t,cost:n},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:t,cost:n},{offsetX:-t,offsetY:0,cost:e},{offsetX:-t,offsetY:-t,cost:n},{offsetX:0,offsetY:-t,cost:e},{offsetX:t,offsetY:-t,cost:n}]},fallbackRoute:function(t,e,n){var i=t.theta(e),r=[],s={x:e.x,y:t.y},o={x:t.x,y:e.y};if(i%180>90){var a=s;s=o,o=a}var l=i%90<45?s:o,c=new It(t,l),u=90*Math.ceil(i/90),f=Z.fromPolar(c.squaredLength(),jn(u+135),l),g=new It(e,f),p=c.intersection(g),v=p||e,y=p?v:t,I=360/n.directions.length,_=y.theta(e),S=Hi(_+I/2),O=I*Math.floor(S/I);return n.previousDirectionAngle=O,v&&r.push(v.round()),r.push(e),r}};const J6=function(t,e,n){if(!ge(Cy))throw new Error("Metro requires the manhattan router.");return Cy(t,Mt({},q6,e),n)},_e={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},ZC=[_e.LEFT,_e.RIGHT,_e.TOP,_e.BOTTOM];function WC(t,e,n){const i=n.getTangentAtLength(n.getClosestPointLength(e));switch(Math.round(i.angle()/90)*90){case 0:case 360:return t.y<e.y?_e.TOP:_e.BOTTOM;case 90:return t.x<e.x?_e.LEFT:_e.RIGHT;case 180:return t.y<e.y?_e.TOP:_e.BOTTOM;case 270:return t.x<e.x?_e.LEFT:_e.RIGHT}}function WO(t,e,n){const i=e.margin||20;let{sourceDirection:r=_e.AUTO,targetDirection:s=_e.AUTO}=e;const o=n.sourceView,a=n.targetView,l=!!n.model.source().port,c=!!n.model.target().port;r===_e.AUTO&&(r=l?_e.MAGNET_SIDE:_e.ANCHOR_SIDE),s===_e.AUTO&&(s=c?_e.MAGNET_SIDE:_e.ANCHOR_SIDE);const u=n.sourceBBox,f=n.targetBBox,g=n.sourceAnchor,p=n.targetAnchor;let{x:v,y,width:I=0,height:_=0}=o&&o.model.isElement()?vt.fromRectUnion(u,o.model.getBBox()):n.sourceAnchor,{x:S,y:O,width:R=0,height:A=0}=a&&a.model.isElement()?vt.fromRectUnion(f,a.model.getBBox()):n.targetAnchor;const d=S+R,C=O+A,N=v+I,k=y+_,z=v-i,B=N+i,U=y-i,X=k+i,K=S-i,st=d+i,ut=O-i,dt=C+i,wt=g.clone();let mt;if(o)o.model.isLink()?mt=WC(p,g,o):r===_e.ANCHOR_SIDE?mt=u.sideNearestToPoint(g):r===_e.MAGNET_SIDE?mt=o.model.getBBox().sideNearestToPoint(g):mt=r;else{const ot=new vt(v,y,0,0);mt=ZC.includes(r)?r:ot.sideNearestToPoint(p)}switch(mt){case"left":wt.x=z;break;case"right":wt.x=B;break;case"top":wt.y=U;break;case"bottom":wt.y=X;break}const Pt=p.clone();let Ct;if(a)a.model.isLink()?Ct=WC(g,p,a):s===_e.ANCHOR_SIDE?Ct=f.sideNearestToPoint(p):s===_e.MAGNET_SIDE?Ct=a.model.getBBox().sideNearestToPoint(p):Ct=s;else{const ot=new vt(S,O,0,0);Ct=ZC.includes(s)?s:ot.sideNearestToPoint(g)}switch(Ct){case"left":Pt.x=K;break;case"right":Pt.x=st;break;case"top":Pt.y=ut;break;case"bottom":Pt.y=dt;break}const{x:J,y:Q}=wt,{x:tt,y:nt}=Pt,Gt=(S+d)/2,kt=(O+C)/2,Ht=(v+N)/2,Tt=(y+k)/2,ne=(Ht<Gt?N+S:d+v)/2,Ot=(Tt<kt?k+O:C+y)/2;if(mt==="left"&&Ct==="right"){if(z<=d){let rt=Ot;return N<=S&&(C>=U&&nt<Q?rt=Math.min(ut,U):O<=X&&nt>=Q&&(rt=Math.max(dt,X))),[{x:J,y:Q},{x:J,y:rt},{x:tt,y:rt},{x:tt,y:nt}]}const ot=(J+tt)/2;return[{x:ot,y:Q},{x:ot,y:nt}]}else if(mt==="right"&&Ct==="left"){if(B>=S){let rt=Ot;return J>d&&(C>=U&&nt<Q?rt=Math.min(ut,U):O<=X&&nt>=Q&&(rt=Math.max(dt,X))),[{x:J,y:Q},{x:J,y:rt},{x:tt,y:rt},{x:tt,y:nt}]}const ot=(J+tt)/2;return[{x:ot,y:Q},{x:ot,y:nt}]}else if(mt==="top"&&Ct==="bottom"){if(Q<nt){let rt=ne,x=Q;return Q<O&&(d>=z&&tt<J?rt=Math.min(K,z):S<=B&&tt>=J&&(rt=Math.max(st,B))),[{x:J,y:x},{x:rt,y:x},{x:rt,y:nt},{x:tt,y:nt}]}const ot=(Q+nt)/2;return[{x:J,y:ot},{x:tt,y:ot}]}else if(mt==="bottom"&&Ct==="top"){if(Q-i>nt){let rt=ne,x=Q;return Q>C&&(d>=z&&tt<J?rt=Math.min(K,z):S<=B&&tt>=J&&(rt=Math.max(st,B))),[{x:J,y:x},{x:rt,y:x},{x:rt,y:nt},{x:tt,y:nt}]}const ot=(Q+nt)/2;return[{x:J,y:ot},{x:tt,y:ot}]}else if(mt==="top"&&Ct==="top"){let ot,rt=Math.min((k+O)/2,nt),x=Math.min((y+C)/2,Q);if(nt<Q){if(J>=st||J<=K)return[{x:J,y:Math.min(Q,nt)},{x:tt,y:Math.min(Q,nt)}];tt>J?ot=Math.min(J,K):ot=Math.max(J,st)}else{if(tt>=B||tt<=z)return[{x:J,y:Math.min(Q,nt)},{x:tt,y:Math.min(Q,nt)}];tt>=J?ot=Math.max(tt,B):ot=Math.min(tt,z)}return[{x:J,y:x},{x:ot,y:x},{x:ot,y:rt},{x:tt,y:rt}]}else if(mt==="bottom"&&Ct==="bottom"){if(S>=J+i||d<=J-i)return[{x:J,y:Math.max(Q,nt)},{x:tt,y:Math.max(Q,nt)}];let ot,rt,x;return nt>Q?(rt=Math.max((k+O)/2,nt),x=Math.max((k+O)/2,Q),tt>J?ot=Math.min(J,K):ot=Math.max(J,st)):(rt=Math.max((y+C)/2,nt),x=Math.max((y+C)/2,Q),tt>J?ot=Math.min(tt,z):ot=Math.max(tt,B)),[{x:J,y:x},{x:ot,y:x},{x:ot,y:rt},{x:tt,y:rt}]}else if(mt==="left"&&Ct==="left"){let ot,rt=Math.min((N+S)/2,tt),x=Math.min((v+d)/2,J);return tt>J?nt<=Q?ot=Math.min(U,nt):ot=Math.max(X,nt):nt>=Q?ot=Math.min(ut,Q):ot=Math.max(dt,Q),[{x,y:Q},{x,y:ot},{x:rt,y:ot},{x:rt,y:nt}]}else if(mt==="right"&&Ct==="right"){let ot,rt=Math.max((v+d)/2,tt),x=Math.max((N+S)/2,J);return tt<J?nt<=Q?ot=Math.min(U,nt):ot=Math.max(X,nt):nt>=Q?ot=Math.min(ut,Q):ot=Math.max(dt,Q),[{x,y:Q},{x,y:ot},{x:rt,y:ot},{x:rt,y:nt}]}else if(mt==="top"&&Ct==="right"){if(Q>nt){if(J<tt){let rt=(y+C)/2;return rt>kt&&rt<dt&&J<K&&(rt=ut),[{x:J,y:rt},{x:tt,y:rt},{x:tt,y:nt}]}return[{x:J,y:nt}]}const ot=(v+d)/2;if(J>tt&&k>=nt)return[{x:J,y:Q},{x:ot,y:Q},{x:ot,y:nt}];if(ot>z&&Q<C){const rt=Math.min(y,O)-i,x=Math.max(N,d)+i;return[{x:J,y:rt},{x,y:rt},{x,y:nt}]}return[{x:J,y:Q},{x:ot,y:Q},{x:ot,y:nt}]}else if(mt==="top"&&Ct==="left"){if(Q>nt){if(J>tt){let rt=(y+C)/2;return rt>kt&&rt<dt&&J>st&&(rt=ut),[{x:J,y:rt},{x:tt,y:rt},{x:tt,y:nt}]}return[{x:J,y:nt}]}const ot=(N+S)/2;if(J<tt&&k>=nt)return[{x:J,y:Q},{x:ot,y:Q},{x:ot,y:nt}];if(ot<B&&Q<C){const rt=Math.min(y,O)-i,x=Math.min(v,S)-i;return[{x:J,y:rt},{x,y:rt},{x,y:nt}]}return[{x:J,y:Q},{x:ot,y:Q},{x:ot,y:nt}]}else if(mt==="bottom"&&Ct==="right"){if(Q<nt){if(J<tt){let rt=(k+O)/2;return rt<kt&&rt>ut&&J<K&&(rt=dt),[{x:J,y:rt},{x:tt,y:rt},{x:tt,y:nt}]}return[{x:J,y:nt}]}else if(v<tt){const rt=Math.max(k,C)+i,x=Math.max(N,d)+i;return[{x:J,y:rt},{x,y:rt},{x,y:nt}]}const ot=ne;return[{x:J,y:Q},{x:ot,y:Q},{x:ot,y:nt}]}else if(mt==="bottom"&&Ct==="left"){if(Q<nt){if(J>tt){let rt=(k+O)/2;return rt<kt&&rt>ut&&J>st&&(rt=dt),[{x:J,y:rt},{x:tt,y:rt},{x:tt,y:nt}]}return[{x:J,y:nt}]}else if(N>tt){const rt=Math.max(k,C)+i,x=Math.min(v,S)-i;return[{x:J,y:rt},{x,y:rt},{x,y:nt}]}const ot=ne;return[{x:J,y:Q},{x:ot,y:Q},{x:ot,y:nt}]}else if(mt==="left"&&Ct==="bottom"){if(J>tt&&Q>=dt)return[{x:tt,y:Q}];if(J>=d&&Q<nt){const x=(N+S)/2;return[{x,y:Q},{x,y:nt},{x:tt,y:nt}]}if(tt<N&&C<=y){const x=(y+C)/2;return[{x:J,y:Q},{x:J,y:x},{x:tt,y:x}]}const ot=Math.min(K,J),rt=Math.max(k,C)+i;return[{x:ot,y:Q},{x:ot,y:rt},{x:tt,y:rt}]}else if(mt==="left"&&Ct==="top"){if(J>tt&&Q<ut)return[{x:tt,y:Q}];if(J>=d&&Q>nt){const x=(v+d)/2;return[{x,y:Q},{x,y:nt},{x:tt,y:nt}]}if(tt<=N&&nt>Q){const x=(O+k)/2;return[{x:J,y:Q},{x:J,y:x},{x:tt,y:x}]}const ot=nt<Q?Math.min(v,S)-i:z,rt=Math.min(y,O)-i;return[{x:ot,y:Q},{x:ot,y:rt},{x:tt,y:rt}]}else if(mt==="right"&&Ct==="top"){if(J<tt&&Q<ut)return[{x:tt,y:Q}];if(N<S&&Q>nt){let x=(N+S)/2;return[{x,y:Q},{x,y:nt},{x:tt,y:nt}]}if(tt<J&&O>k){const x=(k+O)/2;return[{x:J,y:Q},{x:J,y:x},{x:tt,y:x}]}const ot=Math.max(N,d)+i,rt=Math.min(y,O)-i;return[{x:ot,y:Q},{x:ot,y:rt},{x:tt,y:rt}]}else if(mt==="right"&&Ct==="bottom"){if(J<tt&&Q>=dt)return[{x:tt,y:Q}];if(J<=S&&Q<nt){const x=(N+S)/2;return[{x,y:Q},{x,y:nt},{x:tt,y:nt}]}if(tt>v&&C<y){const x=(y+C)/2;return[{x:J,y:Q},{x:J,y:x},{x:tt,y:x}]}const ot=Math.max(st,J),rt=Math.max(k,C)+i;return[{x:ot,y:Q},{x:ot,y:rt},{x:tt,y:rt}]}}WO.Directions=_e;const K6=WO,UO=Object.freeze(Object.defineProperty({__proto__:null,manhattan:Cy,metro:J6,normal:D6,oneSide:O6,orthogonal:wy,rightAngle:K6},Symbol.toStringTag,{value:"Module"})),po={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},Q6=Object.values(po),tY=10,eY=1,BA=function(t,e,n=[],i={}){const{cornerType:r=po.POINT,cornerRadius:s=tY,cornerPreserveAspectRatio:o=!1,precision:a=eY,raw:l=!1}=i;if(Q6.indexOf(r)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let c;if(r===po.POINT||!s){const u=[t].concat(n).concat([e]),f=new Ce(u);c=new _t(f)}else{c=new _t,c.appendSegment(_t.createSegment("M",t));let u;const f=n.length;for(let g=0;g<f;g++){const p=new Z(n[g]),v=n[g-1]||t,y=n[g+1]||e,I=u||p.distance(v)/2;u=p.distance(y)/2;let _,S;o?_=S=-Math.min(s,I,u):(_=-Math.min(s,I),S=-Math.min(s,u));const O=p.clone().move(v,_).round(a),R=p.clone().move(y,S).round(a);switch(c.appendSegment(_t.createSegment("L",O)),r){case po.CUBIC:{const A=.3333333333333333,d=2/3,C=new Z(A*O.x+d*p.x,d*p.y+A*O.y),N=new Z(A*R.x+d*p.x,d*p.y+A*R.y);c.appendSegment(_t.createSegment("C",C,N,R));break}case po.LINE:{c.appendSegment(_t.createSegment("L",R));break}case po.GAP:{c.appendSegment(_t.createSegment("M",R));break}}}c.appendSegment(_t.createSegment("L",e))}return l?c:c.serialize()};var nY=5,UC=["arc","gap","cubic"],iY=0,VC=1,rY=["smooth"],Pc=1/3,kc=2/3;function YC(t,e){let{x:n,y:i}=t,{x:r,y:s}=e;if(n>r){let o=n;n=r,r=o,o=i,i=s,s=o}if(i>s){let o=n;n=r,r=o,o=i,i=s,s=o}return[new Z(n,i),new Z(r,s)]}function sY(t,e){const[{x:n,y:i},{x:r,y:s}]=YC(t.start,t.end),[{x:o,y:a},{x:l,y:c}]=YC(e.start,e.end),u=n<=l&&o<=r,f=i<=c&&a<=s;return u&&f}function vd(t,e,n){var i=[].concat(t,n,e);return i.reduce(function(r,s,o){var a=i[o+1];return a!=null&&(r[o]=Rs(s,a)),r},[])}function oY(t){var e=t.paper,n=e._jumpOverUpdateList;if(n==null){n=e._jumpOverUpdateList=[];var i=e.model;i.on("batch:stop",function(){this.hasActiveBatch()||aY(e)}),i.on("reset",function(){n=e._jumpOverUpdateList=[]})}n.indexOf(t)<0&&(n.push(t),t.listenToOnce(t.model,"change:connector remove",function(){n.splice(n.indexOf(t),1)}))}function aY(t){for(var e=t._jumpOverUpdateList,n=0;n<e.length;n++){const i=e[n],r=i.getFlag(i.constructor.Flags.CONNECTOR);i.requestUpdate(r)}}function lY(t,e){return ee(e).reduce(function(n,i){var r=t.intersection(i);return r&&n.push(r),n},[])}function HC(t,e){return Rs(t,e).squaredLength()}function cY(t,e,n){return e.reduce(function(i,r,s){if(r.skip===!0)return i;var o=i.pop()||t,a=yu(r).move(o.start,-n),l=yu(r).move(o.start,+n),c=e[s+1];if(c!=null){var u=l.distance(c);u<=n&&(l=c.move(o.start,u),c.skip=!0)}else{var f=a.distance(o.end);if(f<n*2+VC)return i.push(o),i}var g=l.distance(o.start);if(g<n*2+VC)return i.push(o),i;var p=Rs(a,l);return p.isJump=!0,i.push(Rs(o.start,a),p,Rs(l,o.end)),i},[])}function XC(t,e,n,i){var r=new _t,s;return s=_t.createSegment("M",t[0].start),r.appendSegment(s),ee(t).forEach(function(o,a){if(o.isJump){var l,c,u,f;if(n==="arc"){l=-90,c=o.start.difference(o.end);var g=+(c.x<0||c.x===0&&c.y<0);g&&(l+=180);var p=o.midpoint(),v=new It(p,o.end).rotate(p,l),y;y=new It(o.start,p),u=y.pointAt(2/3).rotate(o.start,l),f=v.pointAt(1/3).rotate(v.end,-l),s=_t.createSegment("C",u,f,v.end),r.appendSegment(s),y=new It(p,o.end),u=v.pointAt(1/3).rotate(v.end,l),f=y.pointAt(1/3).rotate(o.end,-l),s=_t.createSegment("C",u,f,o.end),r.appendSegment(s)}else if(n==="gap")s=_t.createSegment("M",o.end),r.appendSegment(s);else if(n==="cubic"){l=o.start.theta(o.end);var I=e*.6,_=e*1.35;c=o.start.difference(o.end),g=+(c.x<0||c.x===0&&c.y<0),g&&(_*=-1),u=Z(o.start.x+I,o.start.y+_).rotate(o.start,l),f=Z(o.end.x-I,o.end.y+_).rotate(o.end,l),s=_t.createSegment("C",u,f,o.end),r.appendSegment(s)}}else{var S=t[a+1];i==0||!S||S.isJump?(s=_t.createSegment("L",o.end),r.appendSegment(s)):uY(i,r,o.end,o.start,S.end)}}),r}function uY(t,e,n,i,r){var s=n.distance(i)/2,o=n.distance(r)/2,a=-Math.min(t,s),l=-Math.min(t,o),c=n.clone().move(i,a).round(),u=n.clone().move(r,l).round(),f=new Z(Pc*c.x+kc*n.x,kc*n.y+Pc*c.y),g=new Z(Pc*u.x+kc*n.x,kc*n.y+Pc*u.y),p;p=_t.createSegment("L",c),e.appendSegment(p),p=_t.createSegment("C",f,g,u),e.appendSegment(p)}const fY=function(t,e,n,i){oY(this);var r=i.raw,s=i.size||nY,o=i.jump&&(""+i.jump).toLowerCase(),a=i.radius||iY,l=i.ignoreConnectors||rY;UC.indexOf(o)===-1&&(o=UC[0]);var c=this.paper,u=c.model,f=u.getLinks();if(f.length===1)return XC(vd(t,e,n),s,o,a);var g=this.model,p=f.indexOf(g),v=c.options.defaultConnector||{},y=f.filter(function(A,d){var C=A.get("connector")||v;return ee(l).includes(C.name)?!1:d>p?C.name!=="jumpover":!0}),I=y.map(function(A){return c.findViewByModel(A)}),_=vd(t,e,n),S=I.map(function(A){return A==null?[]:A===this?_:vd(A.sourcePoint,A.targetPoint,A.route)},this),O=_.reduce(function(A,d){var C=y.reduce(function(N,k,z){if(k!==g){const B=S[z].slice(),U=B.findIndex(K=>sY(d,K));U>-1&&d.containsPoint(B[U].end)&&B.splice(U+1,1);const X=lY(d,B);N.push.apply(N,X)}return N},[]).sort(function(N,k){return HC(d.start,N)-HC(d.start,k)});return C.length>0?A.push.apply(A,cY(d,C,s)):A.push(d),A},[]),R=XC(O,s,o,a);return r?R:R.serialize()},hY=function(t,e,n=[],i={}){const{raw:r}=i;return BA(t,e,n,{cornerType:"point",raw:r})},dY=10,gY=0,pY=function(t,e,n=[],i={}){const{radius:r=dY,raw:s}=i;return BA(t,e,n,{cornerType:"cubic",cornerRadius:r,precision:gY,raw:s})},mY=function(t,e,n,i){var r=i&&i.raw,s;if(n&&n.length!==0){var o=[t].concat(n).concat([e]),a=ue.throughPoints(o);s=new _t(a)}else{s=new _t;var l;if(l=_t.createSegment("M",t),s.appendSegment(l),Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)){var c=(t.x+e.x)/2;l=_t.createSegment("C",c,t.y,c,e.y,e.x,e.y),s.appendSegment(l)}else{var u=(t.y+e.y)/2;l=_t.createSegment("C",t.x,u,e.x,u,e.x,e.y),s.appendSegment(l)}}return r?s:s.serialize()},pi={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Mn={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},jA=function(t,e,n=[],i={},r){const s=!!i.raw,{direction:o=pi.AUTO,precision:a=3}=i,l={coeff:i.distanceCoefficient||.6,angleTangentCoefficient:i.angleTangentCoefficient||80,tau:i.tension||.5,sourceTangent:i.sourceTangent?new Z(i.sourceTangent):null,targetTangent:i.targetTangent?new Z(i.targetTangent):null,rotate:!!i.rotate};typeof i.sourceDirection=="string"?l.sourceDirection=i.sourceDirection:typeof i.sourceDirection=="number"?l.sourceDirection=new Z(1,0).rotate(null,i.sourceDirection):l.sourceDirection=i.sourceDirection?new Z(i.sourceDirection).normalize():null,typeof i.targetDirection=="string"?l.targetDirection=i.targetDirection:typeof i.targetDirection=="number"?l.targetDirection=new Z(1,0).rotate(null,i.targetDirection):l.targetDirection=i.targetDirection?new Z(i.targetDirection).normalize():null;const c=[t,...n,e].map(y=>new Z(y));let u;if(l.sourceTangent)u=l.sourceTangent;else{const y=IY(r,c,o,l),I=c[0].distance(c[1])*l.coeff,_=c[1].difference(c[0]).normalize(),S=xy(y,_);if(S>Math.PI/4){const O=I+(S-Math.PI/4)*l.angleTangentCoefficient;u=y.clone().scale(O,O)}else u=y.clone().scale(I,I)}let f;if(l.targetTangent)f=l.targetTangent;else{const y=wY(r,c,o,l),I=c.length-1,_=c[I-1].distance(c[I])*l.coeff,S=c[I-1].difference(c[I]).normalize(),O=xy(y,S);if(O>Math.PI/4){const R=_+(O-Math.PI/4)*l.angleTangentCoefficient;f=y.clone().scale(R,R)}else f=y.clone().scale(_,_)}const p=xY(c,u,f,l).map(y=>_Y(y,l)),v=new _t(p).round(a);return s?v:v.serialize()};jA.Directions=pi;jA.TangentDirections=Mn;function vY(t,e,n){const{sourceBBox:i}=t;let r,s;if(!t.sourceView)i.x>e[1].x?r="right":r="left";else if(s=t.sourceView.model.angle(),n.rotate&&s){const a=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),l=e[0].clone();l.rotate(i.center(),s),r=a.sideNearestToPoint(l)}else r=i.sideNearestToPoint(e[0]);let o;switch(r){case"left":o=new Z(-1,0);break;case"right":default:o=new Z(1,0);break}return n.rotate&&s&&o.rotate(null,-s),o}function yY(t,e,n){const{targetBBox:i}=t;let r,s;if(!t.targetView)i.x>e[e.length-2].x?r="left":r="right";else if(s=t.targetView.model.angle(),n.rotate&&s){const a=t.targetView.getNodeUnrotatedBBox(t.targetView.el),l=e[e.length-1].clone();l.rotate(i.center(),s),r=a.sideNearestToPoint(l)}else r=i.sideNearestToPoint(e[e.length-1]);let o;switch(r){case"left":o=new Z(-1,0);break;case"right":default:o=new Z(1,0);break}return n.rotate&&s&&o.rotate(null,-s),o}function bY(t,e,n){const{sourceBBox:i}=t;let r,s;if(!t.sourceView)i.y>e[1].y?r="bottom":r="top";else if(s=t.sourceView.model.angle(),n.rotate&&s){const a=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),l=e[0].clone();l.rotate(i.center(),s),r=a.sideNearestToPoint(l)}else r=i.sideNearestToPoint(e[0]);let o;switch(r){case"top":o=new Z(0,-1);break;case"bottom":default:o=new Z(0,1);break}return n.rotate&&s&&o.rotate(null,-s),o}function AY(t,e,n){const{targetBBox:i}=t;let r,s;if(!t.targetView)i.y>e[e.length-2].y?r="top":r="bottom";else if(s=t.targetView.model.angle(),n.rotate&&s){const a=t.targetView.getNodeUnrotatedBBox(t.targetView.el),l=e[e.length-1].clone();l.rotate(i.center(),s),r=a.sideNearestToPoint(l)}else r=i.sideNearestToPoint(e[e.length-1]);let o;switch(r){case"top":o=new Z(0,-1);break;case"bottom":default:o=new Z(0,1);break}return n.rotate&&s&&o.rotate(null,-s),o}function $C(t,e,n){const{sourceBBox:i}=t;let r,s;if(!t.sourceView)r=i.sideNearestToPoint(e[1]);else if(s=t.sourceView.model.angle(),n.rotate&&s){const a=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),l=e[0].clone();l.rotate(i.center(),s),r=a.sideNearestToPoint(l)}else r=i.sideNearestToPoint(e[0]);let o;switch(r){case"top":o=new Z(0,-1);break;case"bottom":o=new Z(0,1);break;case"right":o=new Z(1,0);break;case"left":o=new Z(-1,0);break}return n.rotate&&s&&o.rotate(null,-s),o}function qC(t,e,n){const{targetBBox:i}=t;let r,s;if(!t.targetView)r=i.sideNearestToPoint(e[e.length-2]);else if(s=t.targetView.model.angle(),n.rotate&&s){const a=t.targetView.getNodeUnrotatedBBox(t.targetView.el),l=e[e.length-1].clone();l.rotate(i.center(),s),r=a.sideNearestToPoint(l)}else r=i.sideNearestToPoint(e[e.length-1]);let o;switch(r){case"top":o=new Z(0,-1);break;case"bottom":o=new Z(0,1);break;case"right":o=new Z(1,0);break;case"left":o=new Z(-1,0);break}return n.rotate&&s&&o.rotate(null,-s),o}function JC(t,e,n){return e[1].difference(e[0]).normalize()}function KC(t,e,n){const i=e.length-1;return e[i-1].difference(e[i]).normalize()}function QC(t,e,n){const{sourceBBox:i}=t,r=i.center();return e[0].difference(r).normalize()}function tx(t,e,n){const{targetBBox:i}=t,r=i.center();return e[e.length-1].difference(r).normalize()}function IY(t,e,n,i){if(i.sourceDirection)switch(i.sourceDirection){case Mn.UP:return new Z(0,-1);case Mn.DOWN:return new Z(0,1);case Mn.LEFT:return new Z(-1,0);case Mn.RIGHT:return new Z(1,0);case Mn.AUTO:return $C(t,e,i);case Mn.CLOSEST_POINT:return JC(t,e);case Mn.OUTWARDS:return QC(t,e);default:return i.sourceDirection}switch(n){case pi.HORIZONTAL:return vY(t,e,i);case pi.VERTICAL:return bY(t,e,i);case pi.CLOSEST_POINT:return JC(t,e);case pi.OUTWARDS:return QC(t,e);case pi.AUTO:default:return $C(t,e,i)}}function wY(t,e,n,i){if(i.targetDirection)switch(i.targetDirection){case Mn.UP:return new Z(0,-1);case Mn.DOWN:return new Z(0,1);case Mn.LEFT:return new Z(-1,0);case Mn.RIGHT:return new Z(0,1);case Mn.AUTO:return qC(t,e,i);case Mn.CLOSEST_POINT:return KC(t,e);case Mn.OUTWARDS:return tx(t,e);default:return i.targetDirection}switch(n){case pi.HORIZONTAL:return yY(t,e,i);case pi.VERTICAL:return AY(t,e,i);case pi.CLOSEST_POINT:return KC(t,e);case pi.OUTWARDS:return tx(t,e);case pi.AUTO:default:return qC(t,e,i)}}function CY(t,e){const n=Math.cos(e),i=Math.sin(e),r=n*t.x-i*t.y,s=i*t.x+n*t.y;t.x=r,t.y=s}function xy(t,e){let n=t.dot(e)/(t.magnitude()*e.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function ex(t,e){return t.x*e.y-t.y*e.x}function xY(t,e,n,i){const{tau:r,coeff:s}=i,o=[],a=[],l=[],c=t.length-1;for(let u=0;u<c;u++)o[u]=t[u].distance(t[u+1]);a[0]=e,a[c]=n;for(let u=1;u<c;u++){let f,g;u===1?f=t[u-1].clone().offset(a[u-1].x,a[u-1].y):f=t[u-1].clone(),u===c-1?g=t[u+1].clone().offset(a[u+1].x,a[u+1].y):g=t[u+1].clone();const p=f.difference(t[u]).normalize(),v=g.difference(t[u]).normalize(),y=xy(p,v);let I=(Math.PI-y)/2,_;const S=ex(p,v);let O;O=ex(t[u].difference(t[u+1]),t[u].difference(t[u-1])),S<0&&(I=-I),y<Math.PI/2&&(I<0&&O<0||I>0&&O>0)&&(I=I-Math.PI),_=v.clone(),CY(_,I);const R=_.clone(),A=_.clone(),d=o[u-1]*s,C=o[u]*s;R.scale(d,d),A.scale(C,C),a[u]=[R,A]}for(let u=0;u<c;u++){let f,g;u===0?f=t[u+1].difference(a[u].x/r,a[u].y/r):f=t[u+1].difference(a[u][1].x/r,a[u][1].y/r),u===c-1?g=t[u].clone().offset(a[u+1].x/r,a[u+1].y/r):g=t[u].difference(a[u+1][0].x/r,a[u+1][0].y/r),l[u]=[f,t[u],t[u+1],g]}return l}function _Y(t,e){const{tau:n}=e,i=new Z;i.x=t[1].x+(t[2].x-t[0].x)/(6*n),i.y=t[1].y+(t[2].y-t[0].y)/(6*n);const r=new Z;return r.x=t[2].x+(t[3].x-t[1].x)/(6*n),r.y=t[2].y+(t[3].y-t[1].y)/(6*n),new ue(t[1],i,r,t[2])}const VO=Object.freeze(Object.defineProperty({__proto__:null,curve:jA,jumpover:fY,normal:hY,rounded:pY,smooth:mY,straight:BA},Symbol.toStringTag,{value:"Module"})),jt={TOOLS:qt.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},Co=qt.extend({className:function(){var t=qt.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){qt.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[jt.RENDER],attrs:[jt.UPDATE],router:[jt.UPDATE],connector:[jt.CONNECTOR],smooth:[jt.UPDATE],manhattan:[jt.UPDATE],toolMarkup:[jt.LEGACY_TOOLS],labels:[jt.LABELS],labelMarkup:[jt.LABELS],vertices:[jt.VERTICES,jt.UPDATE],vertexMarkup:[jt.VERTICES],source:[jt.SOURCE,jt.UPDATE],target:[jt.TARGET,jt.UPDATE]},initFlag:[jt.RENDER,jt.SOURCE,jt.TARGET,jt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(t,e){if(e||(e={}),this.hasFlag(t,jt.SOURCE)){if(!this.updateEndProperties("source"))return t;t=this.removeFlag(t,jt.SOURCE)}if(this.hasFlag(t,jt.TARGET)){if(!this.updateEndProperties("target"))return t;t=this.removeFlag(t,jt.TARGET)}const{paper:n,sourceView:i,targetView:r}=this;if(n&&(i&&!n.isViewMounted(i)||r&&!n.isViewMounted(r)))return t;if(this.hasFlag(t,jt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(e),t=this.removeFlag(t,[jt.RENDER,jt.UPDATE,jt.VERTICES,jt.LABELS,jt.TOOLS,jt.LEGACY_TOOLS,jt.CONNECTOR]),t;let s=!1;this.hasFlag(t,jt.VERTICES)&&(this.renderVertexMarkers(),t=this.removeFlag(t,jt.VERTICES));const{model:o}=this,{attributes:a}=o;let l=this.hasFlag(t,jt.LABELS),c=this.hasFlag(t,jt.LEGACY_TOOLS);l&&(this.onLabelsChange(o,a.labels,e),t=this.removeFlag(t,jt.LABELS),s=!0),c&&(this.renderTools(),t=this.removeFlag(t,jt.LEGACY_TOOLS));const u=this.hasFlag(t,jt.UPDATE),f=this.hasFlag(t,jt.CONNECTOR);return(u||f)&&(u?e.translateBy&&o.isRelationshipEmbeddedIn(e.translateBy)?this.translate(e.tx,e.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(e),t=this.removeFlag(t,[jt.UPDATE,jt.TOOLS,jt.CONNECTOR]),l=!1,c=!1,s=!0),l&&this.updateLabelPositions(),c&&this.updateToolsPosition(),s&&this.updateHighlighters(),this.hasFlag(t,jt.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,jt.TOOLS)),t},requestConnectionUpdate:function(t){this.requestUpdate(this.getFlag(jt.UPDATE),t)},isLabelsRenderRequired:function(t={}){const e=this.model.previous("labels");if(!e)return!0;if("propertyPathArray"in t&&"propertyValue"in t){var n=t.propertyPathArray||[],i=n.length;if(i>1){var r=!!e[n[1]];if(r){if(i===2)return"markup"in Object(t.propertyValue);if(n[2]!=="markup")return!1}}}return!0},onLabelsChange:function(t,e,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.LinkView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el);this.selectors=e.selectors,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=$(t);Array.isArray(e)||(e=[e]);for(var n=this._V,i=0,r=e.length;i<r;i++){var s=e[i],o=s.attr("class");o&&(o=cO(o),n[Jt.camelCase(o)]=s)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(e)},_getLabelMarkup:function(t){if(t){if(Array.isArray(t))return this.parseDOMJSON(t,null);if(typeof t=="string")return this._getLabelStringMarkup(t);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(t){var e=$(t),n=document.createDocumentFragment();if(!Array.isArray(e))n.appendChild(e.node);else for(var i=0,r=e.length;i<r;i++){var s=e[i].node;n.appendChild(s)}return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(t){if(t){var e=t.fragment;if(!(t.fragment instanceof DocumentFragment)||!t.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var n,i=e.childNodes;return i.length>1||i[0].nodeName.toUpperCase()!=="G"?n=$("g").append(e):n=$(i[0]),n.addClass("label"),{node:n.node,selectors:t.selectors}}},renderLabels:function(){var t=this._V,e=t.labels,n=this._labelCache={},i=this._labelSelectors={},r=this.model,s=r.attributes.labels||[],o=s.length;if(o===0)return e&&e.remove(),this;e?e.empty():(e=t.labels=$("g").addClass("labels"),this.options.labelsLayer&&(e.addClass(di(Be(this,"className"))),e.attr("model-id",r.id)));for(var a=0;a<o;a++){var l=s[a],c=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),u,f;if(c)u=c.node,f=c.selectors;else{var g=r._builtins.defaultLabel,p=this._normalizeLabelMarkup(this._getLabelMarkup(g.markup)),v=r._getDefaultLabel(),y=this._normalizeLabelMarkup(this._getLabelMarkup(v.markup)),I=y||p;u=I.node,f=I.selectors}u.setAttribute("label-idx",a),e.append(u),n[a]=u;var _=this.selector;if(f[_])throw new Error("dia.LinkView: ambiguous label root selector.");f[_]=u,i[a]=f}return e.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:t,paper:e,model:n,_V:i,options:r}=this,{labels:s}=i;if(!s||!n.hasLabels())return;const{node:o}=s;r.labelsLayer?e.getLayerView(r.labelsLayer).insertSortedNode(o,n.get("z")):o.parentNode!==t&&t.appendChild(o)},unmountLabels:function(){const{options:t,_V:e}=this;if(!e)return;const{labels:n}=e;n&&t.labelsLayer&&n.remove()},findLabelNode:function(t,e){const n=this._labelCache[t];if(!n)return null;const i=this._labelSelectors[t],[r=null]=this.findBySelector(e,n,i);return r},_mergeLabelAttrs:function(t,e,n,i){return e===null?null:e===void 0?n===null?null:n===void 0?t?void 0:i:t?n:Ze({},i,n):t?Ze({},n,e):Ze({},i,n,e)},_mergeLabelSize:function(t,e){return t===null?null:t===void 0?e===null?null:e===void 0?void 0:e:Ze({},e,t)},updateLabels:function(){if(!this._V.labels)return this;for(var t=this.model,e=t.get("labels")||[],n=this.can("labelMove"),i=t._builtins.defaultLabel,r=i.attrs,s=t._getDefaultLabel(),o=s.markup,a=s.attrs,l=s.size,c=0,u=e.length;c<u;c++){var f=this._labelCache[c];f.setAttribute("cursor",n?"move":"default");var g=this._labelSelectors[c],p=e[c],v=p.markup,y=p.attrs,I=p.size,_=this._mergeLabelAttrs(v||o,y,a,r),S=this._mergeLabelSize(I,l);this.updateDOMSubtreeAttributes(f,_,{rootBBox:new vt(S),selectors:g})}return this},renderTools:function(){if(!this._V.linkTools)return this;var t=Jt(this._V.linkTools.node).empty(),e=pn(this.model.get("toolMarkup")||this.model.toolMarkup),n=$(e());if(t.append(n.node),this._toolCache=n,this.options.doubleLinkTools){var i;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(e=pn(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),i=$(e())):i=n.clone(),t.append(i.node),this._tool2Cache=i}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var t=Jt(this._V.markerVertices.node).empty(),e=pn(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,i){t.append($(e(Mt({idx:i},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=Jt(this._V.markerArrowheads.node);t.empty();var e=pn(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=$(e({end:"source"})),this._V.targetArrowhead=$(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(t){const n=this.model,i=n.vertices(),r=[this.sourceAnchor,...i,this.targetAnchor],s=r.length,o=new Ce(r);o.simplify({threshold:.001});const a=o.points.map(c=>c.toJSON()),l=a.length;return s===l?0:(n.vertices(a.slice(1,l-1),t),s-l)},updateDefaultConnectionPath:function(){var t=this._V;t.connection&&t.connection.attr("d",this.getSerializedConnection()),t.connectionWrap&&t.connectionWrap.attr("d",this.getSerializedConnection()),t.markerSource&&t.markerTarget&&this._translateAndAutoOrientArrows(t.markerSource,t.markerTarget)},getEndView:function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(t){switch(t){case"source":return new Z(this.sourceAnchor);case"target":return new Z(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(t){switch(t){case"source":return new Z(this.sourcePoint);case"target":return new Z(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(t){switch(t){case"source":var e=this.sourceView;if(!e)break;return this.sourceMagnet||e.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(t=0,e=0){const{route:n,path:i}=this;if(!n||!i)return;const r=new Ce(n);r.translate(t,e),this.route=r.points,this._translateConnectionPoints(t,e),i.translate(t,e),this.updateDOM()},updateDOM(){const{el:t,model:e,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(t,e.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:t}=this,e=t.vertices(),n=this.findAnchors(e),i=this.sourceAnchor=n.source,r=this.targetAnchor=n.target,s=this.findRoute(e);this.route=s;var o=this.findConnectionPoints(s,i,r);this.sourcePoint=o.source,this.targetPoint=o.target},updatePath:function(){const{route:t,sourcePoint:e,targetPoint:n}=this,i=this.findMarkerPoints(t,e,n),r=this.findPath(t,i.source||e,i.target||n);this.path=r},findMarkerPoints:function(t,e,n){var i=t[0],r=t[t.length-1],s=this._markerCache,o,a;return this._V.markerSource&&(s.sourceBBox=s.sourceBBox||this._V.markerSource.getBBox(),o=Z(e).move(i||n,s.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(s.targetBBox=s.targetBBox||this._V.markerTarget.getBBox(),a=Z(n).move(r||e,s.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),s.sourcePoint=o||e.clone(),s.targetPoint=a||n.clone(),{source:o,target:a}},findAnchorsOrdered:function(t,e,n,i){var r,s,o,a,l=this.model,c=l.get(t),u=l.get(n),f=this.getEndView(t),g=this.getEndView(n),p=this.getEndMagnet(t),v=this.getEndMagnet(n);f?(e?o=new Z(e):g?o=v:o=new Z(u),r=this.getAnchor(c.anchor,f,p,o,t)):r=new Z(c),g?(a=new Z(i||r),s=this.getAnchor(u.anchor,g,v,a,n)):s=new Z(u);var y={};return y[t]=r,y[n]=s,y},findAnchors:function(t){var e=this.model,n=t[0],i=t[t.length-1];return e.target().priority&&!e.source().priority?this.findAnchorsOrdered("target",i,"source",n):this.findAnchorsOrdered("source",n,"target",i)},findConnectionPoints:function(t,e,n){var i=t[0],r=t[t.length-1],s=this.model,o=s.get("source"),a=s.get("target"),l=this.sourceView,c=this.targetView,u=this.paper.options,f,g,p;if(l&&!l.isNodeConnection(this.sourceMagnet)){f=this.sourceMagnet||l.el;var v=o.connectionPoint||u.defaultConnectionPoint,y=i||n,I=new It(y,e);p=this.getConnectionPoint(v,l,f,I,"source")}else p=e;var _;if(c&&!c.isNodeConnection(this.targetMagnet)){g=this.targetMagnet||c.el;var S=a.connectionPoint||u.defaultConnectionPoint,O=r||e,R=new It(O,n);_=this.getConnectionPoint(S,c,g,R,"target")}else _=n;return{source:p,target:_}},getAnchor:function(t,e,n,i,r){var s=e.isNodeConnection(n),o=this.paper.options;if(t||(s?t=o.defaultLinkAnchor:o.perpendicularLinks||this.options.perpendicular?t={name:"perpendicular"}:t=o.defaultAnchor),!t)throw new Error("Anchor required.");var a;if(typeof t=="function")a=t;else{var l=t.name,c=s?"linkAnchorNamespace":"anchorNamespace";if(a=o[c][l],typeof a!="function")throw new Error("Unknown anchor: "+l)}var u=a.call(this,e,n,i,t.args||{},r,this);return u?u.round(this.decimalsRounding):new Z},getConnectionPoint:function(t,e,n,i,r){var s,o=i.end,a=this.paper.options;if(typeof a.linkConnectionPoint=="function"){var l=n===e.el?void 0:n;if(s=a.linkConnectionPoint(this,e,l,i.start,r),s)return s}if(!t)return o;var c;if(typeof t=="function")c=t;else{var u=t.name;if(c=a.connectionPointNamespace[u],typeof c!="function")throw new Error("Unknown connection point: "+u)}return s=c.call(this,i,e,n,t.args||{},r,this),s?s.round(this.decimalsRounding):o},_translateConnectionPoints:function(t,e){var n=this._markerCache;n.sourcePoint.offset(t,e),n.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e),this.sourceAnchor.offset(t,e),this.targetAnchor.offset(t,e)},_getDefaultLabelPositionProperty:function(){var t=this.model,e=t._builtins.defaultLabel,n=e.position,i=t._getDefaultLabel(),r=this._normalizeLabelPosition(i.position);return Ze({},n,r)},_normalizeLabelPosition:function(t){return typeof t=="number"?{distance:t,offset:null,angle:0,args:null}:t},_mergeLabelPositionProperty:function(t,e){return t===null?null:t===void 0?e===null?null:e:Ze({},e,t)},updateLabelPositions:function(){if(!this._V.labels)return this;var t=this.path;if(!t)return this;var e=this.model,n=e.get("labels")||[];if(!n.length)return this;for(var i=this._getDefaultLabelPositionProperty(),r=0,s=n.length;r<s;r++){var o=this._labelCache[r];if(o){var a=n[r],l=this._normalizeLabelPosition(a.position),c=this._mergeLabelPositionProperty(l,i),u=this._getLabelTransformationMatrix(c);o.setAttribute("transform",$.matrixToTransformString(u)),this._cleanLabelMatrices(r)}}return this},_cleanLabelMatrices:function(t){const{metrics:e,_labelSelectors:n}=this,i=n[t];if(i)for(let r in i){const{id:s}=i[r];s&&s in e&&delete e[s].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var i=this.getPointAtLength(e);if(this._toolCache.attr("transform","translate("+i.x+", "+i.y+") "+t),this.options.doubleLinkTools&&n>=this.options.longLinkLength){var r=this.options.doubleLinkToolsOffset||e;i=this.getPointAtLength(n-r),this._tool2Cache.attr("transform","translate("+i.x+", "+i.y+") "+t),this._tool2Cache.attr("visibility","visible")}else this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(Jt.css(this._V.markerArrowheads.node,"display")==="none")return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(t){const{model:e,paper:n}=this,i=`${t}View`,r=e.get(t),s=r&&r.id;if(!s)return this[i]=null,this.updateEndMagnet(t),!0;const o=n.getModelById(s);if(!o)throw new Error("LinkView: invalid "+t+" cell.");const a=o.findView(n);return a?(this[i]=a,this.updateEndMagnet(t),!0):!1},updateEndMagnet:function(t){const e=`${t}Magnet`,n=this.getEndView(t);if(n){let i=n.getMagnetFromLinkEnd(this.model.get(t));i===n.el&&(i=null),this[e]=i}else this[e]=null},_translateAndAutoOrientArrows:function(t,e){var n=ee(this.route);t&&t.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),e&&e.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(t){return this.model.label(t).position||{}},_getLabelPositionAngle:function(t){var e=this._getLabelPositionProperty(t);return e.angle||0},_getLabelPositionArgs:function(t){var e=this._getLabelPositionProperty(t);return e.args},_getDefaultLabelPositionArgs:function(){var t=this.model._getDefaultLabel(),e=t.position||{};return e.args},_mergeLabelPositionArgs:function(t,e){return t===null?null:t===void 0?e===null?null:e:Ze({},e,t)},addLabel:function(t,e,n,i){var r,s,o=0,a;typeof t!="number"?(r=t.x,s=t.y,typeof e=="number"?(o=e,a=n):a=e):(r=t,s=e,typeof n=="number"?(o=n,a=i):a=n);var l=this._getDefaultLabelPositionArgs(),c=a,u=this._mergeLabelPositionArgs(c,l),f={position:this.getLabelPosition(r,s,o,u)},g=-1;return this.model.insertLabel(g,f,a),g},addVertex:function(t,e,n){var i=typeof t!="number",r=i?t.x:t,s=i?t.y:e,o=i?e:n,a={x:r,y:s},l=this.getVertexIndex(r,s);return this.model.insertVertex(l,a,o),l},sendToken:function(t,e,n){function i(f,g){return function(){f.remove(),typeof g=="function"&&g()}}var r,s,o;se(e)?(r=e.duration,s=e.direction==="reverse",o=e.connection):(r=e,s=!1,o=null),r=r||1e3;var a={dur:r+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};s&&(a.keyPoints="1;0",a.keyTimes="0;1");var l=$(t),c;if(typeof o=="string")c=this.findBySelector(o,this.el,this.selectors)[0];else{var u=this._V;c=u.connection?u.connection.node:this.el.querySelector("path")}if(!(c instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(a,c),setTimeout(i(l,n),r)},findRoute:function(t){t||(t=[]);var e=this.paper.options.routerNamespace||UO,n=this.model.router(),i=this.paper.options.defaultRouter;if(!n)if(i)n=i;else return t.map(Z);var r=ge(n)?n:e[n.name];if(!ge(r))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var s=n.args||{},o=r.call(this,t,s,this);return o||t.map(Z)},findPath:function(t,e,n){var i=this.paper.options.connectorNamespace||VO,r=this.model.connector(),s=this.paper.options.defaultConnector;r||(r=s||{});var o=ge(r)?r:i[r.name];if(!ge(o))throw new Error('dia.LinkView: unknown connector: "'+r.name+'".');var a=qn(r.args||{});a.raw=!0;var l=o.call(this,e,n,t,a,this);return typeof l=="string"&&(l=new _t($.normalizePathData(l))),l},getConnection:function(){var t=this.path;return t?t.clone():null},getSerializedConnection:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("data"))return e.data;var n=t.serialize();return e.data=n,n},getConnectionSubdivisions:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("segmentSubdivisions"))return e.segmentSubdivisions;var n=t.getSegmentSubdivisions();return e.segmentSubdivisions=n,n},getConnectionLength:function(){var t=this.path;if(!t)return 0;var e=this.metrics;if(e.hasOwnProperty("length"))return e.length;var n=t.length({segmentSubdivisions:this.getConnectionSubdivisions()});return e.length=n,n},getPointAtLength:function(t){var e=this.path;return e?e.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(t){var e=this.path;return e?(en(t)&&(t=parseFloat(t)/100),e.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(t){var e=this.path;return e?e.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(t){var e=this.path;return e?e.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(t){var e=this.path;return e?e.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(t){var e=this.path;return e?e.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(t){var e=this.path;return e?e.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(t,e,n,i){var r={},s=0,o;typeof n=="number"?(s=n,o=i):o=n,o&&(r.args=o);var a=!(o&&o.absoluteDistance),l=o&&o.absoluteDistance&&o.reverseDistance,c=o&&o.absoluteOffset,u=this.path,f={segmentSubdivisions:this.getConnectionSubdivisions()},g=new Z(t,e),p=u.closestPointT(g,f),v=u.lengthAtT(p,f);a&&(v=v/this.getConnectionLength()||0),l&&(v=-1*(this.getConnectionLength()-v)||1),r.distance=v;var y;c||(y=u.tangentAtT(p));var I;if(y)I=y.pointOffset(g);else{var _=u.pointAtT(p),S=g.difference(_);I={x:S.x,y:S.y}}return r.offset=I,r.angle=s,r},_getLabelTransformationMatrix:function(t){var e,n=0,i={};if(typeof t=="number")e=t;else if(typeof t.distance=="number")i=t.args||{},e=t.distance,n=t.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var r=e>0&&e<=1,s=0,o={x:0,y:0};if(t.offset){var a=t.offset;typeof a=="number"&&(s=a),a.x&&(o.x=a.x),a.y&&(o.y=a.y)}var l=o.x!==0||o.y!==0||s===0,c=i.keepGradient,u=i.ensureLegibility,f=this.path,g={segmentSubdivisions:this.getConnectionSubdivisions()},p=r?e*this.getConnectionLength():e,v=f.tangentAtLength(p,g),y,I=n;if(v){if(l)y=v.start.clone(),y.offset(o);else{var _=v.clone();_.rotate(v.start,-90),_.setLength(s),y=_.end}c&&(I=v.angle()+n,u&&(I=Hi((I+90)%180-90)))}else y=f.start.clone(),l&&y.offset(o);return $.createSVGMatrix().translate(y.x,y.y).rotate(I)},getLabelCoordinates:function(t){var e=this._getLabelTransformationMatrix(t);return new Z(e.e,e.f)},getVertexIndex:function(t,e){for(var n=this.model,i=n.vertices(),r=this.getClosestPointLength(new Z(t,e)),s=0,o=i.length;s<o;s++){var a=i[s],l=this.getClosestPointLength(a);if(r<l)break}return s},notifyPointerdown(t,e,n){qt.prototype.pointerdown.call(this,t,e,n),this.notify("link:pointerdown",t,e,n)},notifyPointermove(t,e,n){qt.prototype.pointermove.call(this,t,e,n),this.notify("link:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("link:pointerup",t,e,n),qt.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){qt.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){qt.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",t,e,n)},contextmenu:function(t,e,n){qt.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.notifyPointerdown(t,e,n);var i=t.target.getAttribute("class");switch(i){case"marker-vertex":this.dragVertexStart(t,e,n);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(t,e,n);return;case"marker-arrowhead":this.dragArrowheadStart(t,e,n);return;case"connection":case"connection-wrap":this.dragConnectionStart(t,e,n);return;case"marker-source":case"marker-target":return}this.dragStart(t,e,n)},pointermove:function(t,e,n){var i=this._dragData;i&&this.eventData(t,i);var r=this.eventData(t);switch(r.action){case"vertex-move":this.dragVertex(t,e,n);break;case"label-move":this.dragLabel(t,e,n);break;case"arrowhead-move":this.dragArrowhead(t,e,n);break;case"move":this.drag(t,e,n);break}i&&Mt(i,this.eventData(t)),this.notifyPointermove(t,e,n)},pointerup:function(t,e,n){var i=this._dragData;i&&(this.eventData(t,i),this._dragData=null);var r=this.eventData(t);switch(r.action){case"vertex-move":this.dragVertexEnd(t,e,n);break;case"label-move":this.dragLabelEnd(t,e,n);break;case"arrowhead-move":this.dragArrowheadEnd(t,e,n);break;case"move":this.dragEnd(t,e,n)}this.notifyPointerup(t,e,n),this.checkMouseleave(t)},mouseover:function(t){qt.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",t)},mouseout:function(t){qt.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",t)},mouseenter:function(t){qt.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){qt.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},mousewheel:function(t,e,n,i){qt.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",t,e,n,i)},onevent:function(t,e,n,i){var r=$(t.target).findParentByClass("link-tool",this.el);if(r){if(t.stopPropagation(),this.can("useLinkTools"))if(e==="remove"){this.model.remove({ui:!0});return}else this.notify(e,t,n,i);this.notifyPointerdown(t,n,i),this.paper.delegateDragEvents(this,t.data)}else qt.prototype.onevent.apply(this,arguments)},onlabel:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragLabelStart(t,e,n);var i=this.eventData(t).stopPropagation;i&&t.stopPropagation()},dragConnectionStart:function(t,e,n){if(this.can("vertexAdd")){var i=this.addVertex({x:e,y:n},{ui:!0});this.eventData(t,{action:"vertex-move",vertexIdx:i})}},dragLabelStart:function(t,e,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(t))return;var i=t.currentTarget,r=parseInt(i.getAttribute("label-idx"),10),s=this._getDefaultLabelPositionProperty(),o=this._normalizeLabelPosition(this._getLabelPositionProperty(r)),a=this._mergeLabelPositionProperty(o,s),l=this.getLabelCoordinates(a),c=l.x-e,u=l.y-n,f=this._getLabelPositionAngle(r),g=this._getLabelPositionArgs(r),p=this._getDefaultLabelPositionArgs(),v=this._mergeLabelPositionArgs(g,p);this.eventData(t,{action:"label-move",labelIdx:r,dx:c,dy:u,positionAngle:f,positionArgs:v,stopPropagation:!0})}else this.eventData(t,{stopPropagation:!0});this.paper.delegateDragEvents(this,t.data)},dragVertexStart:function(t,e,n){if(this.can("vertexMove")){var i=t.target,r=parseInt(i.getAttribute("idx"),10);this.eventData(t,{action:"vertex-move",vertexIdx:r})}},dragVertexRemoveStart:function(t,e,n){if(this.can("vertexRemove")){var i=t.target,r=parseInt(i.getAttribute("idx"),10);this.model.removeVertex(r)}},dragArrowheadStart:function(t,e,n){if(this.can("arrowheadMove")){var i=t.target,r=i.getAttribute("end"),s=this.startArrowheadMove(r,{ignoreBackwardsCompatibility:!0});this.eventData(t,s)}},dragStart:function(t,e,n){this.isDefaultInteractionPrevented(t)||this.can("linkMove")&&this.eventData(t,{action:"move",dx:e,dy:n})},dragLabel:function(t,e,n){var i=this.eventData(t),r={position:this.getLabelPosition(e+i.dx,n+i.dy,i.positionAngle,i.positionArgs)};this.paper.options.snapLabels&&delete r.position.offset;const s={ui:!0};this.paper.isAsync()&&t.type==="touchmove"&&(s.async=!1),this.model.label(i.labelIdx,r,s)},dragVertex:function(t,e,n){var i=this.eventData(t);this.model.vertex(i.vertexIdx,{x:e,y:n},{ui:!0})},dragArrowhead:function(t,e,n){this.paper.options.snapLinks?!this._snapArrowhead(t,e,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(t,e,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(t,e,n):this._connectArrowhead(this.getEventTarget(t),e,n,this.eventData(t))},drag:function(t,e,n){var i=this.eventData(t);this.model.translate(e-i.dx,n-i.dy,{ui:!0}),this.eventData(t,{dx:e,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(t,e,n){var i=this.eventData(t),r=this.paper;r.options.snapLinks?this._snapArrowheadEnd(i):this._connectArrowheadEnd(i,e,n),r.linkAllowed(this)?(this._finishEmbedding(i),this._notifyConnectEvent(i,t)):this._disallow(i),this._afterArrowheadMove(i)},dragEnd:function(){},_disallow:function(t){switch(t.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(t.arrowhead,t.initialEnd,{ui:!0});break}},_finishEmbedding:function(t){this.paper.options.embeddingMode&&this.model.reparent()&&(t.z=null)},_notifyConnectEvent:function(t,e){var n=t.arrowhead,i=t.initialEnd,r=this.model.prop(n),s=r&&!sn.endsEqual(i,r);if(s){var o=this.paper;i.id&&this.notify("link:disconnect",e,o.findViewByModel(i.id),t.initialMagnet,n),r.id&&this.notify("link:connect",e,o.findViewByModel(r.id),t.magnetUnderPointer,n)}},_snapToPoints:function(t,e,n){let i=null,r=1/0,s=null,o=1/0,a=t.x,l=t.y;for(let c=0;c<e.length;c++){const u=Math.abs(e[c].x-t.x);u<r&&(r=u,i=e[c]);const f=Math.abs(e[c].y-t.y);f<o&&(o=f,s=e[c])}return r<n&&(a=i.x),o<n&&(l=s.y),{x:a,y:l}},_snapArrowheadSelf:function(t,e,n){const{paper:i,model:r}=this,{snapLinksSelf:s}=i.options,o=this.eventData(t),a=s.radius||20,l=this.getEndAnchor(o.arrowhead==="source"?"target":"source"),c=r.vertices(),u=[l,...c],f=this._snapToPoints({x:e,y:n},u,a),g=i.localToClientPoint(f);this._connectArrowhead(document.elementFromPoint(g.x,g.y),f.x,f.y,this.eventData(t))},_snapArrowhead:function(t,e,n){const{paper:i}=this,{snapLinks:r,connectionStrategy:s}=i.options,o=this.eventData(t);let a=!1;var l=r.radius||50,c=i.findViewsInArea({x:e-l,y:n-l,width:2*l,height:2*l}),u=o.closestView||null,f=o.closestMagnet||null,g=o.magnetProxy||null;o.closestView=o.closestMagnet=o.magnetProxy=null;var p=Number.MAX_VALUE,v=new Z(e,n);c.forEach(function(A){const d=[];A.el.getAttribute("magnet")!=="false"&&d.push({bbox:A.model.getBBox(),magnet:A.el}),A.$("[magnet]").toArray().forEach(C=>{d.push({bbox:A.getNodeBBox(C),magnet:C})}),d.forEach(C=>{const{magnet:N,bbox:k}=C,z=k.center().squaredDistance(v);z<p&&(f===N||i.options.validateConnection.apply(i,o.validateConnectionArgs(A,A.el===N?null:N)))&&(p=z,o.closestView=A,o.closestMagnet=N)})},this);var y,I=null,_=o.closestView,S=o.closestMagnet;S&&(I=o.magnetProxy=_.findProxyNode(S,"highlighter"));var O=o.arrowhead,R=f!==S;if(u&&R&&u.unhighlight(g,{connecting:!0,snapping:!0}),_){const{prevEnd:A,prevX:d,prevY:C}=o;if(o.prevX=e,o.prevY=n,a=!0,!R&&(typeof s!="function"||d===e&&C===n)||(y=_.getLinkEnd(S,e,n,this.model,O),!R&&Ms(A,y)))return a;o.prevEnd=y,R&&_.highlight(I,{connecting:!0,snapping:!0})}else y={x:e,y:n};return this.model.set(O,y||{x:e,y:n},{ui:!0}),u&&this.notify("link:snap:disconnect",t,u,f,O),_&&this.notify("link:snap:connect",t,_,S,O),a},_snapArrowheadEnd:function(t){var e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(t.magnetProxy,{connecting:!0,snapping:!0}),t.magnetUnderPointer=e.findMagnet(n)),t.closestView=t.closestMagnet=null},_connectArrowhead:function(t,e,n,i){const{paper:r,model:s}=this;if(i.eventTarget!==t){i.magnetProxy&&i.viewUnderPointer.unhighlight(i.magnetProxy,{connecting:!0});const o=i.viewUnderPointer=r.findView(t);if(o){const a=i.magnetUnderPointer=o.findMagnet(t),l=i.magnetProxy=o.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(r,i.validateConnectionArgs(o,a))?l&&o.highlight(l,{connecting:!0}):(i.magnetUnderPointer=null,i.magnetProxy=null)}else i.magnetUnderPointer=null,i.magnetProxy=null}i.eventTarget=t,s.set(i.arrowhead,{x:e,y:n},{ui:!0})},_connectArrowheadEnd:function(t={},e,n){const{model:i}=this,{viewUnderPointer:r,magnetUnderPointer:s,magnetProxy:o,arrowhead:a}=t;if(!s||!o||!r)return;r.unhighlight(o,{connecting:!0});const l=r.getLinkEnd(s,e,n,i,a);i.set(a,l,{ui:!0})},_beforeArrowheadMove:function(t){t.z=this.model.get("z"),this.model.toFront();var e=this.el.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(t)},_afterArrowheadMove:function(t){t.z!==null&&(this.model.set("z",t.z,{ui:!0}),t.z=null),this.el.style.pointerEvents=t.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(t)},_createValidateConnectionArgs:function(t){var e=[];e[4]=t,e[5]=this;var n,i=0,r=0;t==="source"?(i=2,n="target"):(r=2,n="source");var s=this.model.get(n);if(s.id){var o=e[i]=this.paper.findViewByModel(s.id),a=o.getMagnetFromLinkEnd(s);a===o.el&&(a=void 0),e[i+1]=a}function l(c,u){return e[r]=c,e[r+1]=c.el===u?void 0:u,e}return l},_markAvailableMagnets:function(t){function e(f,g){var p=f.paper,v=p.options.validateConnection;return v.apply(p,this.validateConnectionArgs(f,g))}var n=this.paper,i=n.model.getCells();t.marked={};for(var r=0,s=i.length;r<s;r++){var o=i[r].findView(n);if(o){var a=Array.prototype.slice.call(o.el.querySelectorAll("[magnet]"));o.el.getAttribute("magnet")!=="false"&&a.push(o.el);var l=a.filter(e.bind(t,o));if(l.length>0){for(var c=0,u=l.length;c<u;c++)o.highlight(l[c],{magnetAvailability:!0});o.highlight(null,{elementAvailability:!0}),t.marked[o.model.id]=l}}}},_unmarkAvailableMagnets:function(t){for(var e=Object.keys(t.marked),n,i,r=0,s=e.length;r<s;r++){n=e[r],i=t.marked[n];var o=this.paper.findViewByModel(n);if(o){for(var a=0,l=i.length;a<l;a++)o.unhighlight(i[a],{magnetAvailability:!0});o.unhighlight(null,{elementAvailability:!0})}}t.marked=null},startArrowheadMove:function(t,e){e||(e={});var n={action:"arrowhead-move",arrowhead:t,whenNotAllowed:e.whenNotAllowed||"revert",initialMagnet:this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),initialEnd:qn(this.model.get(t)),validateConnectionArgs:this._createValidateConnectionArgs(t)};return this._beforeArrowheadMove(n),e.ignoreBackwardsCompatibility!==!0&&(this._dragData=n),n},onMount:function(){qt.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){qt.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){qt.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:jt});Object.defineProperty(Co.prototype,"sourceBBox",{enumerable:!0,get:function(){var t=this.sourceView;if(!t){var e=this.model.source();return new vt(e.x,e.y)}var n=this.sourceMagnet;return t.isNodeConnection(n)?new vt(this.sourceAnchor):t.getNodeBBox(n||t.el)}});Object.defineProperty(Co.prototype,"targetBBox",{enumerable:!0,get:function(){var t=this.targetView;if(!t){var e=this.model.target();return new vt(e.x,e.y)}var n=this.targetMagnet;return t.isNodeConnection(n)?new vt(this.targetAnchor):t.getNodeBBox(n||t.el)}});const SY=gi.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(t,e){const{options:n}=this,{useFirstSubpath:i}=n;let r;try{const s=$(e);if(r=s.convertToPathData().trim(),s.tagName()==="PATH"&&i){const o=r.search(/.M/i)+1;o>0&&(r=r.substr(0,o))}}catch{const o=t.getNodeBoundingRect(e);r=$.rectToPath(Mt({},n,o.toJSON()))}return r},highlightConnection(t){this.vel.attr("d",t.getSerializedConnection())},highlightNode(t,e){const{vel:n,options:i}=this,{padding:r,layer:s}=i;let o=this.getNodeMatrix(t,e);if(r){!s&&e===t.el&&n.remove();let a=t.getNodeBoundingRect(e);const l=a.x+a.width/2,c=a.y+a.height/2;a=$.transformRect(a,o);const u=Math.max(a.width,1),f=Math.max(a.height,1),g=(u+r)/u,p=(f+r)/f,v=$.createSVGMatrix({a:g,b:0,c:0,d:p,e:l-g*l,f:c-p*c});o=o.multiply(v)}n.attr({d:this.getPathData(t,e),transform:$.matrixToTransformString(o)})},highlight(t,e){const{vel:n,options:i}=this;n.attr(i.attrs),t.isNodeConnection(e)?this.highlightConnection(t):this.highlightNode(t,e)}}),nx=20;function MY(t,e){const n=t.children();for(;n.length>0;){const i=n.shift();e(i)&&n.push(...i.children())}}const TY=gi.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:nx,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(t,e){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:i,MASK_REMOVE_TAGS:r}=this,s=e.tagName();if(!$.isSVGGraphicsElement(e)||r.includes(s))return e.remove(),!1;if(i.includes(s)){const o=t.vel.findOne(`#${e.id}`);if(o){const{node:a}=o;let l=t.getNodeBoundingRect(a);t.model.isElement()&&(l=$.transformRect(l,t.getNodeMatrix(a)));const c=$("rect",l.toJSON()),{x:u,y:f}=l.center(),{angle:g,cx:p=u,cy:v=f}=o.rotate();g&&c.rotate(g,p,v),e.parent().append(c)}return e.remove(),!1}return n.forEach(o=>{o==="fill"&&e.attr("fill")==="none"||e.removeAttr(o)}),!0},transformMaskRoot(t,e){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(i=>{e.removeAttr(i)})},getMaskShape(t,e){const{options:n,MASK_REPLACE_TAGS:i}=this,{deep:r}=n,s=e.tagName();let o;if(s==="G"){if(!r)return null;o=e.clone(),MY(o,a=>this.transformMaskChild(t,a))}else{if(i.includes(s))return null;o=e.clone()}return this.transformMaskRoot(t,o),o},getMaskId(){return`highlight-mask-${this.cid}`},getMask(t,e){const{VISIBLE:n,INVISIBLE:i,options:r}=this,{padding:s,attrs:o}=r,a="stroke-width"in o?o["stroke-width"]:1,l=e.attr("fill")!=="none";let c=parseFloat(e.attr("stroke-width"));isNaN(c)&&(c=1);const u=c+s*2,f=u+a*2;let g=this.getMaskShape(t,e);if(!g){const p=t.getNodeBoundingRect(e.node);p.inflate(p.width?0:.5,p.height?0:.5),g=$("rect",p.toJSON())}return g.attr(o),$("mask",{id:this.getMaskId()}).append([g.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":f}),g.clone().attr({fill:l?i:"none",stroke:i,"stroke-width":u})])},removeMask(t){const e=t.svg.getElementById(this.getMaskId());e&&t.defs.removeChild(e)},addMask(t,e){t.defs.appendChild(e.node)},highlight(t,e){const{options:n,vel:i}=this,{padding:r,attrs:s,maskClip:o=nx,layer:a}=n,l="stroke"in s?s.stroke:"#000000";!a&&e===t.el&&i.remove();const c=t.getNodeBoundingRect(e).inflate(r+o),u=this.getNodeMatrix(t,e),f=this.getMask(t,$(e));this.addMask(t.paper,f),i.attr(c.toJSON()),i.attr({transform:$.matrixToTransformString(u),mask:`url(#${f.id})`,fill:l})},unhighlight(t){this.removeMask(t.paper)}}),NY=gi.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:di("highlight-opacity"),highlight:function(t,e){$(e).addClass(this.opacityClassName)},unhighlight:function(t,e){$(e).removeClass(this.opacityClassName)}}),ix=di("highlighted"),EY=gi.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:ix},highlight:function(t,e){$(e).addClass(this.options.className)},unhighlight:function(t,e){$(e).removeClass(this.options.className)}},{className:ix}),yd={ROW:"row",COLUMN:"column"},PY=gi.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(t,e){const n=t.model,{attribute:i,size:r=20,gap:s=5,direction:o=yd.ROW}=this.options;if(!i)throw new Error("List: attribute is required");const a=typeof r=="number"?{width:r,height:r}:r,l=o===yd.ROW,c=l?a.width:a.height;let u=n.get(i);Array.isArray(u)||(u=[]);const f=this._prevItems||[],g=u.map((I,_)=>Ms(f[_],u[_]));if(f.length!==u.length||g.some(I=>!I)){const I=this.vel.children(),_=u.map((S,O)=>{const R=O in I?I[O].node:null;if(g[O])return R;const A=this.createListItem(S,a,R);if(!A)return null;if(!(A instanceof SVGElement))throw new Error("List: item must be an SVGElement");A.dataset.index=O,A.dataset.attribute=i;const d=O*(c+s);return A.setAttribute("transform",l?`translate(${d}, 0)`:`translate(0, ${d})`),A});this.vel.empty().append(_),this._prevItems=u}const p=u.length,v=p===0?0:p*c+(p-1)*s,y=l?{width:v,height:a.height}:{width:a.width,height:v};this.position(n,y)},position(t,e){const{vel:n,options:i}=this,{margin:r=5,position:s="top-left"}=i,{width:o,height:a}=t.size(),{left:l,right:c,top:u,bottom:f}=mr(r),g=new vt(l,u,o-(l+c),a-(u+f));let{x:p,y:v}=LA(g,s);switch(s){case Re.CENTER:case Re.TOP:case Re.BOTTOM:{p-=e.width/2;break}case Re.RIGHT:case Re.BOTTOM_RIGHT:case Re.TOP_RIGHT:{p-=e.width;break}}switch(s){case Re.CENTER:case Re.RIGHT:case Re.LEFT:{v-=e.height/2;break}case Re.BOTTOM:case Re.BOTTOM_RIGHT:case Re.BOTTOM_LEFT:{v-=e.height;break}}n.attr("transform",`translate(${p}, ${v})`)}},{Directions:yd,Positions:Re}),YO=Object.freeze(Object.defineProperty({__proto__:null,addClass:EY,list:PY,mask:TY,opacity:NY,stroke:SY},Symbol.toStringTag,{value:"Module"}));function kY(t,e,n,i){var r="ratio"in i?i.ratio:.5;return t.getPointAtRatio(r)}function DY(t,e,n,i){var r="length"in i?i.length:20;return t.getPointAtLength(r)}function OY(t,e,n,i){var r=1e6,s=t.getConnection(),o=t.getConnectionSubdivisions(),a=new It(n.clone().offset(0,r),n.clone().offset(0,-r)),l=new It(n.clone().offset(r,0),n.clone().offset(-r,0)),c=a.intersect(s,{segmentSubdivisions:o}),u=l.intersect(s,{segmentSubdivisions:o}),f=[];return c&&Array.prototype.push.apply(f,c),u&&Array.prototype.push.apply(f,u),f.length>0?n.chooseClosest(f):"fallbackAt"in i?HO(t,i.fallbackAt):XO(t,e,n,i)}function LY(t,e,n,i){var r=t.getClosestPoint(n);return r||new Z}function Gl(t){return function(e,n,i,r){if(i instanceof Element){var s=this.paper.findView(i),o;if(s)if(s.isNodeConnection(i)){var a="fixedAt"in r?r.fixedAt:"50%";o=HO(s,a)}else o=s.getNodeBBox(i).center();else o=new Z;return t.call(this,e,n,o,r)}return t.apply(this,arguments)}}function HO(t,e){var n=parseFloat(e);return en(e)?t.getPointAtRatio(n/100):t.getPointAtLength(n)}const RY=Gl(OY),XO=Gl(LY),$O=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:XO,connectionLength:DY,connectionPerpendicular:RY,connectionRatio:kY,resolveRef:Gl},Symbol.toStringTag,{value:"Module"}));function Bf(t,e,n){if(ze(n)){const{x:r,y:s}=n;if(isFinite(s)){const o=new It(e,t),{start:a,end:l}=o.parallel(s);e=a,t=l}n=r}if(!isFinite(n))return t;var i=t.distance(e);return n===0&&i>0?t:t.move(e,-Math.min(n,i-1))}function GA(t){var e=t.getAttribute("stroke-width");return e===null?0:parseFloat(e)||0}function zY(t,e,n=0){let i,r,s,o;const{start:a,end:l}=t;switch(e){case"left":i="x",r=l,s=a,o=-1;break;case"right":i="x",r=a,s=l,o=1;break;case"top":i="y",r=l,s=a,o=-1;break;case"bottom":i="y",r=a,s=l,o=1;break;default:return}a[i]<l[i]?r[i]=s[i]:s[i]=r[i],isFinite(n)&&(r[i]+=o*n,s[i]+=o*n)}function BY(t,e,n,i){let{offset:r,alignOffset:s,align:o}=i;return o&&zY(t,o,s),Bf(t.end,t.start,r)}function qO(t,e,n,i){var r=e.getNodeBBox(n);i.stroke&&r.inflate(GA(n)/2);var s=t.intersect(r),o=s?t.start.chooseClosest(s):t.end;return Bf(o,t.start,i.offset)}function jY(t,e,n,i){var r=e.model.angle();if(r===0)return qO(t,e,n,i);var s=e.getNodeUnrotatedBBox(n);i.stroke&&s.inflate(GA(n)/2);var o=s.center(),a=t.clone().rotate(o,r),l=a.setLength(1e6).intersect(s),c=l?a.start.chooseClosest(l).rotate(o,-r):t.end;return Bf(c,t.start,i.offset)}function GY(t){if(!t)return null;var e=t;do{var n=e.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")e=e.firstElementChild;else if(n==="TITLE")e=e.nextElementSibling;else break}while(e);return e}var bd="segmentSubdivisons",Ad="shapeBBox";function FY(t,e,n,i){var r,s,o=i.selector,a=t.end;if(typeof o=="string"?r=e.findBySelector(o)[0]:o===!1?r=n:Array.isArray(o)?r=zo(n,o):r=GY(n),!$.isSVGGraphicsElement(r)){if(r===n||!$.isSVGGraphicsElement(n))return a;r=n}var l=e.getNodeShape(r),c=e.getNodeMatrix(r),u=e.getRootTranslateMatrix(),f=e.getRootRotateMatrix(),g=u.multiply(f).multiply(c),p=g.inverse(),v=$.transformLine(t,p),y=v.start.clone(),I=e.getNodeData(r);if(i.insideout===!1){I[Ad]||(I[Ad]=l.bbox());var _=I[Ad];if(_.containsPoint(y))return a}var S;if(l instanceof _t){var O=i.precision||2;I[bd]||(I[bd]=l.getSegmentSubdivisions({precision:O})),S={precision:O,segmentSubdivisions:I[bd]}}i.extrapolate===!0&&v.setLength(1e6),s=v.intersect(l,S),s?$.isArray(s)&&(s=y.chooseClosest(s)):i.sticky===!0&&(l instanceof vt?s=l.pointNearestToPoint(y):l instanceof Tn?s=l.intersectionWithLineFromCenterToPoint(y):s=l.closestPoint(y,S));var R=s?$.transformPoint(s,g):a,A=i.offset||0;return i.stroke&&(A+=GA(r)/2),Bf(R,t.start,A)}const ZY=BY,WY=qO,UY=jY,VY=FY,JO=Object.freeze(Object.defineProperty({__proto__:null,anchor:ZY,bbox:WY,boundary:VY,rectangle:UY},Symbol.toStringTag,{value:"Module"}));function Ar(t){return function(e,n,i,r){var s=!!r.rotate,o=s?e.getNodeUnrotatedBBox(n):e.getNodeBBox(n),a=o[t](),l=r.dx;if(l){var c=en(l);l=parseFloat(l),isFinite(l)&&(c&&(l/=100,l*=o.width),a.x+=l)}var u=r.dy;if(u){var f=en(u);u=parseFloat(u),isFinite(u)&&(f&&(u/=100,u*=o.height),a.y+=u)}return s?a.rotate(e.model.getBBox().center(),-e.model.angle()):a}}function YY(t,e,n,i){var r=t.model.angle(),s=t.getNodeBBox(e),o=s.center(),a=s.origin(),l=s.corner(),c=i.padding;if(isFinite(c)||(c=0),a.y+c<=n.y&&n.y<=l.y-c){var u=n.y-o.y;o.x+=r===0||r===180?0:u*1/Math.tan(jn(r)),o.y+=u}else if(a.x+c<=n.x&&n.x<=l.x-c){var f=n.x-o.x;o.y+=r===90||r===270?0:f*Math.tan(jn(r)),o.x+=f}return o}function HY(t,e,n,i){var r=!!i.rotate,s,o,a;r?(s=t.getNodeUnrotatedBBox(e),a=t.model.getBBox().center(),o=t.model.angle()):s=t.getNodeBBox(e);var l=i.padding;isFinite(l)&&s.inflate(l),r&&n.rotate(a,o);var c=s.sideNearestToPoint(n),u;switch(c){case"left":u=s.leftMiddle();break;case"right":u=s.rightMiddle();break;case"top":u=s.topMiddle();break;case"bottom":u=s.bottomMiddle();break}return r?u.rotate(a,-o):u}function XY(t,e,n,i,r){return t.model.getPointFromConnectedLink(this.model,r).offset(i.dx,i.dy)}const $Y=Ar("center"),qY=Ar("topMiddle"),JY=Ar("bottomMiddle"),KY=Ar("leftMiddle"),QY=Ar("rightMiddle"),tH=Ar("origin"),eH=Ar("topRight"),nH=Ar("bottomLeft"),iH=Ar("corner"),rH=Gl(YY),sH=Gl(HY),oH=XY,KO=Object.freeze(Object.defineProperty({__proto__:null,bottom:JY,bottomLeft:nH,bottomRight:iH,center:$Y,left:KY,midSide:sH,modelCenter:oH,perpendicular:rH,right:QY,top:qY,topLeft:tH,topRight:eH},Symbol.toStringTag,{value:"Module"})),fo={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},aH=50,rx=20,sx=1e3,lH=1/0,Dc=9007199254740991,Id=qt.Highlighting,ox={[Id.DEFAULT]:{name:"stroke",options:{padding:3}},[Id.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[Id.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},cH=[{name:ti.BACK},{name:ti.CELLS},{name:ti.LABELS},{name:ti.FRONT},{name:ti.TOOLS}],uH=yi.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:We,linkView:Co,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:ox,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new sn,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(t,e,n){return e.getAttribute("magnet")!=="passive"},validateConnection:function(t,e,n,i,r,s){return(r==="target"?n:t)instanceof We},embeddingMode:!1,validateEmbedding:function(t,e){return!0},validateUnembedding:function(t){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:fo.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(t,e,n,i,r){e&(t.FLAG_INSERT|t.FLAG_REMOVE)||i.mounting||i.isolate||r.requestConnectedLinksUpdate(t,n,i)},onViewPostponed:function(t,e,n){return n.forcePostponedViewUpdate(t,e)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:YO,anchorNamespace:KO,linkAnchorNamespace:$O,connectionPointNamespace:JO,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:t,el:e}=this;t.cellViewNamespace||(t.cellViewNamespace=typeof joint<"u"&&Ti(joint,"shapes")?joint.shapes:null);const n=this.model=t.model||new ur;this._layers={},this.setGrid(t.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=Jt(e.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var t=this.model;this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.onCellRemoved).listenTo(t,"change",this.onCellChange).listenTo(t,"reset",this.onGraphReset).listenTo(t,"sort",this.onGraphSort).listenTo(t,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(t,e,n){var i=n.position;this.isAsync()||!Sn(i)?this.renderView(t,n):(n.maxPosition===i&&this.freeze({key:"addCells"}),this.renderView(t,n),i===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(t,e,n){const i=this.findViewByModel(t);i&&this.requestViewUpdate(i,i.FLAG_REMOVE,i.UPDATE_PRIORITY,n)},onCellChange:function(t,e){if(t!==this.model.attributes.cells&&t.hasChanged("z")&&this.options.sorting===fo.APPROX){const n=this.findViewByModel(t);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,e)}},onGraphReset:function(t,e){this.resetLayers(),this.resetViews(t.models,e)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(t){if(!this.isFrozen()){var e=t&&t.batchName,n=this.model;if(!this.isAsync()){var i=this.UPDATE_DELAYING_BATCHES;i.includes(e)&&!n.hasActiveBatch(i)&&this.updateViews(t)}var r=this.SORT_DELAYING_BATCHES;r.includes(e)&&!n.hasActiveBatch(r)&&this.sortViews()}},cloneOptions:function(){const{options:t}=this,{defaultConnector:e,defaultRouter:n,defaultConnectionPoint:i,defaultAnchor:r,defaultLinkAnchor:s,origin:o,highlighting:a,cellViewNamespace:l,interactive:c}=t;!l&&typeof joint<"u"&&Ti(joint,"shapes")&&(t.cellViewNamespace=joint.shapes),ge(e)||(t.defaultConnector=mn(e)),ge(n)||(t.defaultRouter=mn(n)),ge(i)||(t.defaultConnectionPoint=mn(i)),ge(r)||(t.defaultAnchor=mn(r)),ge(s)||(t.defaultLinkAnchor=mn(s)),ze(c)&&(t.interactive=Mt({},c)),ze(a)&&(t.highlighting=zf({},a,ox)),t.origin=Mt({},o)},children:function(){var t=$.namespace;return[{namespaceURI:t.xhtml,tagName:"div",className:di("paper-background"),selector:"background"},{namespaceURI:t.xhtml,tagName:"div",className:di("paper-grid"),selector:"grid"},{namespaceURI:t.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":t.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:di("layers"),selector:"layers"}]}]},hasLayerView(t){return t in this._layers},getLayerView(t){const{_layers:e}=this;if(t in e)return e[t];throw new Error(`dia.Paper: Unknown layer "${t}"`)},getLayerNode(t){return this.getLayerView(t).el},render:function(){this.renderChildren();const{childNodes:t,options:e}=this,{svg:n,defs:i,layers:r,background:s,grid:o}=t;return n.style.overflow=e.overflow?"visible":"hidden",this.svg=n,this.defs=i,this.layers=r,this.$background=Jt(s),this.$grid=Jt(o),this.renderLayers(),$.ensureId(n),e.background&&this.drawBackground(e.background),e.drawGrid&&this.drawGrid(),this},renderLayers:function(t=cH){this.removeLayers(),t.forEach(({name:r,sorted:s})=>{const o=new LO({name:r});this.layers.appendChild(o.el),this._layers[r]=o});const e=this.getLayerView(ti.CELLS),n=this.getLayerView(ti.TOOLS),i=this.getLayerView(ti.LABELS);this.tools=n.el,this.cells=this.viewport=e.el,e.vel.addClass(di("viewport")),i.vel.addClass(di("viewport"))},removeLayers:function(){const{_layers:t}=this;Object.keys(t).forEach(e=>{t[e].remove(),delete t[e]})},resetLayers:function(){const{_layers:t}=this;Object.keys(t).forEach(e=>{t[e].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(t){var e=this.layers;if(t===void 0){var n=e.getAttribute("transform");return(this._viewportTransformString||null)===n?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=n),$.createSVGMatrix(t)}t=$.createSVGMatrix(t);var i=$.matrixToTransformString(t);return e.setAttribute("transform",i),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return $.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(t,e,n){if(t instanceof qt)for(var i=t.model,r=this.model.getConnectedLinks(i),s=0,o=r.length;s<o;s++){var a=r[s],l=this.findViewByModel(a);if(l){var c=["UPDATE"];a.getTargetCell()===i&&c.push("TARGET"),a.getSourceCell()===i&&c.push("SOURCE");var u=Math.max(e+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(c),u,n)}}},forcePostponedViewUpdate:function(t,e){if(!t||!(t instanceof qt))return!1;var n=t.model;if(n.isElement())return!1;if(!(e&t.getFlag(["SOURCE","TARGET"]))){var i={silent:!0},r=0,s=this.findViewByModel(n.getSourceCell());s&&!this.isViewMounted(s)&&(r=this.dumpView(s,i),t.updateEndMagnet("source"));var o=0,a=this.findViewByModel(n.getTargetCell());if(a&&!this.isViewMounted(a)&&(o=this.dumpView(a,i),t.updateEndMagnet("target")),r===0&&o===0)return!this.dumpView(t,i)}return!1},requestViewUpdate:function(t,e,n,i){i||(i={}),this.scheduleViewUpdate(t,e,n,i);var r=this.isAsync();if(!(this.isFrozen()||r&&i.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var s=this.updateViews(i);r&&this.notifyAfterRender(s,i)}},scheduleViewUpdate:function(t,e,n,i){const{_updates:r,options:s}=this;r.idle&&s.autoFreeze&&(r.idle=!1,this.unfreeze());const{FLAG_REMOVE:o,FLAG_INSERT:a,UPDATE_PRIORITY:l,cid:c}=t;let u=r.priorities[n];if(u||(u=r.priorities[n]={}),n>l)for(let p=n-1;p>=l;p--){const v=r.priorities[p];!v||!(c in v)||(u[c]|=v[c],delete v[c])}let f=u[c]||0;if((f&e)===e)return;f||r.count++,e&o&&f&a?u[c]^=a:e&a&&f&o&&(u[c]^=o),u[c]|=e;const g=s.onViewUpdate;typeof g=="function"&&g.call(this,t,e,n,i||{},this)},dumpViewUpdate:function(t){if(!t)return 0;var e=this._updates,n=t.cid,i=e.priorities[t.UPDATE_PRIORITY],r=this.registerMountedView(t)|i[n];return delete i[n],r},dumpView:function(t,e={}){const n=this.dumpViewUpdate(t);if(!n)return 0;const i=!e.silent;i&&this.notifyBeforeRender(e);const r=this.updateView(t,n,e);if(i){const s={updated:1,priority:t.UPDATE_PRIORITY};this.notifyAfterRender(s,e)}return r},updateView:function(t,e,n){if(!t)return 0;const{FLAG_REMOVE:i,FLAG_INSERT:r,FLAG_INIT:s,model:o}=t;if(t instanceof qt){if(e&i)return this.removeView(o),0;if(e&r){const a=!!(e&s);a&&(e^=s),this.insertView(t,a),e^=r}}return e?t.confirmUpdate(e,n||{}):0},requireView:function(t,e){var n=this.findViewByModel(t);return n?(this.dumpView(n,e),n):null},registerUnmountedView:function(t){var e=t.cid,n=this._updates;if(e in n.unmounted)return 0;var i=n.unmounted[e]|=t.FLAG_INSERT;return n.unmountedCids.push(e),delete n.mounted[e],i},registerMountedView:function(t){var e=t.cid,n=this._updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);var i=n.unmounted[e]||0;return delete n.unmounted[e],i},isViewMounted:function(t){if(!t)return!1;var e=t.cid,n=this._updates;return e in n.mounted},dumpViews:function(t){var e=Rn({},t,{viewport:null});this.checkViewport(e),this.updateViews(e)},updateViews:function(t){this.notifyBeforeRender(t);let e,n=0,i=0,r=Dc;do i++,e=this.updateViewsBatch(t),n+=e.updated,r=Math.min(e.priority,r);while(!e.empty);const s={updated:n,batches:i,priority:r};return this.notifyAfterRender(s,t),s},hasScheduledUpdates:function(){const t=this._updates.priorities,e=Object.keys(t);let n=e.length;for(;n>0&&n--;)for(let i in t[e[n]])return!0;return!1},updateViewsAsync:function(t,e){t||(t={}),e||(e={processed:0,priority:Dc});const{_updates:n,options:i}=this,r=n.id;if(r){Nu(r),e.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(t);const s=this.updateViewsBatch(t),o=Rn({},t,{mountBatchSize:sx-s.mounted,unmountBatchSize:sx-s.unmounted}),a=this.checkViewport(o),l=a.unmounted,c=a.mounted;let u=e.processed;const f=n.count;s.updated>0?(u+=s.updated+s.unmounted,s.processed=u,e.priority=Math.min(s.priority,e.priority),s.empty&&c===0?(s.unmounted+=l,s.mounted+=c,s.priority=e.priority,this.notifyAfterRender(s,t),e.processed=0,e.priority=Dc,n.count=0):e.processed=u):n.idle||i.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",t));const g=t.progress;if(f&&typeof g=="function"&&g.call(this,s.empty,u,f,s,this),n.id!==r)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=Tu(this.updateViewsAsync,this,t,e)},notifyBeforeRender:function(t={}){let e=t.beforeRender;typeof e!="function"&&(e=this.options.beforeRender,typeof e!="function")||e.call(this,t,this)},notifyAfterRender:function(t,e={}){let n=e.afterRender;typeof n!="function"&&(n=this.options.afterRender),typeof n=="function"&&n.call(this,t,e,this),this.trigger("render:done",t,e)},updateViewsBatch:function(t){t||(t={});var e=t.batchSize||lH,n=this._updates,i=0,r=0,s=0,o=0,a=Dc,l=!0,c=this.options,u=n.priorities,f="viewport"in t?t.viewport:c.viewport;typeof f!="function"&&(f=null);var g=c.onViewPostponed;typeof g!="function"&&(g=null);var p=Object.keys(u);t:for(var v=0,y=p.length;v<y;v++){var I=+p[v],_=u[I];for(var S in _){if(i>=e){l=!1;break t}var O=or[S];if(!O){delete _[S];continue}var R=_[S];if(!(R&O.FLAG_REMOVE)){var A=S in n.unmounted;if(O.DETACHABLE&&f&&!f.call(this,O,!A,this)){A||(this.registerUnmountedView(O),this.detachView(O)),n.unmounted[S]|=R,delete _[S],s++;continue}A&&(R|=O.FLAG_INSERT,o++),R|=this.registerMountedView(O)}var d=this.updateView(O,R,t);if(d>0&&(_[S]=d,!g||!g.call(this,O,d,this)||_[S])){r++,l=!1;continue}a>I&&(a=I),i++,delete _[S]}}return{priority:a,updated:i,postponed:r,unmounted:s,mounted:o,empty:l}},getUnmountedViews:function(){const t=this._updates,e=Object.keys(t.unmounted),n=e.length,i=new Array(n);for(var r=0;r<n;r++)i[r]=or[e[r]];return i},getMountedViews:function(){const t=this._updates,e=Object.keys(t.mounted),n=e.length,i=new Array(n);for(var r=0;r<n;r++)i[r]=or[e[r]];return i},checkUnmountedViews:function(t,e){e||(e={});var n=0;typeof t!="function"&&(t=null);for(var i=("mountBatchSize"in e)?e.mountBatchSize:1/0,r=this._updates,s=r.unmountedCids,o=r.unmounted,a=0,l=Math.min(s.length,i);a<l;a++){var c=s[a];if(c in o){var u=or[c];if(u){if(u.DETACHABLE&&t&&!t.call(this,u,!1,this)){s.push(c);continue}n++;var f=this.registerMountedView(u);f&&this.scheduleViewUpdate(u,f,u.UPDATE_PRIORITY,{mounting:!0})}}}return s.splice(0,a),n},checkMountedViews:function(t,e){e||(e={});var n=0;if(typeof t!="function")return n;for(var i=("unmountBatchSize"in e)?e.unmountBatchSize:1/0,r=this._updates,s=r.mountedCids,o=r.mounted,a=0,l=Math.min(s.length,i);a<l;a++){var c=s[a];if(c in o){var u=or[c];if(u){if(!u.DETACHABLE||t.call(this,u,!0,this)){s.push(c);continue}n++;var f=this.registerUnmountedView(u);f&&this.detachView(u)}}}return s.splice(0,a),n},checkViewVisibility:function(t,e={}){let n="viewport"in e?e.viewport:this.options.viewport;typeof n!="function"&&(n=null);const i=this._updates,{mounted:r,unmounted:s}=i,o=!t.DETACHABLE||!n||n.call(this,t,!1,this);let a=!1,l=!1;if(t.cid in r&&!o){this.registerUnmountedView(t)&&this.detachView(t);const f=i.mountedCids.indexOf(t.cid);i.mountedCids.splice(f,1),a=!0}if(!a&&t.cid in s&&o){const u=i.unmountedCids.indexOf(t.cid);i.unmountedCids.splice(u,1);var c=this.registerMountedView(t);c&&this.scheduleViewUpdate(t,c,t.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:a?1:0}},checkViewport:function(t){var e=Rn({},t,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in e?e.viewport:this.options.viewport,i=this.checkMountedViews(n,e);if(i>0){var r=this._updates.unmountedCids;e.mountBatchSize=Math.min(r.length-i,e.mountBatchSize)}var s=this.checkUnmountedViews(n,e);return{mounted:s,unmounted:i}},freeze:function(t){t||(t={});var e=this._updates,n=t.key,i=this.options.frozen,r=e.freezeKey;if(n&&n!==r){if(i&&r)return;e.freezeKey=n,e.keyFrozen=i}this.options.frozen=!0;var s=e.id;e.id=null,this.isAsync()&&s&&Nu(s)},unfreeze:function(t){t||(t={});var e=this._updates,n=t.key,i=e.freezeKey;n&&i&&n!==i||(e.freezeKey=null,!(n&&n===i&&e.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(t)):this.updateViews(t),this.options.frozen=e.keyFrozen=!1,e.sort&&(this.sortViews(),e.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===fo.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var t=this.options,e=t.width,n=t.height;return Sn(e)||(e=this.el.clientWidth),Sn(n)||(n=this.el.clientHeight),{width:e,height:n}},setDimensions:function(t,e){const{options:n}=this,{width:i,height:r}=n;let s=t===void 0?i:t,o=e===void 0?r:e;if(i===s&&r===o)return;n.width=s,n.height=o,this._setDimensions();const a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){const{options:t}=this;let e=t.width,n=t.height;Sn(e)&&(e=Math.round(e)),Sn(n)&&(n=Math.round(n)),this.$el.css({width:e===null?"":e,height:n===null?"":n})},setOrigin:function(t,e){return this.translate(t||0,e||0)},fitToContent:function(t,e,n,i){se(t)?i=t:i=Mt({gridWidth:t,gridHeight:e,padding:n},i);const{x:r,y:s,width:o,height:a}=this.getFitToContentArea(i),{sx:l,sy:c}=this.scale();return this.setOrigin(-r*l,-s*c),this.setDimensions(o*l,a*c),new vt(r,s,o,a)},getFitToContentArea:function(t={}){const e=t.gridWidth||1,n=t.gridHeight||1,i=mr(t.padding||0),r=Math.max(t.minWidth||0,e),s=Math.max(t.minHeight||0,n),o=t.maxWidth||Number.MAX_VALUE,a=t.maxHeight||Number.MAX_VALUE,l=t.allowNewOrigin,c="contentArea"in t?new vt(t.contentArea):this.getContentArea(t),{sx:u,sy:f}=this.scale();c.x*=u,c.y*=f,c.width*=u,c.height*=f;let g=Math.ceil((c.width+c.x)/e),p=Math.ceil((c.height+c.y)/n);t.allowNegativeBottomRight||(g=Math.max(g,1),p=Math.max(p,1)),g*=e,p*=n;let v=0;(l==="negative"&&c.x<0||l==="positive"&&c.x>=0||l==="any")&&(v=Math.ceil(-c.x/e)*e,v+=i.left,g+=v);let y=0;return(l==="negative"&&c.y<0||l==="positive"&&c.y>=0||l==="any")&&(y=Math.ceil(-c.y/n)*n,y+=i.top,p+=y),g+=i.right,p+=i.bottom,g=Math.max(g,r),p=Math.max(p,s),g=Math.min(g,o),p=Math.min(p,a),new vt(-v/u,-y/f,g/u,p/f)},transformToFitContent:function(t){t||(t={});let e,n;if("contentArea"in t){const I=t.contentArea;e=this.localToPaperRect(I),n=new Z(I)}else e=this.getContentBBox(t),n=this.paperToLocalPoint(e);if(!e.width||!e.height)return;Rn(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const i=mr(t.padding),r=t.minScaleX||t.minScale,s=t.maxScaleX||t.maxScale,o=t.minScaleY||t.minScale,a=t.maxScaleY||t.maxScale;let l;if(t.fittingBBox)l=t.fittingBBox;else{const I=this.translate(),_=this.getComputedSize();l={x:I.tx,y:I.ty,width:_.width,height:_.height}}l=new vt(l).moveAndExpand({x:i.left,y:i.top,width:-i.left-i.right,height:-i.top-i.bottom});const c=this.scale();let u=l.width/e.width*c.sx,f=l.height/e.height*c.sy;if(t.preserveAspectRatio&&(u=f=Math.min(u,f)),t.scaleGrid){const I=t.scaleGrid;u=I*Math.floor(u/I),f=I*Math.floor(f/I)}u=Math.min(s,Math.max(r,u)),f=Math.min(a,Math.max(o,f));const g={x:u/c.sx,y:f/c.sy},p=this.options.origin;let v=l.x-n.x*u-p.x,y=l.y-n.y*f-p.y;switch(t.verticalAlign){case"middle":y=y+(l.height-e.height*g.y)/2;break;case"bottom":y=y+(l.height-e.height*g.y);break}switch(t.horizontalAlign){case"middle":v=v+(l.width-e.width*g.x)/2;break;case"right":v=v+(l.width-e.width*g.x);break}this.scale(u,f),this.translate(v,y)},scaleContentToFit:function(t){this.transformToFitContent(t)},getContentArea:function(t){return t&&t.useModelGeometry?this.model.getBBox()||new vt:$(this.cells).getBBox()},getContentBBox:function(t){return this.localToPaperRect(this.getContentArea(t))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...t){const{restrictTranslate:e}=this.options;let n;return ge(e)?n=e.apply(this,t):e===!0?n=this.getArea():e?n=new vt(e):n=null,n},createViewForModel:function(t){const{options:e}=this;var n,i,r=e.cellViewNamespace,s=t.get("type")+"View",o=zo(r,s,".");t.isLink()?(n=e.linkView,i=Co):(n=e.elementView,i=We);var a=n.prototype instanceof Qe.View?o||n:n.call(this,t)||o||i;return new a({model:t,interactive:e.interactive,labelsLayer:e.labelsLayer===!0?ti.LABELS:e.labelsLayer})},removeView:function(t){const{id:e}=t,{_views:n,_updates:i}=this,r=n[e];if(r){var{cid:s}=r;const{mounted:o,unmounted:a}=i;r.remove(),delete n[e],delete o[s],delete a[s]}return r},renderView:function(t,e){const{id:n}=t,i=this._views;let r,s,o=!0;return n in i&&(r=i[n],r.model===t?(s=r.FLAG_INSERT,o=!1):this.removeView(t)),o&&(r=i[n]=this.createViewForModel(t),r.paper=this,s=this.registerUnmountedView(r)|this.FLAG_INIT|r.getFlag(Be(r,"initFlag"))),this.requestViewUpdate(r,s,r.UPDATE_PRIORITY,e),r},onImageDragStart:function(){return!1},resetViews:function(t,e){e||(e={}),t||(t=[]),this._resetUpdates(),this.removeViews();const n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var i=0,r=t.length;i<r;i++)this.renderView(t[i],e);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){ii(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var t=Jt(this.cells).children("[model-id]"),e=this.model.get("cells");AO(t,function(n,i){var r=e.get(n.getAttribute("model-id")),s=e.get(i.getAttribute("model-id")),o=r.attributes.z||0,a=s.attributes.z||0;return o===a?0:o<a?-1:1})},insertView:function(t,e){const n=this.getLayerView(ti.CELLS),{el:i,model:r}=t;switch(this.options.sorting){case fo.APPROX:n.insertSortedNode(i,r.get("z"));break;case fo.EXACT:default:n.insertNode(i);break}t.onMount(e)},detachView(t){t.unmount(),t.onDetach()},scale:function(t,e,n,i){if(t===void 0)return $.matrixToScale(this.matrix());e===void 0&&(e=t),n===void 0&&(n=0,i=0);var r=this.translate();if(n||i||r.tx||r.ty){var s=r.tx-n*(t-1),o=r.ty-i*(e-1);this.translate(s,o)}t=Math.max(t||0,this.MIN_SCALE),e=Math.max(e||0,this.MIN_SCALE);var a=this.matrix();return a.a=t,a.d=e,this.matrix(a),this.trigger("scale",t,e,n,i),this},rotate:function(t,e,n){if(t===void 0)return $.matrixToRotate(this.matrix());if(e===void 0){var i=this.cells.getBBox();e=i.width/2,n=i.height/2}var r=this.matrix().translate(e,n).rotate(t).translate(-e,-n);return this.matrix(r),this},translate:function(t,e){if(t===void 0)return $.matrixToTranslate(this.matrix());const{options:n}=this,{origin:i,drawGrid:r}=n;t||(t=0),e||(e=0);const s=this.matrix();if(s.e===t&&s.f===e)return this;s.e=t,s.f=e,this.matrix(s);const{tx:o,ty:a}=this.translate();return i.x=o,i.y=a,this.trigger("translate",o,a),r&&this.drawGrid(),this},findView:function(t){var e=fn(t)?this.cells.querySelector(t):t instanceof Jt?t[0]:t,n=this.findAttribute("model-id",e);if(n)return this._views[n]},findViewByModel:function(t){var e=fn(t)||Sn(t)?t:t&&t.id;return this._views[e]},findViewsFromPoint:function(t){t=new Z(t);var e=this.model.getElements().map(this.findViewByModel,this);return e.filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(t)},this)},findViewsInArea:function(t,e){e=Rn(e||{},{strict:!1}),t=new vt(t);var n=this.model.getElements().map(this.findViewByModel,this),i=e.strict?"containsRect":"intersect";return n.filter(function(r){return r&&t[i](r.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(t,...e){typeof t=="string"&&this.trigger("tools:event",t,...e)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var n=new Z(t,e),i=$.transformPoint(n,this.matrix());return i},localToPaperRect:function(t,e,n,i){var r=new vt(t,e,n,i),s=$.transformRect(r,this.matrix());return s},paperToLocalPoint:function(t,e){var n=new Z(t,e),i=$.transformPoint(n,this.matrix().inverse());return i},paperToLocalRect:function(t,e,n,i){var r=new vt(t,e,n,i),s=$.transformRect(r,this.matrix().inverse());return s},localToClientPoint:function(t,e){var n=new Z(t,e),i=$.transformPoint(n,this.clientMatrix());return i},localToClientRect:function(t,e,n,i){var r=new vt(t,e,n,i),s=$.transformRect(r,this.clientMatrix());return s},clientToLocalPoint:function(t,e){var n=new Z(t,e),i=$.transformPoint(n,this.clientMatrix().inverse());return i},clientToLocalRect:function(t,e,n,i){var r=new vt(t,e,n,i),s=$.transformRect(r,this.clientMatrix().inverse());return s},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,n,i){return this.localToPaperRect(t,e,n,i).offset(this.pageOffset())},pageToLocalPoint:function(t,e){var n=new Z(t,e),i=n.difference(this.pageOffset());return this.paperToLocalPoint(i)},pageToLocalRect:function(t,e,n,i){var r=this.pageOffset(),s=new vt(t,e,n,i);return s.x-=r.x,s.y-=r.y,this.paperToLocalRect(s)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return new Z(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){if(!(t instanceof Co))throw new Error("Must provide a linkView.");var e=t.model,n=this.options,i=this.model,r=i.constructor.validations;return!(!n.multiLinks&&!r.multiLinks.call(this,i,e)||!n.linkPinning&&!r.linkPinning.call(this,i,e)||typeof n.allowLink=="function"&&!n.allowLink.call(this,t,this))},getDefaultLink:function(t,e){return ge(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t={}){let{highlighter:e,type:n}=t;const{highlighting:i,highlighterNamespace:r}=this.options;if(e===void 0){if(!i||n&&(e=i[n],e===!1))return!1;e||(e=i.default)}if(!e)return!1;fn(e)&&(e={name:e});const s=e.name,o=r[s];if(!o)throw new Error('Unknown highlighter ("'+s+'")');if(typeof o.highlight!="function")throw new Error('Highlighter ("'+s+'") is missing required highlight() method');if(typeof o.unhighlight!="function")throw new Error('Highlighter ("'+s+'") is missing required unhighlight() method');return{highlighter:o,options:e.options||{},name:s}},onCellHighlight:function(t,e,n){const i=this.resolveHighlighter(n);if(!i)return;const{highlighter:r,options:s}=i;r.highlight(t,e,s)},onCellUnhighlight:function(t,e,n){const i=this.resolveHighlighter(n);if(!i)return;const{highlighter:r,options:s}=i;r.unhighlight(t,e,s)},pointerdblclick:function(t){t.preventDefault(),t=de(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.pointerdblclick(t,n.x,n.y):this.trigger("blank:pointerdblclick",t,n.x,n.y)}},pointerclick:function(t){var e=this.eventData(t);if(e.mousemoved<=this.options.clickThreshold){t=de(t);var n=this.findView(t.target);if(this.guard(t,n))return;var i=this.snapToGrid(t.clientX,t.clientY);n?n.pointerclick(t,i.x,i.y):this.trigger("blank:pointerclick",t,i.x,i.y)}},contextmenu:function(t){if(this.options.preventContextMenu&&t.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}t=de(t),this.contextMenuTrigger(t)},contextMenuTrigger:function(t){var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.contextmenu(t,n.x,n.y):this.trigger("blank:contextmenu",t,n.x,n.y)}},pointerdown:function(t){t=de(t);const{target:e,button:n}=t,i=this.findView(e),r=n===2;if(i){if(!r&&this.guard(t,i))return;const s=this.FORM_CONTROL_TAG_NAMES.includes(e.tagName);this.options.preventDefaultViewAction&&!s&&t.preventDefault(),s&&i.preventDefaultInteraction(t);const o=i.el,a=e.closest("[event]");if(a&&o!==a&&i.el.contains(a)){const c=de(Jt.Event(t.originalEvent,{data:t.data,currentTarget:a}));if(this.onevent(c),c.isDefaultPrevented()&&t.preventDefault(),c.isPropagationStopped())return;t.data=c.data}const l=e.closest("[magnet]");if(l&&i.el!==l&&i.el.contains(l)){const c=de(Jt.Event(t.originalEvent,{data:t.data,currentTarget:l}));if(this.onmagnet(c),c.isDefaultPrevented()&&t.preventDefault(),c.isPropagationStopped()){if(r)return;this.delegateDragEvents(i,c.data);return}t.data=c.data}}if(r){this.contextMenuFired=!0;const s=Jt.Event(t.originalEvent,{type:"contextmenu",data:t.data});this.contextMenuTrigger(s)}else{const s=this.snapToGrid(t.clientX,t.clientY);i?i.pointerdown(t,s.x,s.y):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,s.x,s.y)),this.delegateDragEvents(i,t.data)}},pointermove:function(t){var e=this.eventData(t);e.mousemoved||(e.mousemoved=0,this.undelegateEvents());var n=++e.mousemoved;if(!(n<=this.options.moveThreshold)){t=de(t);var i=this.snapToGrid(t.clientX,t.clientY),r=e.sourceView;r?r.pointermove(t,i.x,i.y):this.trigger("blank:pointermove",t,i.x,i.y),this.eventData(t,e)}},pointerup:function(t){this.undelegateDocumentEvents();var e=de(t),n=this.snapToGrid(e.clientX,e.clientY),i=this.eventData(t).sourceView;i?i.pointerup(e,n.x,n.y):this.trigger("blank:pointerup",e,n.x,n.y),e.isPropagationStopped()||this.pointerclick(Jt.Event(t.originalEvent,{type:"click",data:t.data})),this.delegateEvents()},mouseover:function(t){t=de(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseover(t);else{if(this.el===t.target)return;this.trigger("blank:mouseover",t)}},mouseout:function(t){t=de(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseout(t);else{if(this.el===t.target)return;this.trigger("blank:mouseout",t)}},mouseenter:function(t){t=de(t);const{target:e,relatedTarget:n,currentTarget:i}=t,r=this.findView(e);if(this.guard(t,r))return;const s=this.findView(n);r&&(s===r||(r.mouseenter(t),this.el.contains(n)))||s||i===this.el&&this.trigger("paper:mouseenter",t)},mouseleave:function(t){t=de(t);const{target:e,relatedTarget:n,currentTarget:i}=t,r=this.findView(e);if(this.guard(t,r))return;const s=this.findView(n);r&&(s===r||(r.mouseleave(t),this.el.contains(n)))||s||i===this.el&&this.trigger("paper:mouseleave",t)},_processMouseWheelEvtBuf:rO(function(){const{event:t,deltas:e}=this._mw_evt_buffer,n=e.reduce((o,a)=>o+pO(a,aH),0),i=Math.pow(.995,n),{x:r,y:s}=this.clientToLocalPoint(t.clientX,t.clientY);this.trigger("paper:pinch",t,r,s,i),this._mw_evt_buffer={event:null,deltas:[]}},rx,{maxWait:rx}),mousewheel:function(t){t=de(t);const e=this.findView(t.target);if(this.guard(t,e))return;const n=t.originalEvent,i=this.snapToGrid(n.clientX,n.clientY),{deltaX:r,deltaY:s}=gO(n),o=this._events["paper:pinch"];if(t.ctrlKey&&o&&o.length>0)n.preventDefault(),this._mw_evt_buffer.event=n,this._mw_evt_buffer.deltas.push(s),this._processMouseWheelEvtBuf();else{const a=Math.max(-1,Math.min(1,n.wheelDelta));e?e.mousewheel(t,i.x,i.y,a):this.trigger("blank:mousewheel",t,i.x,i.y,a),this.trigger("paper:pan",t,r,s)}},onevent:function(t){var e=t.currentTarget,n=e.getAttribute("event");if(n){var i=this.findView(e);if(i){if(t=de(t),this.guard(t,i))return;var r=this.snapToGrid(t.clientX,t.clientY);i.onevent(t,n,r.x,r.y)}}},magnetEvent:function(t,e){var n=t.currentTarget,i=n.getAttribute("magnet");if(i){var r=this.findView(n);if(r){if(t=de(t),this.guard(t,r))return;var s=this.snapToGrid(t.clientX,t.clientY);e.call(this,r,t,n,s.x,s.y)}}},onmagnet:function(t){if(t.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const e=Jt.Event(t.originalEvent,{type:"contextmenu",data:t.data,currentTarget:t.currentTarget});this.magnetContextMenuTrigger(e),e.isPropagationStopped()&&t.stopPropagation()}else this.magnetEvent(t,function(e,n,i,r,s){e.onmagnet(n,r,s)})},magnetpointerdblclick:function(t){this.magnetEvent(t,function(e,n,i,r,s){e.magnetpointerdblclick(n,i,r,s)})},magnetcontextmenu:function(t){if(this.options.preventContextMenu&&t.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(t)},magnetContextMenuTrigger:function(t){this.magnetEvent(t,function(e,n,i,r,s){e.magnetcontextmenu(n,i,r,s)})},onlabel:function(t){var e=t.currentTarget,n=this.findView(e);if(n){if(t=de(t),this.guard(t,n))return;var i=this.snapToGrid(t.clientX,t.clientY);n.onlabel(t,i.x,i.y)}},getPointerArgs(t){const e=de(t),{x:n,y:i}=this.snapToGrid(e.clientX,e.clientY);return[e,n,i]},delegateDragEvents:function(t,e){e||(e={}),this.eventData({data:e},{sourceView:t||null,mousemoved:0}),this.delegateDocumentEvents(null,e)},guard:function(t,e){if(t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e))return!0;if(t.data&&t.data.guarded!==void 0)return t.data.guarded;const{target:n}=t;return this.GUARDED_TAG_NAMES.includes(n.tagName)?!0:!(e&&e.model&&e.model instanceof Ei||this.svg===n||this.el===n||Jt.contains(this.svg,n))},setGridSize:function(t){const{options:e}=this;return e.gridSize=t,e.drawGrid&&!e.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:$("svg",{width:"100%",height:"100%"},$("defs")),patterns:{},add:function(t,e){$(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append($("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return this.patterns[t]!==void 0}}),this._gridCache},setGrid:function(t){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var e=Array.isArray(t)?t:[t||{}];return e.forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(fn(t)&&Array.isArray(e[t]))return e[t].map(function(l){return Mt({},l)});var n=t||{args:[{}]},i=Array.isArray(n),r=n.name;if(!i&&!r&&!n.markup&&(r="dot"),r&&Array.isArray(e[r])){var s=e[r].map(function(l){return Mt({},l)}),o=Array.isArray(n.args)?n.args:[n.args||{}];Rn(o[0],pr(t,"args"));for(var a=0;a<o.length;a++)s[a]&&Mt(s[a],o[a]);return s}return i?n:[n]},drawGrid:function(t){const e=this.options.drawGridSize||this.options.gridSize;if(e<=1)return this.clearGrid();var n=Array.isArray(t)?t:[t],i=this.matrix(),r=this._getGridRefs();this._gridSettings.forEach(function(o,a){var l="pattern_"+a,c=Ze(o,n[a],{sx:i.a||1,sy:i.d||1,ox:i.e||0,oy:i.f||0});c.width=e*(i.a||1)*(c.scaleFactor||1),c.height=e*(i.d||1)*(c.scaleFactor||1),r.exist(l)||r.add(l,$("pattern",{id:l,patternUnits:"userSpaceOnUse"},$(c.markup)));var u=r.get(l);ge(c.update)&&c.update(u.node.childNodes[0],c);var f=c.ox%c.width;f<0&&(f+=c.width);var g=c.oy%c.height;g<0&&(g+=c.height),u.attr({x:f,y:g,width:c.width,height:c.height})});var s=new XMLSerializer().serializeToString(r.root.node);return s="url(data:image/svg+xml;base64,"+btoa(s)+")",this.$grid.css("backgroundImage",s),this},updateBackgroundImage:function(t){t=t||{};var e=t.position||"center",n=t.size||"auto auto",i=this.scale(),r=this.translate();if(se(e)){var s=r.tx+i.sx*(e.x||0),o=r.ty+i.sy*(e.y||0);e=s+"px "+o+"px"}se(n)&&(n=new vt(n).scale(i.sx,i.sy),n=n.width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(!(t instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==e.id)){e=e||{};var n,i=e.size,r=e.repeat||"no-repeat",s=e.opacity||1,o=Math.abs(e.quality)||1,a=this.constructor.backgroundPatterns[aO(r)];if(ge(a)){t.width*=o,t.height*=o;var l=a(t,e);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=l.toDataURL("image/png"),r="repeat",se(i)?(i.width*=l.width/t.width,i.height*=l.height/t.height):i===void 0&&(e.size={width:l.width/o,height:l.height/o})}else n=t.src,i===void 0&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:s,backgroundRepeat:r,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(e)}},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(t=t||{},this.updateBackgroundColor(t.color),t.image){t=this._background=mn(t),Ts(t);var e=document.createElement("img");e.onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,ii(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!se(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,n=t.name;if(e||(e=n+this.svg.id+Ta(JSON.stringify(t))),!this.isDefined(e)){var i=wO,r=i[n]&&i[n](t.args||{});if(!r)throw new Error("Non-existing filter "+n);var s=Mt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});$(r,s).appendTo(this.defs)}return e},defineGradient:function(t){if(!se(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{type:i,id:r=i+e.id+Ta(JSON.stringify(t)),stops:s,attrs:o={}}=t;if(this.isDefined(r))return r;const a=ee(s).map(({offset:c,color:u,opacity:f})=>$("stop").attr({offset:c,"stop-color":u,"stop-opacity":Number.isFinite(f)?f:1})),l=$(i,o,a);return l.id=r,l.appendTo(n),r},definePattern:function(t){if(!se(t))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{id:i=e.id+Ta(JSON.stringify(t)),markup:r,attrs:s={}}=t;if(!r)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(i))return i;const o=$("pattern",{patternUnits:"userSpaceOnUse"});if(o.id=i,o.attr(s),typeof r=="string")o.append($(r));else{const{fragment:a}=ml(r);o.append(a)}return o.appendTo(n),i},defineMarker:function(t){if(!se(t))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:e,defs:n}=this,{id:i=e.id+Ta(JSON.stringify(t)),markup:r,attrs:s={},markerUnits:o="userSpaceOnUse"}=t;if(this.isDefined(i))return i;const a=$("marker",{orient:"auto",overflow:"visible",markerUnits:o});a.id=i,a.attr(s);let l;if(r){let f;if(typeof r=="string")f=$(r),f=Array.isArray(f)?f:[f];else{const{fragment:g}=ml(r);f=$(g).children()}f.length>1?l=$("g").append(f):l=f[0]}else{const{type:f="path"}=t;l=$(f)}const c=pr(t,"type","id","markup","attrs","markerUnits");return Object.keys(c).forEach(f=>{const g=c[f],p=l.attr(f);if(p==null)l.attr(f,g);else switch(f){case"transform":l.attr(f,g+" "+p);break}}),l.appendTo(a),a.appendTo(n),i}},{sorting:fo,Layers:ti,backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),n=t.width,i=t.height;e.width=2*n,e.height=2*i;var r=e.getContext("2d");return r.drawImage(t,0,0,n,i),r.setTransform(-1,0,0,-1,e.width,e.height),r.drawImage(t,0,0,n,i),r.setTransform(-1,0,0,1,e.width,0),r.drawImage(t,0,0,n,i),r.setTransform(1,0,0,-1,0,e.height),r.drawImage(t,0,0,n,i),e},flipX:function(t){var e=document.createElement("canvas"),n=t.width,i=t.height;e.width=n*2,e.height=i;var r=e.getContext("2d");return r.drawImage(t,0,0,n,i),r.translate(2*n,0),r.scale(-1,1),r.drawImage(t,0,0,n,i),e},flipY:function(t){var e=document.createElement("canvas"),n=t.width,i=t.height;e.width=n,e.height=i*2;var r=e.getContext("2d");return r.drawImage(t,0,0,n,i),r.translate(0,2*i),r.scale(1,-1),r.drawImage(t,0,0,n,i),e},watermark:function(t,e){e=e||{};var n=t.width,i=t.height,r=document.createElement("canvas");r.width=n*3,r.height=i*3;for(var s=r.getContext("2d"),o=Sn(e.watermarkAngle)?-e.watermarkAngle:-20,a=jn(o),l=r.width/4,c=r.height/4,u=0;u<4;u++)for(var f=0;f<4;f++)(u+f)%2>0&&(s.setTransform(1,0,0,1,(2*u-1)*l,(2*f-1)*c),s.rotate(a),s.drawImage(t,-n/2,-i/2,n,i));return r}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){$(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var n=e.sx<=1?e.thickness*e.sx:e.thickness;$(t).attr({width:n,height:n,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,i=e.width,r=e.height,s=e.thickness;i-s>=0&&r-s>=0?n=["M",i,0,"H0 M0 0 V0",r].join(" "):n="M 0 0 0 0",$(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,i=e.width,r=e.height,s=e.thickness;i-s>=0&&r-s>=0?n=["M",i,0,"H0 M0 0 V0",r].join(" "):n="M 0 0 0 0",$(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var n,i=e.width,r=e.height,s=e.thickness;i-s>=0&&r-s>=0?n=["M",i,0,"H0 M0 0 V0",r].join(" "):n="M 0 0 0 0",$(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}]}}),Ir=yi.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var t=this.name;t&&this.vel.attr("data-tool-name",t)},configure:function(t,e){return this.relatedView=t,this.paper=t.paper,this.parentView=e,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(t){t&&t.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var t=this.options.focusOpacity;isFinite(t)&&(this.el.style.opacity=t),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(t){const{paper:e,relatedView:n}=this;return!e||!n?!0:e.guard(t,n)}}),fH=yi.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(t){t=Mt(this.options,t);var e=t.tools;if(!Array.isArray(e))return this;var n=t.relatedView;if(!(n instanceof qt))return this;for(var i=this.tools=[],r=0,s=e.length;r<s;r++){var o=e[r];o instanceof Ir&&(o.configure(n,this),this.vel.append(o.el),i.push(o))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(t){t||(t={});var e=this.tools;if(!e)return this;for(var n=this.isRendered,i=0,r=e.length;i<r;i++){var s=e[i];n?t.tool!==s.cid&&s.isVisible()&&s.update():s.render()}return this.isMounted()||this.mount(),n||(this.blurTool(),this.isRendered=!0),this},focusTool:function(t){var e=this.tools;if(!e)return this;for(var n=0,i=e.length;n<i;n++){var r=e[n];t===r?r.show():r.hide()}return this},blurTool:function(t){var e=this.tools;if(!e)return this;for(var n=0,i=e.length;n<i;n++){var r=e[n];r!==t&&!r.isVisible()&&(r.show(),r.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var t=this.tools;if(!t)return this;for(var e=0,n=t.length;e<n;e++)t[e].remove();this.tools=null},mount:function(){const{options:t,el:e}=this,{relatedView:n,layer:i=ti.TOOLS,z:r}=t;return n&&(i?n.paper.getLayerView(i).insertSortedNode(e,r):n.el.appendChild(e)),this}}),hH=Object.freeze(Object.defineProperty({__proto__:null,Cell:Ei,CellView:qt,Element:Pe,ElementView:We,Graph:ur,HighlighterView:gi,LayersNames:ti,Link:sn,LinkView:Co,Paper:uH,PaperLayer:LO,ToolView:Ir,ToolsView:fH,attributes:OA},Symbol.toStringTag,{value:"Module"})),vl={exportElement:function(t){return t.size()},exportLink:function(t){var e=t.get("labelSize")||{},n={minLen:t.get("minLen")||1,weight:t.get("weight")||1,labelpos:t.get("labelPosition")||"c",labeloffset:t.get("labelOffset")||0,width:e.width||0,height:e.height||0};return n},importElement:function(t,e,n){var i=this.getCell(e),r=n.node(e);t.setPosition?t.setPosition(i,r):i.set("position",{x:r.x-r.width/2,y:r.y-r.height/2})},importLink:function(t,e,n){const r=this.getCell(e.name),s=n.edge(e),o=s.points||[],a=new Ce(o);if(t.setVertices||t.setLinkVertices)if(ge(t.setVertices))t.setVertices(r,o);else{a.simplify({threshold:.001});const l=a.points.map(u=>u.toJSON()),c=l.length;r.set("vertices",l.slice(1,c-1))}if(t.setLabels&&"x"in s&&"y"in s){const l={x:s.x,y:s.y};if(ge(t.setLabels))t.setLabels(r,l,o);else{const c=a.closestPointLength(l),u=a.pointAtLength(c),f=c/a.length(),g=new Z(l).difference(u).toJSON();r.label(0,{position:{distance:f,offset:g}})}}},layout:function(t,e){var n;t instanceof ur?n=t:n=new ur().resetCells(t,{dry:!0,sort:!1}),t=null,e=Rn(e||{},{resizeClusters:!0,clusterPadding:10,exportElement:this.exportElement,exportLink:this.exportLink});const i=e.dagre||(typeof dagre<"u"?dagre:void 0);if(i===void 0)throw new Error('The the "dagre" utility is a mandatory dependency.');var r=vl.toGraphLib(n,{graphlib:e.graphlib,directed:!0,multigraph:!0,compound:!0,setNodeLabel:e.exportElement,setEdgeLabel:e.exportLink,setEdgeName:function(u){return u.id}}),s={},o=e.marginX||0,a=e.marginY||0;if(e.rankDir&&(s.rankdir=e.rankDir),e.align&&(s.align=e.align),e.nodeSep&&(s.nodesep=e.nodeSep),e.edgeSep&&(s.edgesep=e.edgeSep),e.rankSep&&(s.ranksep=e.rankSep),e.ranker&&(s.ranker=e.ranker),o&&(s.marginx=o),a&&(s.marginy=a),r.setGraph(s),i.layout(r,{debugTiming:!!e.debugTiming}),n.startBatch("layout"),vl.fromGraphLib(r,{importNode:this.importElement.bind(n,e),importEdge:this.importLink.bind(n,e)}),e.resizeClusters){var l=r.nodes().filter(function(u){return r.children(u).length>0}).map(n.getCell.bind(n)).sort(function(u,f){return f.getAncestors().length-u.getAncestors().length});ii(l,"fitToChildren",{padding:e.clusterPadding})}n.stopBatch("layout");var c=r.graph();return new vt(o,a,Math.abs(c.width-2*o),Math.abs(c.height-2*a))},fromGraphLib:function(t,e){e=e||{};var n=e.importNode||Is,i=e.importEdge||Is,r=this instanceof ur?this:new ur;return t.nodes().forEach(function(s){n.call(r,s,t,r,e)}),t.edges().forEach(function(s){i.call(r,s,t,r,e)}),r},toGraphLib:function(t,e){e=e||{};const n=e.graphlib||(typeof graphlib<"u"?graphlib:void 0);if(n===void 0)throw new Error('The the "graphlib" utility is a mandatory dependency.');for(var i=EA(e,"directed","compound","multigraph"),r=new n.Graph(i),s=e.setNodeLabel||Is,o=e.setEdgeLabel||Is,a=e.setEdgeName||Is,l=t.get("cells"),c=0,u=l.length;c<u;c++){var f=l.at(c);if(f.isLink()){var g=f.get("source"),p=f.get("target");if(!g.id||!p.id)break;r.setEdge(g.id,p.id,o(f),a(f))}else if(r.setNode(f.id,s(f)),r.isCompound()&&f.has("parent")){var v=f.get("parent");l.has(v)&&r.setParent(f.id,v)}}return r}};ur.prototype.toGraphLib=function(t){return vl.toGraphLib(this,t)};ur.prototype.fromGraphLib=function(t,e){return vl.fromGraphLib.call(this,t,e)};const dH=Object.freeze(Object.defineProperty({__proto__:null,DirectedGraph:vl,Port:TO,PortLabel:DO},Symbol.toStringTag,{value:"Module"})),FA={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return this._tests[t]=e},test:function(t){var e=this._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[t];if(typeof n<"u")return n;try{n=e()}catch{n=!1}return this._results[t]=n,n}},ce=Pe.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),gH=ce.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),pH=We.extend({presentationAttributes:We.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var t=We.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"SCALE")&&(this.resize(),t=this.removeFlag(t,"SCALE")),t}}),mH=ce.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),ZA=ce.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),vH=ce.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),yH=ce.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),bH=ce.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),AH=ce.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),QO=ce.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),IH=QO.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),Du=FA.test("svgforeignobject"),wH=ce.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Du?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),ce.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":Mt({},e),div:{style:Mt({},e)}})},updateContent:function(t,e){Du?this.attr({".content":{html:vO(e)}}):this.attr({".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),CH=We.extend({presentationAttributes:Du?We.prototype.presentationAttributes:We.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var t=We.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"CONTENT")&&(this.updateContent(this.model),t=this.removeFlag(t,"CONTENT")),t},update:function(t,e){var n=this.model;if(Du)We.prototype.update.call(this,n,e);else{var i=pr(e||n.get("attrs"),".content");We.prototype.update.call(this,n,i),(!e||Ti(e,".content"))&&this.updateContent(n,e)}},updateContent:function(t,e){var n=Ze({},(e||t.get("attrs"))[".content"]);n=pr(n,"text");var i=PA(t.get("content"),t.get("size"),n,{svgDocument:this.paper.svg}),r=Mu({},".content",n,"/");r[".content"].text=i,We.prototype.update.call(this,t,r)}}),xH=Object.freeze(Object.defineProperty({__proto__:null,Circle:ZA,Ellipse:vH,Generic:ce,Image:AH,Path:QO,Polygon:yH,Polyline:bH,Rect:gH,Rhombus:IH,Text:mH,TextBlock:wH,TextBlockView:CH,TextView:pH},Symbol.toStringTag,{value:"Module"})),_H=Pe.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),SH=Pe.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),MH=Pe.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),TH=Pe.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),NH=Pe.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),EH=Pe.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),PH=Pe.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),kH=Pe.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),DH=Pe.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),OH=Pe.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),LH=Pe.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var wd=10;const RH=Pe.define("standard.Cylinder",{attrs:{body:{lateralArea:wd,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:wd,refRx:"50%",ry:wd,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(t,e){if(t===void 0)return this.attr("body/lateralArea");var n=en(t),i={lateralArea:t},r=n?{refCy:t,refRy:t,cy:null,ry:null}:{refCy:null,refRy:null,cy:t,ry:t};return this.attr({body:i,top:r},e)}},{attributes:{lateralArea:{set:function(t,e){var n=en(t);n&&(t=parseFloat(t)/100);var i=e.x,r=e.y,s=e.width,o=e.height,a=s/2,l=n?o*t:t,c=$.KAPPA,u=c*a,f=c*(n?o*t:t),g=i,p=i+s/2,v=i+s,y=r+l,I=y-l,_=r+o-l,S=r+o,O=["M",g,y,"L",g,_,"C",i,_+f,p-u,S,p,S,"C",p+u,S,v,_+f,v,_,"L",v,y,"C",v,y-f,p+u,I,p,I,"C",p-u,I,g,y-f,g,y,"Z"];return{d:O.join(" ")}}}}});var zH={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},BH={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},jH=FA.test("svgforeignobject")?zH:BH;const GH=Pe.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},jH]},{attributes:{text:{set:function(t,e,n,i){if(n instanceof HTMLElement)n.textContent=t;else{var r=i.style||{},s={text:t,width:-5,height:"100%"},o=Mt({textVerticalAnchor:"middle"},r);return OA.textWrap.set.call(this,s,e,n,o),{fill:r.color||null}}},position:function(t,e,n){if(n instanceof SVGElement)return e.center()}}}}),FH=sn.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),ZH=sn.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),WH=sn.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),UH=Object.freeze(Object.defineProperty({__proto__:null,BorderedImage:kH,Circle:SH,Cylinder:RH,DoubleLink:ZH,Ellipse:MH,EmbeddedImage:DH,HeaderedRectangle:LH,Image:PH,InscribedImage:OH,Link:FH,Path:TH,Polygon:NH,Polyline:EH,Rectangle:_H,ShadowLink:WH,TextBlock:GH},Symbol.toStringTag,{value:"Module"})),WA=ce.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){ce.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(t,e,n){var i=$r(this.get("inPorts")),r=NA($r(this.get("outPorts")),i),s=this.createPortItems("in",i),o=this.createPortItems("out",r);this.prop("ports/items",s.concat(o),Mt({rewrite:!0},n))},createPortItem:function(t,e){return{id:e,group:t,attrs:{".port-label":{text:e}}}},createPortItems:function(t,e){return ee(e).map(this.createPortItem.bind(this,t))},_addGroupPort:function(t,e,n){var i=this.get(e);return this.set(e,Array.isArray(i)?i.concat(t):[t],n)},addOutPort:function(t,e){return this._addGroupPort(t,"outPorts",e)},addInPort:function(t,e){return this._addGroupPort(t,"inPorts",e)},_removeGroupPort:function(t,e,n){return this.set(e,_u(this.get(e),t),n)},removeOutPort:function(t,e){return this._removeGroupPort(t,"outPorts",e)},removeInPort:function(t,e){return this._removeGroupPort(t,"inPorts",e)},_changeGroup:function(t,e,n){return this.prop("ports/groups/"+t,se(e)?e:{},n)},changeInGroup:function(t,e){return this._changeGroup("in",t,e)},changeOutGroup:function(t,e){return this._changeGroup("out",t,e)}}),VH=WA.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),YH=WA.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),HH=sn.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}}),XH=Object.freeze(Object.defineProperty({__proto__:null,Atomic:VH,Coupled:YH,Link:HH,Model:WA},Symbol.toStringTag,{value:"Module"})),jf=ce.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),UA=jf.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),$H=UA.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),qH=UA.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),VA=jf.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),Ks=jf.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),JH=VA.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t){return t}}),KH=VA.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t){return!t}}),QH=Ks.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t,e){return t||e}}),tX=Ks.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return t&&e}}),eX=Ks.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return!(t||e)}}),nX=Ks.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return!(t&&e)}}),iX=Ks.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return(!t||e)&&(t||!e)}}),rX=Ks.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return(!t||!e)&&(t||e)}}),sX=sn.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")}),oX=Object.freeze(Object.defineProperty({__proto__:null,And:tX,Gate:jf,Gate11:VA,Gate21:Ks,IO:UA,Input:$H,Nand:nX,Nor:eX,Not:KH,Or:QH,Output:qH,Repeater:JH,Wire:sX,Xnor:rX,Xor:iX},Symbol.toStringTag,{value:"Module"})),aX=ce.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),lX=ce.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),cX=ce.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),uX=ce.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),fX=ce.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),hX=ce.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),dX=ce.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),gX=ce.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),pX=ce.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),mX=ce.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),vX=ce.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),yX=ce.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),bX=Object.freeze(Object.defineProperty({__proto__:null,BishopBlack:gX,BishopWhite:dX,KingBlack:lX,KingWhite:aX,KnightBlack:mX,KnightWhite:pX,PawnBlack:yX,PawnWhite:vX,QueenBlack:uX,QueenWhite:cX,RookBlack:hX,RookWhite:fX},Symbol.toStringTag,{value:"Module"})),tL=Pe.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),AX=tL.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),eL=Pe.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),IX=eL.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),Fl=Pe.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),wX=Fl.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),CX=Fl.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),xX=Fl.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),_X=Fl.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),SX=Pe.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),MX=sn.define("erd.Line",{},{cardinality:function(t){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:t}}}])}}),TX=Object.freeze(Object.defineProperty({__proto__:null,Attribute:Fl,Derived:CX,Entity:tL,ISA:SX,IdentifyingRelationship:IX,Key:xX,Line:MX,Multivalued:wX,Normal:_X,Relationship:eL,WeakEntity:AX},Symbol.toStringTag,{value:"Module"})),NX=ZA.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),EX=Pe.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),PX=Pe.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),kX=sn.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0}),DX=Object.freeze(Object.defineProperty({__proto__:null,Arrow:kX,EndState:PX,StartState:EX,State:NX},Symbol.toStringTag,{value:"Module"})),OX=Pe.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),LX=sn.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}),RX=Object.freeze(Object.defineProperty({__proto__:null,Arrow:LX,Member:OX},Symbol.toStringTag,{value:"Module"})),zX=ce.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),BX=We.extend({presentationAttributes:We.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:We.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...t){let e=We.prototype.confirmUpdate.call(this,...t);return this.hasFlag(e,"TOKENS")&&(this.renderTokens(),this.update(),e=this.removeFlag(e,"TOKENS")),e},renderTokens:function(){const t=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){t.removeClass(n)});var e=this.model.get("tokens");if(e)switch(e){case 1:t.addClass("one"),t.append($("circle"));break;case 2:t.addClass("two"),t.append([$("circle"),$("circle")]);break;case 3:t.addClass("three"),t.append([$("circle"),$("circle"),$("circle")]);break;default:t.addClass("alot"),t.append($("text").text(e+""));break}}}),jX=ce.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),GX=sn.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),FX=Object.freeze(Object.defineProperty({__proto__:null,Link:GX,Place:zX,PlaceView:BX,Transition:jX},Symbol.toStringTag,{value:"Module"})),YA=ce.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),ce.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var t=this.get("attrs"),e=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;e.forEach(function(i){var r=Array.isArray(i.text)?i.text:[i.text],s=r.length*20+20;t[".uml-class-"+i.type+"-text"].text=r.join(`
`),t[".uml-class-"+i.type+"-rect"].height=s,t[".uml-class-"+i.type+"-rect"].transform="translate(0,"+n+")",n+=s})}}),HA=We.extend({initialize:function(){We.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),ZX=YA.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),WX=HA,UX=YA.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),VX=HA,YX=sn.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),HX=sn.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),XX=sn.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),$X=sn.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),qX=sn.define("uml.Association"),JX=ce.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),ce.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join(`
`))},updatePath:function(){var t="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",t,{silent:!0})}}),KX=ZA.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),QX=ce.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),t$=sn.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}),e$=Object.freeze(Object.defineProperty({__proto__:null,Abstract:ZX,AbstractView:WX,Aggregation:XX,Association:qX,Class:YA,ClassView:HA,Composition:$X,EndState:QX,Generalization:YX,Implementation:HX,Interface:UX,InterfaceView:VX,StartState:KX,State:JX,Transition:t$},Symbol.toStringTag,{value:"Module"})),n$=Object.freeze(Object.defineProperty({__proto__:null,basic:xH,chess:bX,devs:XH,erd:TX,fsa:DX,logic:oX,org:RX,pn:FX,standard:UH,uml:e$},Symbol.toStringTag,{value:"Module"}));function ax(t,e){if(e===0)return"0%";const n=1e3;return`${Math.round(t/e*100*n)/n}%`}function nL(t){return function(e,n,i,r){var s=n.isNodeConnection(i)?r$:i$;return s(t,e,n,i,r)}}function i$(t,e,n,i,r){var s=n.model.angle(),o=n.getNodeUnrotatedBBox(i),a=n.model.getBBox().center();r.rotate(a,s);var l=r.x-o.x,c=r.y-o.y;return t&&(l=ax(l,o.width),c=ax(c,o.height)),e.anchor={name:"topLeft",args:{dx:l,dy:c,rotate:!0}},e}function r$(t,e,n,i,r){var s=n.getConnection();if(!s)return e;var o=s.closestPointLength(r);if(t){var a=s.length();e.anchor={name:"connectionRatio",args:{ratio:o/a}}}else e.anchor={name:"connectionLength",args:{length:o}};return e}const s$=Is,o$=nL(!1),iL=nL(!0),a$=Object.freeze(Object.defineProperty({__proto__:null,pinAbsolute:o$,pinRelative:iL,useDefaults:s$},Symbol.toStringTag,{value:"Module"}));var lx=yi.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick",dbltap:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(t,e){const{vel:n,options:i}=this,{scale:r}=i;let s=$.createSVGMatrix().translate(t,e);r&&(s=s.scale(r)),n.transform(s,{absolute:!0})},onPointerDown:function(t){this.options.guard(t)||(t.stopPropagation(),t.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,t.data),this.trigger("will-change",this,t))},onPointerMove:function(t){this.trigger("changing",this,t)},onDoubleClick:function(t){this.trigger("remove",this,t)},onPointerUp:function(t){this.trigger("changed",this,t),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}});const l$=Ir.extend({name:"vertices",options:{handleClass:lx,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0,scale:null},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){return this.options.vertexAdding&&(this.renderChildren(),this.updatePath()),this.resetHandles(),this.renderHandles(),this},update:function(){var t=this.relatedView,e=t.model.vertices();return e.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdding&&this.updatePath(),this},resetHandles:function(){var t=this.handles;if(this.handles=[],this.stopListening(),!!Array.isArray(t))for(var e=0,n=t.length;e<n;e++)t[e].remove()},renderHandles:function(){for(var t=this.relatedView,e=t.model.vertices(),n=0,i=e.length;n<i;n++){var r=e[n],s=new this.options.handleClass({index:n,paper:this.paper,scale:this.options.scale,guard:o=>this.guard(o)});s.render(),s.position(r.x,r.y),this.simulateRelatedView(s.el),s.vel.appendTo(this.el),this.handles.push(s),this.startHandleListening(s)}},updateHandles:function(){for(var t=this.relatedView,e=t.model.vertices(),n=0,i=e.length;n<i;n++){var r=e[n],s=this.handles[n];if(!s)return;s.position(r.x,r.y)}},updatePath:function(){var t=this.childNodes.connection;t&&t.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(t){var e=this.relatedView;e.can("vertexMove")&&(this.listenTo(t,"will-change",this.onHandleWillChange),this.listenTo(t,"changing",this.onHandleChanging),this.listenTo(t,"changed",this.onHandleChanged)),e.can("vertexRemove")&&this.listenTo(t,"remove",this.onHandleRemove)},getNeighborPoints:function(t){var e=this.relatedView,n=e.model.vertices(),i=t>0?n[t-1]:e.sourceAnchor,r=t<n.length-1?n[t+1]:e.targetAnchor;return{prev:new Z(i),next:new Z(r)}},onHandleWillChange:function(t,e){this.focus();const{relatedView:n,options:i}=this;n.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),i.stopPropagation||n.notifyPointerdown(...n.paper.getPointerArgs(e))},onHandleChanging:function(t,e){const{options:n,relatedView:i}=this;var r=t.options.index,[s,o,a]=i.paper.getPointerArgs(e),l={x:o,y:a};this.snapVertex(l,r),i.model.vertex(r,l,{ui:!0,tool:this.cid}),t.position(l.x,l.y),n.stopPropagation||i.notifyPointermove(s,o,a)},onHandleChanged:function(t,e){const{options:n,relatedView:i}=this;if(n.vertexAdding&&this.updatePath(),!!n.redundancyRemoval){var r=i.removeRedundantLinearVertices({ui:!0,tool:this.cid});r&&this.render(),this.blur(),i.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(e).vertexAdded&&i.model.stopBatch("vertex-add",{ui:!0,tool:this.cid});var[s,o,a]=i.paper.getPointerArgs(e);n.stopPropagation||i.notifyPointerup(s,o,a),i.checkMouseleave(s)}},snapVertex:function(t,e){var n=this.options.snapRadius;if(n>0){var i=this.getNeighborPoints(e),r=i.prev,s=i.next;Math.abs(t.x-r.x)<n?t.x=r.x:Math.abs(t.x-s.x)<n&&(t.x=s.x),Math.abs(t.y-r.y)<n?t.y=i.prev.y:Math.abs(t.y-s.y)<n&&(t.y=s.y)}},onHandleRemove:function(t,e){var n=t.options.index,i=this.relatedView;i.model.removeVertex(n,{ui:!0}),this.options.vertexAdding&&this.updatePath(),i.checkMouseleave(de(e))},onPathPointerDown:function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=de(t),n=this.paper.snapToGrid(e.clientX,e.clientY).toJSON(),i=this.relatedView;i.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var r=i.getVertexIndex(n.x,n.y);this.snapVertex(n,r),i.model.insertVertex(r,n,{ui:!0,tool:this.cid}),this.update();var s=this.handles[r];this.eventData(e,{vertexAdded:!0}),s.onPointerDown(e)}},onRemove:function(){this.resetHandles()}},{VertexHandle:lx});function Ou(t,e){const{model:n}=t;return e?n.getBBox():n.isLink()?t.getConnection().bbox():t.getNodeUnrotatedBBox(t.el)}function rL(t,e,n){var i=iL.call(this.paper,{},e,n,t,this.model);return i.anchor}function c$(t,e,n,i,r,s){var o=s.options.snapRadius,a=i==="source",l=a?0:-1,c=this.model.vertex(l)||this.getEndAnchor(a?"target":"source");return c&&(Math.abs(c.x-t.x)<o&&(t.x=c.x),Math.abs(c.y-t.y)<o&&(t.y=c.y)),t}var cx=yi.extend({tagName:"g",svgElement:!0,className:"marker-segment",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},children:[{tagName:"line",selector:"line",attributes:{stroke:"#33334F","stroke-width":2,fill:"none","pointer-events":"none"}},{tagName:"rect",selector:"handle",attributes:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2}}],onRender:function(){this.renderChildren()},position:function(t,e,n,i){const{scale:r}=this.options;let s=$.createSVGMatrix().translate(t,e).rotate(n);r&&(s=s.scale(r));var o=this.childNodes.handle;o.setAttribute("transform",$.matrixToTransformString(s)),o.setAttribute("cursor",n%180===0?"row-resize":"col-resize");var a=i.getClosestPoint(new Z(t,e)),l=this.childNodes.line;l.setAttribute("x1",t),l.setAttribute("y1",e),l.setAttribute("x2",a.x),l.setAttribute("y2",a.y)},onPointerDown:function(t){this.options.guard(t)||(this.trigger("change:start",this,t),t.stopPropagation(),t.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,t.data))},onPointerMove:function(t){this.trigger("changing",this,t)},onPointerUp:function(t){this.undelegateDocumentEvents(),this.options.paper.delegateEvents(),this.trigger("change:end",this,t)},show:function(){this.el.style.display=""},hide:function(){this.el.style.display="none"}});const u$=Ir.extend({name:"segments",precision:.5,options:{handleClass:cx,segmentLengthThreshold:40,redundancyRemoval:!0,anchor:rL,snapRadius:10,snapHandle:!0,stopPropagation:!0},handles:null,onRender:function(){this.resetHandles();var t=this.relatedView,e=t.model.vertices();e.unshift(t.sourcePoint),e.push(t.targetPoint);for(var n=0,i=e.length;n<i-1;n++){var r=e[n],s=e[n+1],o=this.renderHandle(r,s);this.simulateRelatedView(o.el),this.handles.push(o),o.options.index=n}return this},renderHandle:function(t,e){var n=new this.options.handleClass({paper:this.paper,scale:this.options.scale,guard:i=>this.guard(i)});return n.render(),this.updateHandle(n,t,e),n.vel.appendTo(this.el),this.startHandleListening(n),n},update:function(){return this.render(),this},startHandleListening:function(t){this.listenTo(t,"change:start",this.onHandleChangeStart),this.listenTo(t,"changing",this.onHandleChanging),this.listenTo(t,"change:end",this.onHandleChangeEnd)},resetHandles:function(){var t=this.handles;if(this.handles=[],this.stopListening(),!!Array.isArray(t))for(var e=0,n=t.length;e<n;e++)t[e].remove()},shiftHandleIndexes:function(t){for(var e=this.handles,n=0,i=e.length;n<i;n++)e[n].options.index+=t},resetAnchor:function(t,e){var n=this.relatedView.model;e?n.prop([t,"anchor"],e,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([t,"anchor"],{ui:!0,tool:this.cid})},snapHandle:function(t,e,n){var i=t.options.index,r=this.relatedView,s=r.model,o=s.vertices(),a=t.options.axis,l=o[i-2]||n.sourceAnchor,c=o[i+1]||n.targetAnchor,u=this.options.snapRadius;return Math.abs(e[a]-l[a])<u?e[a]=l[a]:Math.abs(e[a]-c[a])<u&&(e[a]=c[a]),e},onHandleChanging:function(t,e){const{options:n}=this;var i=this.eventData(e),r=this.relatedView,s=r.paper,o=t.options.index-1,a=de(e),l=s.snapToGrid(a.clientX,a.clientY),c=this.snapHandle(t,l.clone(),i),u=t.options.axis,f=this.options.snapHandle?0:l[u]-c[u],g=r.model,p=mn(g.vertices()),v=this.options.anchor;typeof v!="function"&&(v=null);const y=t.options.index,I=[r.sourcePoint.clone(),...p,r.targetPoint.clone()];let _=0;if(y-1>=0){const ut=I[y-1],dt=I[y];new It(ut,dt).vector().theta()%90!==0&&(p.splice(y-1,0,i.originalVertices[y-1]),_++,this.shiftHandleIndexes(1))}var S=p[o+_],O=p[o+1+_];if(y+2<I.length){const ut=I[y+1],dt=I[y+2];if(new It(ut,dt).vector().theta()%90!==0){const mt=i.originalVertices.length===1,Pt=mt?0:y,Ct=i.firstHandleShifted&&!mt?1:0;let J=1+_;p.splice(y+J,0,i.originalVertices[Pt-Ct])}}var R=r.sourceView,A=r.sourceBBox,d=!1,C=!1;if(S?o===0?A.containsPoint(S)?(p.shift(),this.shiftHandleIndexes(-1),d=!0):(S[u]=c[u],C=!0):S[u]=c[u]:(S=r.sourceAnchor.toJSON(),S[u]=c[u],A.containsPoint(S)?(S[u]=c[u],d=!0):(p.unshift(S),this.shiftHandleIndexes(1),i.firstHandleShifted=!0,C=!0)),v&&R){if(d){var N=i.sourceAnchor.clone();N[u]=c[u];var k=v.call(r,N,R,r.sourceMagnet||R.el,"source",r);this.resetAnchor("source",k)}C&&this.resetAnchor("source",i.sourceAnchorDef)}var z=r.targetView,B=r.targetBBox,U=!1,X=!1;if(O?o===p.length-2?B.containsPoint(O)?(p.pop(),U=!0):(O[u]=c[u],X=!0):O[u]=c[u]:(O=r.targetAnchor.toJSON(),O[u]=c[u],B.containsPoint(O)?U=!0:(p.push(O),X=!0)),v&&z){if(U){var K=i.targetAnchor.clone();K[u]=c[u];var st=v.call(r,K,z,r.targetMagnet||z.el,"target",r);this.resetAnchor("target",st)}X&&this.resetAnchor("target",i.targetAnchorDef)}g.vertices(p,{ui:!0,tool:this.cid}),this.updateHandle(t,S,O,f),n.stopPropagation||r.notifyPointermove(a,l.x,l.y)},onHandleChangeStart:function(t,e){const{options:n,handles:i,relatedView:r}=this,{model:s,paper:o}=r;var a=t.options.index;if(Array.isArray(i)){for(var l=0,c=i.length;l<c;l++)l!==a&&i[l].hide();this.focus(),this.eventData(e,{sourceAnchor:r.sourceAnchor.clone(),targetAnchor:r.targetAnchor.clone(),sourceAnchorDef:qn(s.prop(["source","anchor"])),targetAnchorDef:qn(s.prop(["target","anchor"])),originalVertices:mn(s.vertices()),firstHandleShifted:!1}),s.startBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||r.notifyPointerdown(...o.getPointerArgs(e))}},onHandleChangeEnd:function(t,e){const{options:n,relatedView:i}=this,{paper:r,model:s}=i;n.redundancyRemoval&&i.removeRedundantLinearVertices({ui:!0,tool:this.cid});const o=de(e),a=r.snapToGrid(o.clientX,o.clientY);this.render(),this.blur(),s.stopBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||i.notifyPointerup(o,a.x,a.y),i.checkMouseleave(o)},updateHandle:function(t,e,n,i){var r=Math.abs(e.x-n.x)<this.precision,s=Math.abs(e.y-n.y)<this.precision;if(r||s){var o=new It(e,n),a=o.length();if(a<this.options.segmentLengthThreshold)t.hide();else{var l=o.midpoint(),c=r?"x":"y";l[c]+=i||0;var u=o.vector().vectorAngle(new Z(1,0));t.position(l.x,l.y,u,this.relatedView),t.show(),t.options.axis=c}}else t.hide()},onRemove:function(){this.resetHandles()}},{SegmentHandle:cx}),sL=Ir.extend({tagName:"path",xAxisVector:new Z(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{scale:null},onRender:function(){this.update()},update:function(){var t=this.ratio,e=this.relatedView,n=e.getTangentAtRatio(t),i,r;if(n?(i=n.start,r=n.vector().vectorAngle(this.xAxisVector)||0):(i=e.getPointAtRatio(t),r=0),!i)return this;var s=$.createSVGMatrix().translate(i.x,i.y).rotate(r);const{scale:o}=this.options;return o&&(s=s.scale(o)),this.vel.transform(s,{absolute:!0}),this},onPointerDown:function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=this.relatedView;e.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),e.can("arrowheadMove")&&(e.startArrowheadMove(this.arrowheadType),this.delegateDocumentEvents(),e.paper.undelegateEvents()),this.focus(),this.el.style.pointerEvents="none"}},onPointerMove:function(t){var e=de(t),n=this.paper.snapToGrid(e.clientX,e.clientY);this.relatedView.pointermove(e,n.x,n.y)},onPointerUp:function(t){this.undelegateDocumentEvents();var e=this.relatedView,n=e.paper,i=de(t),r=n.snapToGrid(i.clientX,i.clientY);e.pointerup(i,r.x,r.y),n.delegateEvents(),this.blur(),this.el.style.pointerEvents="",e.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}}),f$=sL.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),h$=sL.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}}),oL=Ir.extend({name:"boundary",tagName:"rect",options:{padding:10,useModelGeometry:!1},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){const{relatedView:t,options:e,vel:n}=this,{useModelGeometry:i,rotate:r}=e,s=mr(e.padding);let o=Ou(t,i).moveAndExpand({x:-s.left,y:-s.top,width:s.left+s.right,height:s.top+s.bottom});var a=t.model;if(a.isElement()){var l=a.angle();if(l)if(r){var c=a.getBBox().center();n.rotate(l,c.x,c.y,{absolute:!0})}else o=o.bbox(l)}return n.attr(o.toJSON()),this}}),aL=Ir.extend({tagName:"g",type:null,children:[{tagName:"circle",selector:"anchor",attributes:{cursor:"pointer"}},{tagName:"rect",selector:"area",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick",dbltap:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{snap:c$,anchor:rL,scale:null,resetAnchor:!0,customAnchorAttributes:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttributes:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,restrictArea:!0,redundancyRemoval:!0},onRender:function(){this.renderChildren(),this.toggleArea(!1),this.update()},update:function(){var t=this.type,e=this.relatedView,n=e.getEndView(t);return n?(this.updateAnchor(),this.updateArea(),this.el.style.display=""):this.el.style.display="none",this},updateAnchor:function(){var t=this.childNodes;if(!t)return;var e=t.anchor;if(!e)return;var n=this.relatedView,i=this.type,r=n.getEndAnchor(i),s=this.options,o=n.model.prop([i,"anchor"]);let a=`translate(${r.x},${r.y})`;s.scale&&(a+=` scale(${s.scale})`),e.setAttribute("transform",a);var l=o?s.customAnchorAttributes:s.defaultAnchorAttributes;for(var c in l)e.setAttribute(c,l[c])},updateArea:function(){var t=this.childNodes;if(t){var e=t.area;if(e){var n=this.relatedView,i=this.type,r=n.getEndView(i),s=r.model,o=n.getEndMagnet(i),a=this.options.areaPadding;isFinite(a)||(a=0);var l,c,u;r.isNodeConnection(o)?(l=r.getNodeBBox(o),c=0,u=l.center()):(l=r.getNodeUnrotatedBBox(o),c=s.angle(),u=l.center(),c&&u.rotate(s.getBBox().center(),-c)),l.inflate(a),e.setAttribute("x",-l.width/2),e.setAttribute("y",-l.height/2),e.setAttribute("width",l.width),e.setAttribute("height",l.height),e.setAttribute("transform","translate("+u.x+","+u.y+") rotate("+c+")")}}},toggleArea:function(t){var e=this.childNodes;if(e){var n=e.area;n&&(n.style.display=t?"":"none")}},onPointerDown:function(t){this.guard(t)||(t.stopPropagation(),t.preventDefault(),this.paper.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleArea(this.options.restrictArea),this.relatedView.model.startBatch("anchor-move",{ui:!0,tool:this.cid}))},resetAnchor:function(t){var e=this.type,n=this.relatedView.model;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([e,"anchor"],{ui:!0,tool:this.cid})},onPointerMove:function(t){var e=this.relatedView,n=this.type,i=e.getEndView(n),r=i.model,s=e.getEndMagnet(n),o=de(t),a=this.paper.clientToLocalPoint(o.clientX,o.clientY),l=this.options.snap;if(typeof l=="function"&&(a=l.call(e,a,i,s,n,e,this),a=new Z(a)),this.options.restrictArea)if(i.isNodeConnection(s)){var c=i.getClosestPoint(a);c&&(a=c)}else{var u=i.getNodeUnrotatedBBox(s),f=r.angle(),g=r.getBBox().center(),p=a.clone().rotate(g,f);u.containsPoint(p)||(a=u.pointNearestToPoint(p).rotate(g,-f))}var v,y=this.options.anchor;typeof y=="function"&&(v=y.call(e,a,i,s,n,e)),this.resetAnchor(v),this.update()},onPointerUp:function(t){const e=de(t);this.paper.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var n=this.relatedView;this.options.redundancyRemoval&&n.removeRedundantLinearVertices({ui:!0,tool:this.cid}),n.checkMouseleave(e),n.model.stopBatch("anchor-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){var t=this.options.resetAnchor;t!==!1&&(t===!0&&(t=null),this.resetAnchor(mn(t)),this.update())}}),d$=aL.extend({name:"source-anchor",type:"source"}),g$=aL.extend({name:"target-anchor",type:"target"}),Gf=Ir.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:t}=this;t.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:t,options:e}=this;let{x:n=0,y:i=0,offset:r={},useModelGeometry:s,rotate:o,scale:a}=e,l=Ou(t,s);const c=t.model.angle();o||(l=l.bbox(c));const{x:u=0,y:f=0}=r;en(n)?n=parseFloat(n)/100*l.width:ei(n)&&(n=Number(ni(n,l))),en(i)?i=parseFloat(i)/100*l.height:ei(i)&&(i=Number(ni(i,l)));let g=$.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return o&&(g=g.rotate(c)),g=g.translate(n+u-l.width/2,i+f-l.height/2),a&&(g=g.scale(a)),g},getLinkMatrix(){const{relatedView:t,options:e}=this,{offset:n=0,distance:i=0,rotate:r,scale:s}=e;let o,a,l;en(i)?o=t.getTangentAtRatio(parseFloat(i)/100):o=t.getTangentAtLength(i),o?(a=o.start,l=o.vector().vectorAngle(new Z(1,0))||0):(a=t.getConnection().start,l=0);let c=$.createSVGMatrix().translate(a.x,a.y).rotate(l).translate(0,n);return r||(c=c.rotate(-l)),s&&(c=c.scale(s)),c},onPointerDown:function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=this.options.action;typeof e=="function"&&e.call(this.relatedView,t,this.relatedView,this)}}}),lL=Gf.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(t,e,n){e.model.remove({ui:!0,tool:n.cid})}}}),Ha=Gf.extend({name:"connect",documentEvents:{mousemove:"drag",touchmove:"drag",mouseup:"dragend",touchend:"dragend",touchcancel:"dragend"},children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#333333",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z",fill:"#FFFFFF",stroke:"none","stroke-width":2,"pointer-events":"none"}}],options:{distance:80,offset:0,magnet:t=>t.el,action:(t,e,n)=>n.dragstart(t)},getMagnetNode:function(){const{options:t,relatedView:e}=this,{magnet:n}=t;let i;switch(typeof n){case"function":{i=n.call(this,e,this);break}case"string":{[i]=e.findBySelector(n);break}default:{i=n;break}}if(i||(i=e.el),i instanceof SVGElement)return i;throw new Error("Connect: magnet must be an SVGElement")},dragstart:function(t){const{paper:e,relatedView:n}=this,i=de(t),{x:r,y:s}=e.clientToLocalPoint(i.clientX,i.clientY);n.dragLinkStart(i,this.getMagnetNode(),r,s),e.undelegateEvents(),this.delegateDocumentEvents(null,i.data),this.focus()},drag:function(t){const{paper:e,relatedView:n}=this,i=de(t),{x:r,y:s}=e.snapToGrid(i.clientX,i.clientY);n.dragLink(i,r,s)},dragend:function(t){const{paper:e,relatedView:n}=this,i=de(t),{x:r,y:s}=e.snapToGrid(i.clientX,i.clientY);n.dragLinkEnd(i,r,s),this.undelegateDocumentEvents(),e.delegateEvents(),this.blur(),n.checkMouseleave(i)}}),cL=Ha.extend({name:"hover-connect",defaultMarkup:[{tagName:"circle",attributes:{r:7,fill:"#333333",cursor:"pointer"}},{tagName:"path",attributes:{d:"M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z",fill:"#FFFFFF",stroke:"none","stroke-width":2}}],children(){const{options:t,defaultMarkup:e}=this;return[{tagName:"path",selector:"track",attributes:{fill:"none",stroke:"transparent","stroke-width":t.trackWidth||15,cursor:"pointer"}},{tagName:"g",selector:"button",attributes:{"pointer-events":"none",display:"none"},children:t.markup||e}]},events:Object.assign({mousemove:"onMousemove",mouseenter:"onMouseenter",mouseleave:"onMouseleave"},Ha.prototype.events),onRender:function(){this.renderChildren(),this.update()},trackPath:null,update(){const{childNodes:t}=this;this.trackPath=this.getTrackPath(),Ha.prototype.update.apply(this,arguments),t.track.setAttribute("d",this.trackPath.serialize())},position(){const{el:t,childNodes:e}=this;e.button.setAttribute("transform",$.matrixToTransformString(this.getButtonMatrix())),t.setAttribute("transform",$.matrixToTransformString(this.getTrackMatrix()))},getButtonMatrix(){const{options:t,trackPath:e}=this,{offset:n=0,distance:i=0,rotate:r,scale:s}=t;let o,a,l;en(i)?o=e.tangentAtRatio(parseFloat(i)/100):o=e.tangentAtLength(i),o?(a=o.start,l=o.vector().vectorAngle(new Z(1,0))||0):(a=e.start,l=0);let c=$.createSVGMatrix().translate(a.x,a.y).rotate(l).translate(0,n);return r||(c=c.rotate(-l)),s&&(c=c.scale(s)),c},getTrackPath(){return this.relatedView.getConnection()},getTrackMatrix(){return $.createSVGMatrix()},getTrackRatioFromEvent(t){const{relatedView:e,trackPath:n}=this,i=e.paper.clientToLocalPoint(t.clientX,t.clientY),r=$.transformPoint(i,this.getTrackMatrix().inverse());return n.closestPointLength(r)},canShowButton(){return Jt._data(this.paper.el,"events")},showButton(){this.childNodes.button.style.display="block"},hideButton(){this.childNodes.button.style.display=""},onMousemove(t){const{trackPath:e}=this;if(!e)return;const{options:n}=this;n.distance=this.getTrackRatioFromEvent(t),this.position()},onMouseenter(){this.canShowButton()&&this.showButton()},onMouseleave(){this.hideButton()}}),uL=Object.freeze(Object.defineProperty({__proto__:null,Boundary:oL,Button:Gf,Connect:Ha,HoverConnect:cL,Remove:lL,Segments:u$,SourceAnchor:d$,SourceArrowhead:h$,TargetAnchor:g$,TargetArrowhead:f$,Vertices:l$},Symbol.toStringTag,{value:"Module"})),p$=Ir.extend({tagName:"g",children:[{tagName:"circle",selector:"handle",attributes:{cursor:"pointer","stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6}},{tagName:"rect",selector:"extras",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick",dbltap:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{handleAttributes:null,selector:"root",padding:6,scale:null},getPosition:function(){},setPosition:function(){},resetPosition:function(){},onRender:function(){this.renderChildren(),this.toggleExtras(!1),this.update()},update:function(){const{handle:t,extras:e}=this.childNodes;if(t)this.updateHandle(t);else throw new Error("Control: markup selector `handle` is required");return e&&this.updateExtras(e),this},updateHandle:function(t){const{relatedView:e,options:n}=this,{model:i}=e,r=this.getPosition(e,this),s=i.getAbsolutePointFromRelative(r),{handleAttributes:o,scale:a}=n;let l=`translate(${s.x},${s.y})`;if(a&&(l+=` scale(${a})`),t.setAttribute("transform",l),o)for(let c in o)t.setAttribute(c,o[c])},updateExtras:function(t){const{relatedView:e,options:n}=this,{selector:i}=this.options;if(!i){this.toggleExtras(!1);return}const[r]=e.findBySelector(i);if(!r)throw new Error("Control: invalid selector.");let s=n.padding;isFinite(s)||(s=0);const o=e.getNodeUnrotatedBBox(r),a=e.model,l=a.angle(),c=o.center();l&&c.rotate(a.getBBox().center(),-l),o.inflate(s),t.setAttribute("x",-o.width/2),t.setAttribute("y",-o.height/2),t.setAttribute("width",o.width),t.setAttribute("height",o.height),t.setAttribute("transform",`translate(${c.x},${c.y}) rotate(${l})`)},toggleExtras:function(t){const{extras:e}=this.childNodes;e&&(e.style.display=t?"":"none")},onPointerDown:function(t){const{relatedView:e,paper:n}=this;this.guard(t)||(t.stopPropagation(),t.preventDefault(),n.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleExtras(!0),e.model.startBatch("control-move",{ui:!0,tool:this.cid}))},onPointerMove:function(t){const{relatedView:e,paper:n}=this,{model:i}=e,{clientX:r,clientY:s}=de(t),o=n.clientToLocalPoint(r,s),a=i.getRelativePointFromAbsolute(o);this.setPosition(e,a,this),this.update()},onPointerUp:function(t){const{relatedView:e,paper:n}=this;n.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleExtras(!1),e.model.stopBatch("control-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){const{relatedView:t}=this;this.resetPosition(t,this),this.update()}}),m$=cL.extend({getTrackPath(){const{relatedView:t,options:e}=this;let{useModelGeometry:n,trackPath:i="M 0 0 H calc(w) V calc(h) H 0 Z"}=e;if(typeof i=="function"&&(i=i.call(this,t)),ei(i)){const r=Ou(t,n);i=ni(i,r)}return new _t($.normalizePathData(i))},getTrackMatrix(){const{relatedView:t,options:e}=this;let{useModelGeometry:n,rotate:i}=e,r=Ou(t,n);const s=t.model.angle();i||(r=r.bbox(s));let o=$.createSVGMatrix().translate(r.x+r.width/2,r.y+r.height/2);return i&&(o=o.rotate(s)),o=o.translate(-r.width/2,-r.height/2),o}}),v$=Object.freeze(Object.defineProperty({__proto__:null,Boundary:oL,Button:Gf,Connect:Ha,Control:p$,HoverConnect:m$,Remove:lL},Symbol.toStringTag,{value:"Module"}));var y$="3.7.5";const b$=$,A$=function(t,e){e=e||{},ii(or,"setTheme",t,e),yi.prototype.defaultTheme=t},I$=Object.freeze(Object.defineProperty({__proto__:null,V:$,Vectorizer:b$,anchors:KO,config:ri,connectionPoints:JO,connectionStrategies:a$,connectors:VO,dia:hH,elementTools:v$,env:FA,g:LP,highlighters:YO,layout:dH,linkAnchors:$O,linkTools:uL,mvc:E6,routers:UO,setTheme:A$,shapes:n$,util:s6,version:y$},Symbol.toStringTag,{value:"Module"}));function XA(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cd,ux;function w$(){if(ux)return Cd;ux=1;function t(){this.__data__=[],this.size=0}return Cd=t,Cd}var xd,fx;function Uo(){if(fx)return xd;fx=1;function t(e,n){return e===n||e!==e&&n!==n}return xd=t,xd}var _d,hx;function Ff(){if(hx)return _d;hx=1;var t=Uo();function e(n,i){for(var r=n.length;r--;)if(t(n[r][0],i))return r;return-1}return _d=e,_d}var Sd,dx;function C$(){if(dx)return Sd;dx=1;var t=Ff(),e=Array.prototype,n=e.splice;function i(r){var s=this.__data__,o=t(s,r);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return Sd=i,Sd}var Md,gx;function x$(){if(gx)return Md;gx=1;var t=Ff();function e(n){var i=this.__data__,r=t(i,n);return r<0?void 0:i[r][1]}return Md=e,Md}var Td,px;function _$(){if(px)return Td;px=1;var t=Ff();function e(n){return t(this.__data__,n)>-1}return Td=e,Td}var Nd,mx;function S$(){if(mx)return Nd;mx=1;var t=Ff();function e(n,i){var r=this.__data__,s=t(r,n);return s<0?(++this.size,r.push([n,i])):r[s][1]=i,this}return Nd=e,Nd}var Ed,vx;function Zf(){if(vx)return Ed;vx=1;var t=w$(),e=C$(),n=x$(),i=_$(),r=S$();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=i,s.prototype.set=r,Ed=s,Ed}var Pd,yx;function M$(){if(yx)return Pd;yx=1;var t=Zf();function e(){this.__data__=new t,this.size=0}return Pd=e,Pd}var kd,bx;function T$(){if(bx)return kd;bx=1;function t(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}return kd=t,kd}var Dd,Ax;function N$(){if(Ax)return Dd;Ax=1;function t(e){return this.__data__.get(e)}return Dd=t,Dd}var Od,Ix;function E$(){if(Ix)return Od;Ix=1;function t(e){return this.__data__.has(e)}return Od=t,Od}var Ld,wx;function fL(){if(wx)return Ld;wx=1;var t=typeof Mi=="object"&&Mi&&Mi.Object===Object&&Mi;return Ld=t,Ld}var Rd,Cx;function Li(){if(Cx)return Rd;Cx=1;var t=fL(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Rd=n,Rd}var zd,xx;function Vo(){if(xx)return zd;xx=1;var t=Li(),e=t.Symbol;return zd=e,zd}var Bd,_x;function P$(){if(_x)return Bd;_x=1;var t=Vo(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,r=t?t.toStringTag:void 0;function s(o){var a=n.call(o,r),l=o[r];try{o[r]=void 0;var c=!0}catch{}var u=i.call(o);return c&&(a?o[r]=l:delete o[r]),u}return Bd=s,Bd}var jd,Sx;function k$(){if(Sx)return jd;Sx=1;var t=Object.prototype,e=t.toString;function n(i){return e.call(i)}return jd=n,jd}var Gd,Mx;function Qs(){if(Mx)return Gd;Mx=1;var t=Vo(),e=P$(),n=k$(),i="[object Null]",r="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?r:i:s&&s in Object(a)?e(a):n(a)}return Gd=o,Gd}var Fd,Tx;function Ii(){if(Tx)return Fd;Tx=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Fd=t,Fd}var Zd,Nx;function Zl(){if(Nx)return Zd;Nx=1;var t=Qs(),e=Ii(),n="[object AsyncFunction]",i="[object Function]",r="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==i||l==r||l==n||l==s}return Zd=o,Zd}var Wd,Ex;function D$(){if(Ex)return Wd;Ex=1;var t=Li(),e=t["__core-js_shared__"];return Wd=e,Wd}var Ud,Px;function O$(){if(Px)return Ud;Px=1;var t=D$(),e=function(){var i=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function n(i){return!!e&&e in i}return Ud=n,Ud}var Vd,kx;function hL(){if(kx)return Vd;kx=1;var t=Function.prototype,e=t.toString;function n(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return Vd=n,Vd}var Yd,Dx;function L$(){if(Dx)return Yd;Dx=1;var t=Zl(),e=O$(),n=Ii(),i=hL(),r=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,c=a.hasOwnProperty,u=RegExp("^"+l.call(c).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(g){if(!n(g)||e(g))return!1;var p=t(g)?u:s;return p.test(i(g))}return Yd=f,Yd}var Hd,Ox;function R$(){if(Ox)return Hd;Ox=1;function t(e,n){return e==null?void 0:e[n]}return Hd=t,Hd}var Xd,Lx;function to(){if(Lx)return Xd;Lx=1;var t=L$(),e=R$();function n(i,r){var s=e(i,r);return t(s)?s:void 0}return Xd=n,Xd}var $d,Rx;function $A(){if(Rx)return $d;Rx=1;var t=to(),e=Li(),n=t(e,"Map");return $d=n,$d}var qd,zx;function Wf(){if(zx)return qd;zx=1;var t=to(),e=t(Object,"create");return qd=e,qd}var Jd,Bx;function z$(){if(Bx)return Jd;Bx=1;var t=Wf();function e(){this.__data__=t?t(null):{},this.size=0}return Jd=e,Jd}var Kd,jx;function B$(){if(jx)return Kd;jx=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Kd=t,Kd}var Qd,Gx;function j$(){if(Gx)return Qd;Gx=1;var t=Wf(),e="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function r(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return i.call(o,s)?o[s]:void 0}return Qd=r,Qd}var tg,Fx;function G$(){if(Fx)return tg;Fx=1;var t=Wf(),e=Object.prototype,n=e.hasOwnProperty;function i(r){var s=this.__data__;return t?s[r]!==void 0:n.call(s,r)}return tg=i,tg}var eg,Zx;function F$(){if(Zx)return eg;Zx=1;var t=Wf(),e="__lodash_hash_undefined__";function n(i,r){var s=this.__data__;return this.size+=this.has(i)?0:1,s[i]=t&&r===void 0?e:r,this}return eg=n,eg}var ng,Wx;function Z$(){if(Wx)return ng;Wx=1;var t=z$(),e=B$(),n=j$(),i=G$(),r=F$();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=i,s.prototype.set=r,ng=s,ng}var ig,Ux;function W$(){if(Ux)return ig;Ux=1;var t=Z$(),e=Zf(),n=$A();function i(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return ig=i,ig}var rg,Vx;function U$(){if(Vx)return rg;Vx=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return rg=t,rg}var sg,Yx;function Uf(){if(Yx)return sg;Yx=1;var t=U$();function e(n,i){var r=n.__data__;return t(i)?r[typeof i=="string"?"string":"hash"]:r.map}return sg=e,sg}var og,Hx;function V$(){if(Hx)return og;Hx=1;var t=Uf();function e(n){var i=t(this,n).delete(n);return this.size-=i?1:0,i}return og=e,og}var ag,Xx;function Y$(){if(Xx)return ag;Xx=1;var t=Uf();function e(n){return t(this,n).get(n)}return ag=e,ag}var lg,$x;function H$(){if($x)return lg;$x=1;var t=Uf();function e(n){return t(this,n).has(n)}return lg=e,lg}var cg,qx;function X$(){if(qx)return cg;qx=1;var t=Uf();function e(n,i){var r=t(this,n),s=r.size;return r.set(n,i),this.size+=r.size==s?0:1,this}return cg=e,cg}var ug,Jx;function qA(){if(Jx)return ug;Jx=1;var t=W$(),e=V$(),n=Y$(),i=H$(),r=X$();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=i,s.prototype.set=r,ug=s,ug}var fg,Kx;function $$(){if(Kx)return fg;Kx=1;var t=Zf(),e=$A(),n=qA(),i=200;function r(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<i-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return fg=r,fg}var hg,Qx;function Vf(){if(Qx)return hg;Qx=1;var t=Zf(),e=M$(),n=T$(),i=N$(),r=E$(),s=$$();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=i,o.prototype.has=r,o.prototype.set=s,hg=o,hg}var dg,t_;function JA(){if(t_)return dg;t_=1;function t(e,n){for(var i=-1,r=e==null?0:e.length;++i<r&&n(e[i],i,e)!==!1;);return e}return dg=t,dg}var gg,e_;function dL(){if(e_)return gg;e_=1;var t=to(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return gg=e,gg}var pg,n_;function Yf(){if(n_)return pg;n_=1;var t=dL();function e(n,i,r){i=="__proto__"&&t?t(n,i,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[i]=r}return pg=e,pg}var mg,i_;function Hf(){if(i_)return mg;i_=1;var t=Yf(),e=Uo(),n=Object.prototype,i=n.hasOwnProperty;function r(s,o,a){var l=s[o];(!(i.call(s,o)&&e(l,a))||a===void 0&&!(o in s))&&t(s,o,a)}return mg=r,mg}var vg,r_;function Wl(){if(r_)return vg;r_=1;var t=Hf(),e=Yf();function n(i,r,s,o){var a=!s;s||(s={});for(var l=-1,c=r.length;++l<c;){var u=r[l],f=o?o(s[u],i[u],u,s,i):void 0;f===void 0&&(f=i[u]),a?e(s,u,f):t(s,u,f)}return s}return vg=n,vg}var yg,s_;function q$(){if(s_)return yg;s_=1;function t(e,n){for(var i=-1,r=Array(e);++i<e;)r[i]=n(i);return r}return yg=t,yg}var bg,o_;function qi(){if(o_)return bg;o_=1;function t(e){return e!=null&&typeof e=="object"}return bg=t,bg}var Ag,a_;function J$(){if(a_)return Ag;a_=1;var t=Qs(),e=qi(),n="[object Arguments]";function i(r){return e(r)&&t(r)==n}return Ag=i,Ag}var Ig,l_;function Ul(){if(l_)return Ig;l_=1;var t=J$(),e=qi(),n=Object.prototype,i=n.hasOwnProperty,r=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&i.call(o,"callee")&&!r.call(o,"callee")};return Ig=s,Ig}var wg,c_;function He(){if(c_)return wg;c_=1;var t=Array.isArray;return wg=t,wg}var Ea={exports:{}},Cg,u_;function K$(){if(u_)return Cg;u_=1;function t(){return!1}return Cg=t,Cg}Ea.exports;var f_;function Yo(){return f_||(f_=1,function(t,e){var n=Li(),i=K$(),r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===r,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||i;t.exports=c}(Ea,Ea.exports)),Ea.exports}var xg,h_;function Xf(){if(h_)return xg;h_=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(i,r){var s=typeof i;return r=r??t,!!r&&(s=="number"||s!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<r}return xg=n,xg}var _g,d_;function KA(){if(d_)return _g;d_=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return _g=e,_g}var Sg,g_;function Q$(){if(g_)return Sg;g_=1;var t=Qs(),e=KA(),n=qi(),i="[object Arguments]",r="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",g="[object RegExp]",p="[object Set]",v="[object String]",y="[object WeakMap]",I="[object ArrayBuffer]",_="[object DataView]",S="[object Float32Array]",O="[object Float64Array]",R="[object Int8Array]",A="[object Int16Array]",d="[object Int32Array]",C="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",z="[object Uint32Array]",B={};B[S]=B[O]=B[R]=B[A]=B[d]=B[C]=B[N]=B[k]=B[z]=!0,B[i]=B[r]=B[I]=B[s]=B[_]=B[o]=B[a]=B[l]=B[c]=B[u]=B[f]=B[g]=B[p]=B[v]=B[y]=!1;function U(X){return n(X)&&e(X.length)&&!!B[t(X)]}return Sg=U,Sg}var Mg,p_;function $f(){if(p_)return Mg;p_=1;function t(e){return function(n){return e(n)}}return Mg=t,Mg}var Pa={exports:{}};Pa.exports;var m_;function QA(){return m_||(m_=1,function(t,e){var n=fL(),i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,s=r&&r.exports===i,o=s&&n.process,a=function(){try{var l=r&&r.require&&r.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a}(Pa,Pa.exports)),Pa.exports}var Tg,v_;function Vl(){if(v_)return Tg;v_=1;var t=Q$(),e=$f(),n=QA(),i=n&&n.isTypedArray,r=i?e(i):t;return Tg=r,Tg}var Ng,y_;function gL(){if(y_)return Ng;y_=1;var t=q$(),e=Ul(),n=He(),i=Yo(),r=Xf(),s=Vl(),o=Object.prototype,a=o.hasOwnProperty;function l(c,u){var f=n(c),g=!f&&e(c),p=!f&&!g&&i(c),v=!f&&!g&&!p&&s(c),y=f||g||p||v,I=y?t(c.length,String):[],_=I.length;for(var S in c)(u||a.call(c,S))&&!(y&&(S=="length"||p&&(S=="offset"||S=="parent")||v&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||r(S,_)))&&I.push(S);return I}return Ng=l,Ng}var Eg,b_;function qf(){if(b_)return Eg;b_=1;var t=Object.prototype;function e(n){var i=n&&n.constructor,r=typeof i=="function"&&i.prototype||t;return n===r}return Eg=e,Eg}var Pg,A_;function pL(){if(A_)return Pg;A_=1;function t(e,n){return function(i){return e(n(i))}}return Pg=t,Pg}var kg,I_;function tq(){if(I_)return kg;I_=1;var t=pL(),e=t(Object.keys,Object);return kg=e,kg}var Dg,w_;function tI(){if(w_)return Dg;w_=1;var t=qf(),e=tq(),n=Object.prototype,i=n.hasOwnProperty;function r(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))i.call(s,a)&&a!="constructor"&&o.push(a);return o}return Dg=r,Dg}var Og,C_;function wr(){if(C_)return Og;C_=1;var t=Zl(),e=KA();function n(i){return i!=null&&e(i.length)&&!t(i)}return Og=n,Og}var Lg,x_;function is(){if(x_)return Lg;x_=1;var t=gL(),e=tI(),n=wr();function i(r){return n(r)?t(r):e(r)}return Lg=i,Lg}var Rg,__;function eq(){if(__)return Rg;__=1;var t=Wl(),e=is();function n(i,r){return i&&t(r,e(r),i)}return Rg=n,Rg}var zg,S_;function nq(){if(S_)return zg;S_=1;function t(e){var n=[];if(e!=null)for(var i in Object(e))n.push(i);return n}return zg=t,zg}var Bg,M_;function iq(){if(M_)return Bg;M_=1;var t=Ii(),e=qf(),n=nq(),i=Object.prototype,r=i.hasOwnProperty;function s(o){if(!t(o))return n(o);var a=e(o),l=[];for(var c in o)c=="constructor"&&(a||!r.call(o,c))||l.push(c);return l}return Bg=s,Bg}var jg,T_;function eo(){if(T_)return jg;T_=1;var t=gL(),e=iq(),n=wr();function i(r){return n(r)?t(r,!0):e(r)}return jg=i,jg}var Gg,N_;function rq(){if(N_)return Gg;N_=1;var t=Wl(),e=eo();function n(i,r){return i&&t(r,e(r),i)}return Gg=n,Gg}var ka={exports:{}};ka.exports;var E_;function mL(){return E_||(E_=1,function(t,e){var n=Li(),i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,s=r&&r.exports===i,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,g=a?a(f):new c.constructor(f);return c.copy(g),g}t.exports=l}(ka,ka.exports)),ka.exports}var Fg,P_;function vL(){if(P_)return Fg;P_=1;function t(e,n){var i=-1,r=e.length;for(n||(n=Array(r));++i<r;)n[i]=e[i];return n}return Fg=t,Fg}var Zg,k_;function yL(){if(k_)return Zg;k_=1;function t(e,n){for(var i=-1,r=e==null?0:e.length,s=0,o=[];++i<r;){var a=e[i];n(a,i,e)&&(o[s++]=a)}return o}return Zg=t,Zg}var Wg,D_;function bL(){if(D_)return Wg;D_=1;function t(){return[]}return Wg=t,Wg}var Ug,O_;function eI(){if(O_)return Ug;O_=1;var t=yL(),e=bL(),n=Object.prototype,i=n.propertyIsEnumerable,r=Object.getOwnPropertySymbols,s=r?function(o){return o==null?[]:(o=Object(o),t(r(o),function(a){return i.call(o,a)}))}:e;return Ug=s,Ug}var Vg,L_;function sq(){if(L_)return Vg;L_=1;var t=Wl(),e=eI();function n(i,r){return t(i,e(i),r)}return Vg=n,Vg}var Yg,R_;function nI(){if(R_)return Yg;R_=1;function t(e,n){for(var i=-1,r=n.length,s=e.length;++i<r;)e[s+i]=n[i];return e}return Yg=t,Yg}var Hg,z_;function Jf(){if(z_)return Hg;z_=1;var t=pL(),e=t(Object.getPrototypeOf,Object);return Hg=e,Hg}var Xg,B_;function AL(){if(B_)return Xg;B_=1;var t=nI(),e=Jf(),n=eI(),i=bL(),r=Object.getOwnPropertySymbols,s=r?function(o){for(var a=[];o;)t(a,n(o)),o=e(o);return a}:i;return Xg=s,Xg}var $g,j_;function oq(){if(j_)return $g;j_=1;var t=Wl(),e=AL();function n(i,r){return t(i,e(i),r)}return $g=n,$g}var qg,G_;function IL(){if(G_)return qg;G_=1;var t=nI(),e=He();function n(i,r,s){var o=r(i);return e(i)?o:t(o,s(i))}return qg=n,qg}var Jg,F_;function wL(){if(F_)return Jg;F_=1;var t=IL(),e=eI(),n=is();function i(r){return t(r,n,e)}return Jg=i,Jg}var Kg,Z_;function aq(){if(Z_)return Kg;Z_=1;var t=IL(),e=AL(),n=eo();function i(r){return t(r,n,e)}return Kg=i,Kg}var Qg,W_;function lq(){if(W_)return Qg;W_=1;var t=to(),e=Li(),n=t(e,"DataView");return Qg=n,Qg}var tp,U_;function cq(){if(U_)return tp;U_=1;var t=to(),e=Li(),n=t(e,"Promise");return tp=n,tp}var ep,V_;function CL(){if(V_)return ep;V_=1;var t=to(),e=Li(),n=t(e,"Set");return ep=n,ep}var np,Y_;function uq(){if(Y_)return np;Y_=1;var t=to(),e=Li(),n=t(e,"WeakMap");return np=n,np}var ip,H_;function Ho(){if(H_)return ip;H_=1;var t=lq(),e=$A(),n=cq(),i=CL(),r=uq(),s=Qs(),o=hL(),a="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",g="[object DataView]",p=o(t),v=o(e),y=o(n),I=o(i),_=o(r),S=s;return(t&&S(new t(new ArrayBuffer(1)))!=g||e&&S(new e)!=a||n&&S(n.resolve())!=c||i&&S(new i)!=u||r&&S(new r)!=f)&&(S=function(O){var R=s(O),A=R==l?O.constructor:void 0,d=A?o(A):"";if(d)switch(d){case p:return g;case v:return a;case y:return c;case I:return u;case _:return f}return R}),ip=S,ip}var rp,X_;function fq(){if(X_)return rp;X_=1;var t=Object.prototype,e=t.hasOwnProperty;function n(i){var r=i.length,s=new i.constructor(r);return r&&typeof i[0]=="string"&&e.call(i,"index")&&(s.index=i.index,s.input=i.input),s}return rp=n,rp}var sp,$_;function xL(){if($_)return sp;$_=1;var t=Li(),e=t.Uint8Array;return sp=e,sp}var op,q_;function iI(){if(q_)return op;q_=1;var t=xL();function e(n){var i=new n.constructor(n.byteLength);return new t(i).set(new t(n)),i}return op=e,op}var ap,J_;function hq(){if(J_)return ap;J_=1;var t=iI();function e(n,i){var r=i?t(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}return ap=e,ap}var lp,K_;function dq(){if(K_)return lp;K_=1;var t=/\w*$/;function e(n){var i=new n.constructor(n.source,t.exec(n));return i.lastIndex=n.lastIndex,i}return lp=e,lp}var cp,Q_;function gq(){if(Q_)return cp;Q_=1;var t=Vo(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function i(r){return n?Object(n.call(r)):{}}return cp=i,cp}var up,tS;function _L(){if(tS)return up;tS=1;var t=iI();function e(n,i){var r=i?t(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}return up=e,up}var fp,eS;function pq(){if(eS)return fp;eS=1;var t=iI(),e=hq(),n=dq(),i=gq(),r=_L(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",c="[object RegExp]",u="[object Set]",f="[object String]",g="[object Symbol]",p="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",I="[object Float64Array]",_="[object Int8Array]",S="[object Int16Array]",O="[object Int32Array]",R="[object Uint8Array]",A="[object Uint8ClampedArray]",d="[object Uint16Array]",C="[object Uint32Array]";function N(k,z,B){var U=k.constructor;switch(z){case p:return t(k);case s:case o:return new U(+k);case v:return e(k,B);case y:case I:case _:case S:case O:case R:case A:case d:case C:return r(k,B);case a:return new U;case l:case f:return new U(k);case c:return n(k);case u:return new U;case g:return i(k)}}return fp=N,fp}var hp,nS;function SL(){if(nS)return hp;nS=1;var t=Ii(),e=Object.create,n=function(){function i(){}return function(r){if(!t(r))return{};if(e)return e(r);i.prototype=r;var s=new i;return i.prototype=void 0,s}}();return hp=n,hp}var dp,iS;function ML(){if(iS)return dp;iS=1;var t=SL(),e=Jf(),n=qf();function i(r){return typeof r.constructor=="function"&&!n(r)?t(e(r)):{}}return dp=i,dp}var gp,rS;function mq(){if(rS)return gp;rS=1;var t=Ho(),e=qi(),n="[object Map]";function i(r){return e(r)&&t(r)==n}return gp=i,gp}var pp,sS;function vq(){if(sS)return pp;sS=1;var t=mq(),e=$f(),n=QA(),i=n&&n.isMap,r=i?e(i):t;return pp=r,pp}var mp,oS;function yq(){if(oS)return mp;oS=1;var t=Ho(),e=qi(),n="[object Set]";function i(r){return e(r)&&t(r)==n}return mp=i,mp}var vp,aS;function bq(){if(aS)return vp;aS=1;var t=yq(),e=$f(),n=QA(),i=n&&n.isSet,r=i?e(i):t;return vp=r,vp}var yp,lS;function TL(){if(lS)return yp;lS=1;var t=Vf(),e=JA(),n=Hf(),i=eq(),r=rq(),s=mL(),o=vL(),a=sq(),l=oq(),c=wL(),u=aq(),f=Ho(),g=fq(),p=pq(),v=ML(),y=He(),I=Yo(),_=vq(),S=Ii(),O=bq(),R=is(),A=eo(),d=1,C=2,N=4,k="[object Arguments]",z="[object Array]",B="[object Boolean]",U="[object Date]",X="[object Error]",K="[object Function]",st="[object GeneratorFunction]",ut="[object Map]",dt="[object Number]",wt="[object Object]",mt="[object RegExp]",Pt="[object Set]",Ct="[object String]",J="[object Symbol]",Q="[object WeakMap]",tt="[object ArrayBuffer]",nt="[object DataView]",Gt="[object Float32Array]",kt="[object Float64Array]",Ht="[object Int8Array]",Tt="[object Int16Array]",ne="[object Int32Array]",Ot="[object Uint8Array]",ot="[object Uint8ClampedArray]",rt="[object Uint16Array]",x="[object Uint32Array]",E={};E[k]=E[z]=E[tt]=E[nt]=E[B]=E[U]=E[Gt]=E[kt]=E[Ht]=E[Tt]=E[ne]=E[ut]=E[dt]=E[wt]=E[mt]=E[Pt]=E[Ct]=E[J]=E[Ot]=E[ot]=E[rt]=E[x]=!0,E[X]=E[K]=E[Q]=!1;function L(F,it,ct,xt,Ft,Qt){var Xt,Bt=it&d,Nt=it&C,De=it&N;if(ct&&(Xt=Ft?ct(F,xt,Ft,Qt):ct(F)),Xt!==void 0)return Xt;if(!S(F))return F;var In=y(F);if(In){if(Xt=g(F),!Bt)return o(F,Xt)}else{var wn=f(F),Ae=wn==K||wn==st;if(I(F))return s(F,Bt);if(wn==wt||wn==k||Ae&&!Ft){if(Xt=Nt||Ae?{}:v(F),!Bt)return Nt?l(F,r(Xt,F)):a(F,i(Xt,F))}else{if(!E[wn])return Ft?F:{};Xt=p(F,wn,Bt)}}Qt||(Qt=new t);var Oe=Qt.get(F);if(Oe)return Oe;Qt.set(F,Xt),O(F)?F.forEach(function($e){Xt.add(L($e,it,ct,$e,F,Qt))}):_(F)&&F.forEach(function($e,xn){Xt.set(xn,L($e,it,ct,xn,F,Qt))});var hn=De?Nt?u:c:Nt?A:R,Cn=In?void 0:hn(F);return e(Cn||F,function($e,xn){Cn&&(xn=$e,$e=F[xn]),n(Xt,xn,L($e,it,ct,xn,F,Qt))}),Xt}return yp=L,yp}var bp,cS;function Aq(){if(cS)return bp;cS=1;var t=TL(),e=4;function n(i){return t(i,e)}return bp=n,bp}var Ap,uS;function rI(){if(uS)return Ap;uS=1;function t(e){return function(){return e}}return Ap=t,Ap}var Ip,fS;function Iq(){if(fS)return Ip;fS=1;function t(e){return function(n,i,r){for(var s=-1,o=Object(n),a=r(n),l=a.length;l--;){var c=a[e?l:++s];if(i(o[c],c,o)===!1)break}return n}}return Ip=t,Ip}var wp,hS;function sI(){if(hS)return wp;hS=1;var t=Iq(),e=t();return wp=e,wp}var Cp,dS;function oI(){if(dS)return Cp;dS=1;var t=sI(),e=is();function n(i,r){return i&&t(i,r,e)}return Cp=n,Cp}var xp,gS;function wq(){if(gS)return xp;gS=1;var t=wr();function e(n,i){return function(r,s){if(r==null)return r;if(!t(r))return n(r,s);for(var o=r.length,a=i?o:-1,l=Object(r);(i?a--:++a<o)&&s(l[a],a,l)!==!1;);return r}}return xp=e,xp}var _p,pS;function Kf(){if(pS)return _p;pS=1;var t=oI(),e=wq(),n=e(t);return _p=n,_p}var Sp,mS;function no(){if(mS)return Sp;mS=1;function t(e){return e}return Sp=t,Sp}var Mp,vS;function NL(){if(vS)return Mp;vS=1;var t=no();function e(n){return typeof n=="function"?n:t}return Mp=e,Mp}var Tp,yS;function EL(){if(yS)return Tp;yS=1;var t=JA(),e=Kf(),n=NL(),i=He();function r(s,o){var a=i(s)?t:e;return a(s,n(o))}return Tp=r,Tp}var Np,bS;function PL(){return bS||(bS=1,Np=EL()),Np}var Ep,AS;function Cq(){if(AS)return Ep;AS=1;var t=Kf();function e(n,i){var r=[];return t(n,function(s,o,a){i(s,o,a)&&r.push(s)}),r}return Ep=e,Ep}var Pp,IS;function xq(){if(IS)return Pp;IS=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Pp=e,Pp}var kp,wS;function _q(){if(wS)return kp;wS=1;function t(e){return this.__data__.has(e)}return kp=t,kp}var Dp,CS;function kL(){if(CS)return Dp;CS=1;var t=qA(),e=xq(),n=_q();function i(r){var s=-1,o=r==null?0:r.length;for(this.__data__=new t;++s<o;)this.add(r[s])}return i.prototype.add=i.prototype.push=e,i.prototype.has=n,Dp=i,Dp}var Op,xS;function Sq(){if(xS)return Op;xS=1;function t(e,n){for(var i=-1,r=e==null?0:e.length;++i<r;)if(n(e[i],i,e))return!0;return!1}return Op=t,Op}var Lp,_S;function DL(){if(_S)return Lp;_S=1;function t(e,n){return e.has(n)}return Lp=t,Lp}var Rp,SS;function OL(){if(SS)return Rp;SS=1;var t=kL(),e=Sq(),n=DL(),i=1,r=2;function s(o,a,l,c,u,f){var g=l&i,p=o.length,v=a.length;if(p!=v&&!(g&&v>p))return!1;var y=f.get(o),I=f.get(a);if(y&&I)return y==a&&I==o;var _=-1,S=!0,O=l&r?new t:void 0;for(f.set(o,a),f.set(a,o);++_<p;){var R=o[_],A=a[_];if(c)var d=g?c(A,R,_,a,o,f):c(R,A,_,o,a,f);if(d!==void 0){if(d)continue;S=!1;break}if(O){if(!e(a,function(C,N){if(!n(O,N)&&(R===C||u(R,C,l,c,f)))return O.push(N)})){S=!1;break}}else if(!(R===A||u(R,A,l,c,f))){S=!1;break}}return f.delete(o),f.delete(a),S}return Rp=s,Rp}var zp,MS;function Mq(){if(MS)return zp;MS=1;function t(e){var n=-1,i=Array(e.size);return e.forEach(function(r,s){i[++n]=[s,r]}),i}return zp=t,zp}var Bp,TS;function aI(){if(TS)return Bp;TS=1;function t(e){var n=-1,i=Array(e.size);return e.forEach(function(r){i[++n]=r}),i}return Bp=t,Bp}var jp,NS;function Tq(){if(NS)return jp;NS=1;var t=Vo(),e=xL(),n=Uo(),i=OL(),r=Mq(),s=aI(),o=1,a=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",g="[object Number]",p="[object RegExp]",v="[object Set]",y="[object String]",I="[object Symbol]",_="[object ArrayBuffer]",S="[object DataView]",O=t?t.prototype:void 0,R=O?O.valueOf:void 0;function A(d,C,N,k,z,B,U){switch(N){case S:if(d.byteLength!=C.byteLength||d.byteOffset!=C.byteOffset)return!1;d=d.buffer,C=C.buffer;case _:return!(d.byteLength!=C.byteLength||!B(new e(d),new e(C)));case l:case c:case g:return n(+d,+C);case u:return d.name==C.name&&d.message==C.message;case p:case y:return d==C+"";case f:var X=r;case v:var K=k&o;if(X||(X=s),d.size!=C.size&&!K)return!1;var st=U.get(d);if(st)return st==C;k|=a,U.set(d,C);var ut=i(X(d),X(C),k,z,B,U);return U.delete(d),ut;case I:if(R)return R.call(d)==R.call(C)}return!1}return jp=A,jp}var Gp,ES;function Nq(){if(ES)return Gp;ES=1;var t=wL(),e=1,n=Object.prototype,i=n.hasOwnProperty;function r(s,o,a,l,c,u){var f=a&e,g=t(s),p=g.length,v=t(o),y=v.length;if(p!=y&&!f)return!1;for(var I=p;I--;){var _=g[I];if(!(f?_ in o:i.call(o,_)))return!1}var S=u.get(s),O=u.get(o);if(S&&O)return S==o&&O==s;var R=!0;u.set(s,o),u.set(o,s);for(var A=f;++I<p;){_=g[I];var d=s[_],C=o[_];if(l)var N=f?l(C,d,_,o,s,u):l(d,C,_,s,o,u);if(!(N===void 0?d===C||c(d,C,a,l,u):N)){R=!1;break}A||(A=_=="constructor")}if(R&&!A){var k=s.constructor,z=o.constructor;k!=z&&"constructor"in s&&"constructor"in o&&!(typeof k=="function"&&k instanceof k&&typeof z=="function"&&z instanceof z)&&(R=!1)}return u.delete(s),u.delete(o),R}return Gp=r,Gp}var Fp,PS;function Eq(){if(PS)return Fp;PS=1;var t=Vf(),e=OL(),n=Tq(),i=Nq(),r=Ho(),s=He(),o=Yo(),a=Vl(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",g=Object.prototype,p=g.hasOwnProperty;function v(y,I,_,S,O,R){var A=s(y),d=s(I),C=A?u:r(y),N=d?u:r(I);C=C==c?f:C,N=N==c?f:N;var k=C==f,z=N==f,B=C==N;if(B&&o(y)){if(!o(I))return!1;A=!0,k=!1}if(B&&!k)return R||(R=new t),A||a(y)?e(y,I,_,S,O,R):n(y,I,C,_,S,O,R);if(!(_&l)){var U=k&&p.call(y,"__wrapped__"),X=z&&p.call(I,"__wrapped__");if(U||X){var K=U?y.value():y,st=X?I.value():I;return R||(R=new t),O(K,st,_,S,R)}}return B?(R||(R=new t),i(y,I,_,S,O,R)):!1}return Fp=v,Fp}var Zp,kS;function LL(){if(kS)return Zp;kS=1;var t=Eq(),e=qi();function n(i,r,s,o,a){return i===r?!0:i==null||r==null||!e(i)&&!e(r)?i!==i&&r!==r:t(i,r,s,o,n,a)}return Zp=n,Zp}var Wp,DS;function Pq(){if(DS)return Wp;DS=1;var t=Vf(),e=LL(),n=1,i=2;function r(s,o,a,l){var c=a.length,u=c,f=!l;if(s==null)return!u;for(s=Object(s);c--;){var g=a[c];if(f&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++c<u;){g=a[c];var p=g[0],v=s[p],y=g[1];if(f&&g[2]){if(v===void 0&&!(p in s))return!1}else{var I=new t;if(l)var _=l(v,y,p,s,o,I);if(!(_===void 0?e(y,v,n|i,l,I):_))return!1}}return!0}return Wp=r,Wp}var Up,OS;function RL(){if(OS)return Up;OS=1;var t=Ii();function e(n){return n===n&&!t(n)}return Up=e,Up}var Vp,LS;function kq(){if(LS)return Vp;LS=1;var t=RL(),e=is();function n(i){for(var r=e(i),s=r.length;s--;){var o=r[s],a=i[o];r[s]=[o,a,t(a)]}return r}return Vp=n,Vp}var Yp,RS;function zL(){if(RS)return Yp;RS=1;function t(e,n){return function(i){return i==null?!1:i[e]===n&&(n!==void 0||e in Object(i))}}return Yp=t,Yp}var Hp,zS;function Dq(){if(zS)return Hp;zS=1;var t=Pq(),e=kq(),n=zL();function i(r){var s=e(r);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===r||t(o,r,s)}}return Hp=i,Hp}var Xp,BS;function Xo(){if(BS)return Xp;BS=1;var t=Qs(),e=qi(),n="[object Symbol]";function i(r){return typeof r=="symbol"||e(r)&&t(r)==n}return Xp=i,Xp}var $p,jS;function lI(){if(jS)return $p;jS=1;var t=He(),e=Xo(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,o){if(t(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:i.test(s)||!n.test(s)||o!=null&&s in Object(o)}return $p=r,$p}var qp,GS;function Oq(){if(GS)return qp;GS=1;var t=qA(),e="Expected a function";function n(i,r){if(typeof i!="function"||r!=null&&typeof r!="function")throw new TypeError(e);var s=function(){var o=arguments,a=r?r.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var c=i.apply(this,o);return s.cache=l.set(a,c)||l,c};return s.cache=new(n.Cache||t),s}return n.Cache=t,qp=n,qp}var Jp,FS;function Lq(){if(FS)return Jp;FS=1;var t=Oq(),e=500;function n(i){var r=t(i,function(o){return s.size===e&&s.clear(),o}),s=r.cache;return r}return Jp=n,Jp}var Kp,ZS;function Rq(){if(ZS)return Kp;ZS=1;var t=Lq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=t(function(r){var s=[];return r.charCodeAt(0)===46&&s.push(""),r.replace(e,function(o,a,l,c){s.push(l?c.replace(n,"$1"):a||o)}),s});return Kp=i,Kp}var Qp,WS;function Qf(){if(WS)return Qp;WS=1;function t(e,n){for(var i=-1,r=e==null?0:e.length,s=Array(r);++i<r;)s[i]=n(e[i],i,e);return s}return Qp=t,Qp}var tm,US;function zq(){if(US)return tm;US=1;var t=Vo(),e=Qf(),n=He(),i=Xo(),r=1/0,s=t?t.prototype:void 0,o=s?s.toString:void 0;function a(l){if(typeof l=="string")return l;if(n(l))return e(l,a)+"";if(i(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-r?"-0":c}return tm=a,tm}var em,VS;function BL(){if(VS)return em;VS=1;var t=zq();function e(n){return n==null?"":t(n)}return em=e,em}var nm,YS;function th(){if(YS)return nm;YS=1;var t=He(),e=lI(),n=Rq(),i=BL();function r(s,o){return t(s)?s:e(s,o)?[s]:n(i(s))}return nm=r,nm}var im,HS;function Yl(){if(HS)return im;HS=1;var t=Xo(),e=1/0;function n(i){if(typeof i=="string"||t(i))return i;var r=i+"";return r=="0"&&1/i==-e?"-0":r}return im=n,im}var rm,XS;function eh(){if(XS)return rm;XS=1;var t=th(),e=Yl();function n(i,r){r=t(r,i);for(var s=0,o=r.length;i!=null&&s<o;)i=i[e(r[s++])];return s&&s==o?i:void 0}return rm=n,rm}var sm,$S;function Bq(){if($S)return sm;$S=1;var t=eh();function e(n,i,r){var s=n==null?void 0:t(n,i);return s===void 0?r:s}return sm=e,sm}var om,qS;function jq(){if(qS)return om;qS=1;function t(e,n){return e!=null&&n in Object(e)}return om=t,om}var am,JS;function jL(){if(JS)return am;JS=1;var t=th(),e=Ul(),n=He(),i=Xf(),r=KA(),s=Yl();function o(a,l,c){l=t(l,a);for(var u=-1,f=l.length,g=!1;++u<f;){var p=s(l[u]);if(!(g=a!=null&&c(a,p)))break;a=a[p]}return g||++u!=f?g:(f=a==null?0:a.length,!!f&&r(f)&&i(p,f)&&(n(a)||e(a)))}return am=o,am}var lm,KS;function GL(){if(KS)return lm;KS=1;var t=jq(),e=jL();function n(i,r){return i!=null&&e(i,r,t)}return lm=n,lm}var cm,QS;function Gq(){if(QS)return cm;QS=1;var t=LL(),e=Bq(),n=GL(),i=lI(),r=RL(),s=zL(),o=Yl(),a=1,l=2;function c(u,f){return i(u)&&r(f)?s(o(u),f):function(g){var p=e(g,u);return p===void 0&&p===f?n(g,u):t(f,p,a|l)}}return cm=c,cm}var um,tM;function FL(){if(tM)return um;tM=1;function t(e){return function(n){return n==null?void 0:n[e]}}return um=t,um}var fm,eM;function Fq(){if(eM)return fm;eM=1;var t=eh();function e(n){return function(i){return t(i,n)}}return fm=e,fm}var hm,nM;function Zq(){if(nM)return hm;nM=1;var t=FL(),e=Fq(),n=lI(),i=Yl();function r(s){return n(s)?t(i(s)):e(s)}return hm=r,hm}var dm,iM;function Cr(){if(iM)return dm;iM=1;var t=Dq(),e=Gq(),n=no(),i=He(),r=Zq();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?i(o)?e(o[0],o[1]):t(o):r(o)}return dm=s,dm}var gm,rM;function ZL(){if(rM)return gm;rM=1;var t=yL(),e=Cq(),n=Cr(),i=He();function r(s,o){var a=i(s)?t:e;return a(s,n(o,3))}return gm=r,gm}var pm,sM;function Wq(){if(sM)return pm;sM=1;var t=Object.prototype,e=t.hasOwnProperty;function n(i,r){return i!=null&&e.call(i,r)}return pm=n,pm}var mm,oM;function WL(){if(oM)return mm;oM=1;var t=Wq(),e=jL();function n(i,r){return i!=null&&e(i,r,t)}return mm=n,mm}var vm,aM;function Uq(){if(aM)return vm;aM=1;var t=tI(),e=Ho(),n=Ul(),i=He(),r=wr(),s=Yo(),o=qf(),a=Vl(),l="[object Map]",c="[object Set]",u=Object.prototype,f=u.hasOwnProperty;function g(p){if(p==null)return!0;if(r(p)&&(i(p)||typeof p=="string"||typeof p.splice=="function"||s(p)||a(p)||n(p)))return!p.length;var v=e(p);if(v==l||v==c)return!p.size;if(o(p))return!t(p).length;for(var y in p)if(f.call(p,y))return!1;return!0}return vm=g,vm}var ym,lM;function UL(){if(lM)return ym;lM=1;function t(e){return e===void 0}return ym=t,ym}var bm,cM;function VL(){if(cM)return bm;cM=1;var t=Kf(),e=wr();function n(i,r){var s=-1,o=e(i)?Array(i.length):[];return t(i,function(a,l,c){o[++s]=r(a,l,c)}),o}return bm=n,bm}var Am,uM;function YL(){if(uM)return Am;uM=1;var t=Qf(),e=Cr(),n=VL(),i=He();function r(s,o){var a=i(s)?t:n;return a(s,e(o,3))}return Am=r,Am}var Im,fM;function Vq(){if(fM)return Im;fM=1;function t(e,n,i,r){var s=-1,o=e==null?0:e.length;for(r&&o&&(i=e[++s]);++s<o;)i=n(i,e[s],s,e);return i}return Im=t,Im}var wm,hM;function Yq(){if(hM)return wm;hM=1;function t(e,n,i,r,s){return s(e,function(o,a,l){i=r?(r=!1,o):n(i,o,a,l)}),i}return wm=t,wm}var Cm,dM;function HL(){if(dM)return Cm;dM=1;var t=Vq(),e=Kf(),n=Cr(),i=Yq(),r=He();function s(o,a,l){var c=r(o)?t:i,u=arguments.length<3;return c(o,n(a,4),l,u,e)}return Cm=s,Cm}var xm,gM;function Hq(){if(gM)return xm;gM=1;var t=Qs(),e=He(),n=qi(),i="[object String]";function r(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==i}return xm=r,xm}var _m,pM;function Xq(){if(pM)return _m;pM=1;var t=FL(),e=t("length");return _m=e,_m}var Sm,mM;function $q(){if(mM)return Sm;mM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",r=e+n+i,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+t+r+s+"]");function l(c){return a.test(c)}return Sm=l,Sm}var Mm,vM;function qq(){if(vM)return Mm;vM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",r=e+n+i,s="\\ufe0e\\ufe0f",o="["+t+"]",a="["+r+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+a+"|"+l+")",u="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",v=c+"?",y="["+s+"]?",I="(?:"+p+"(?:"+[u,f,g].join("|")+")"+y+v+")*",_=y+v+I,S="(?:"+[u+a+"?",a,f,g,o].join("|")+")",O=RegExp(l+"(?="+l+")|"+S+_,"g");function R(A){for(var d=O.lastIndex=0;O.test(A);)++d;return d}return Mm=R,Mm}var Tm,yM;function Jq(){if(yM)return Tm;yM=1;var t=Xq(),e=$q(),n=qq();function i(r){return e(r)?n(r):t(r)}return Tm=i,Tm}var Nm,bM;function Kq(){if(bM)return Nm;bM=1;var t=tI(),e=Ho(),n=wr(),i=Hq(),r=Jq(),s="[object Map]",o="[object Set]";function a(l){if(l==null)return 0;if(n(l))return i(l)?r(l):l.length;var c=e(l);return c==s||c==o?l.size:t(l).length}return Nm=a,Nm}var Em,AM;function Qq(){if(AM)return Em;AM=1;var t=JA(),e=SL(),n=oI(),i=Cr(),r=Jf(),s=He(),o=Yo(),a=Zl(),l=Ii(),c=Vl();function u(f,g,p){var v=s(f),y=v||o(f)||c(f);if(g=i(g,4),p==null){var I=f&&f.constructor;y?p=v?new I:[]:l(f)?p=a(I)?e(r(f)):{}:p={}}return(y?t:n)(f,function(_,S,O){return g(p,_,S,O)}),p}return Em=u,Em}var Pm,IM;function t8(){if(IM)return Pm;IM=1;var t=Vo(),e=Ul(),n=He(),i=t?t.isConcatSpreadable:void 0;function r(s){return n(s)||e(s)||!!(i&&s&&s[i])}return Pm=r,Pm}var km,wM;function cI(){if(wM)return km;wM=1;var t=nI(),e=t8();function n(i,r,s,o,a){var l=-1,c=i.length;for(s||(s=e),a||(a=[]);++l<c;){var u=i[l];r>0&&s(u)?r>1?n(u,r-1,s,o,a):t(a,u):o||(a[a.length]=u)}return a}return km=n,km}var Dm,CM;function e8(){if(CM)return Dm;CM=1;function t(e,n,i){switch(i.length){case 0:return e.call(n);case 1:return e.call(n,i[0]);case 2:return e.call(n,i[0],i[1]);case 3:return e.call(n,i[0],i[1],i[2])}return e.apply(n,i)}return Dm=t,Dm}var Om,xM;function XL(){if(xM)return Om;xM=1;var t=e8(),e=Math.max;function n(i,r,s){return r=e(r===void 0?i.length-1:r,0),function(){for(var o=arguments,a=-1,l=e(o.length-r,0),c=Array(l);++a<l;)c[a]=o[r+a];a=-1;for(var u=Array(r+1);++a<r;)u[a]=o[a];return u[r]=s(c),t(i,this,u)}}return Om=n,Om}var Lm,_M;function n8(){if(_M)return Lm;_M=1;var t=rI(),e=dL(),n=no(),i=e?function(r,s){return e(r,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return Lm=i,Lm}var Rm,SM;function i8(){if(SM)return Rm;SM=1;var t=800,e=16,n=Date.now;function i(r){var s=0,o=0;return function(){var a=n(),l=e-(a-o);if(o=a,l>0){if(++s>=t)return arguments[0]}else s=0;return r.apply(void 0,arguments)}}return Rm=i,Rm}var zm,MM;function $L(){if(MM)return zm;MM=1;var t=n8(),e=i8(),n=e(t);return zm=n,zm}var Bm,TM;function nh(){if(TM)return Bm;TM=1;var t=no(),e=XL(),n=$L();function i(r,s){return n(e(r,s,t),r+"")}return Bm=i,Bm}var jm,NM;function qL(){if(NM)return jm;NM=1;function t(e,n,i,r){for(var s=e.length,o=i+(r?1:-1);r?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return jm=t,jm}var Gm,EM;function r8(){if(EM)return Gm;EM=1;function t(e){return e!==e}return Gm=t,Gm}var Fm,PM;function s8(){if(PM)return Fm;PM=1;function t(e,n,i){for(var r=i-1,s=e.length;++r<s;)if(e[r]===n)return r;return-1}return Fm=t,Fm}var Zm,kM;function o8(){if(kM)return Zm;kM=1;var t=qL(),e=r8(),n=s8();function i(r,s,o){return s===s?n(r,s,o):t(r,e,o)}return Zm=i,Zm}var Wm,DM;function a8(){if(DM)return Wm;DM=1;var t=o8();function e(n,i){var r=n==null?0:n.length;return!!r&&t(n,i,0)>-1}return Wm=e,Wm}var Um,OM;function l8(){if(OM)return Um;OM=1;function t(e,n,i){for(var r=-1,s=e==null?0:e.length;++r<s;)if(i(n,e[r]))return!0;return!1}return Um=t,Um}var Vm,LM;function c8(){if(LM)return Vm;LM=1;function t(){}return Vm=t,Vm}var Ym,RM;function u8(){if(RM)return Ym;RM=1;var t=CL(),e=c8(),n=aI(),i=1/0,r=t&&1/n(new t([,-0]))[1]==i?function(s){return new t(s)}:e;return Ym=r,Ym}var Hm,zM;function f8(){if(zM)return Hm;zM=1;var t=kL(),e=a8(),n=l8(),i=DL(),r=u8(),s=aI(),o=200;function a(l,c,u){var f=-1,g=e,p=l.length,v=!0,y=[],I=y;if(u)v=!1,g=n;else if(p>=o){var _=c?null:r(l);if(_)return s(_);v=!1,g=i,I=new t}else I=c?[]:y;t:for(;++f<p;){var S=l[f],O=c?c(S):S;if(S=u||S!==0?S:0,v&&O===O){for(var R=I.length;R--;)if(I[R]===O)continue t;c&&I.push(O),y.push(S)}else g(I,O,u)||(I!==y&&I.push(O),y.push(S))}return y}return Hm=a,Hm}var Xm,BM;function JL(){if(BM)return Xm;BM=1;var t=wr(),e=qi();function n(i){return e(i)&&t(i)}return Xm=n,Xm}var $m,jM;function h8(){if(jM)return $m;jM=1;var t=cI(),e=nh(),n=f8(),i=JL(),r=e(function(s){return n(t(s,1,i,!0))});return $m=r,$m}var qm,GM;function d8(){if(GM)return qm;GM=1;var t=Qf();function e(n,i){return t(i,function(r){return n[r]})}return qm=e,qm}var Jm,FM;function KL(){if(FM)return Jm;FM=1;var t=d8(),e=is();function n(i){return i==null?[]:t(i,e(i))}return Jm=n,Jm}var Km,ZM;function wi(){if(ZM)return Km;ZM=1;var t;if(typeof XA=="function")try{t={clone:Aq(),constant:rI(),each:PL(),filter:ZL(),has:WL(),isArray:He(),isEmpty:Uq(),isFunction:Zl(),isUndefined:UL(),keys:is(),map:YL(),reduce:HL(),size:Kq(),transform:Qq(),union:h8(),values:KL()}}catch{}return t||(t=window._),Km=t,Km}var Qm,WM;function uI(){if(WM)return Qm;WM=1;var t=wi();Qm=r;var e="\0",n="\0",i="";function r(u){this._isDirected=t.has(u,"directed")?u.directed:!0,this._isMultigraph=t.has(u,"multigraph")?u.multigraph:!1,this._isCompound=t.has(u,"compound")?u.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(u){return this._label=u,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(u){return t.isFunction(u)||(u=t.constant(u)),this._defaultNodeLabelFn=u,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return t.keys(this._nodes)},r.prototype.sources=function(){var u=this;return t.filter(this.nodes(),function(f){return t.isEmpty(u._in[f])})},r.prototype.sinks=function(){var u=this;return t.filter(this.nodes(),function(f){return t.isEmpty(u._out[f])})},r.prototype.setNodes=function(u,f){var g=arguments,p=this;return t.each(u,function(v){g.length>1?p.setNode(v,f):p.setNode(v)}),this},r.prototype.setNode=function(u,f){return t.has(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=f),this):(this._nodes[u]=arguments.length>1?f:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=n,this._children[u]={},this._children[n][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)},r.prototype.node=function(u){return this._nodes[u]},r.prototype.hasNode=function(u){return t.has(this._nodes,u)},r.prototype.removeNode=function(u){var f=this;if(t.has(this._nodes,u)){var g=function(p){f.removeEdge(f._edgeObjs[p])};delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],t.each(this.children(u),function(p){f.setParent(p)}),delete this._children[u]),t.each(t.keys(this._in[u]),g),delete this._in[u],delete this._preds[u],t.each(t.keys(this._out[u]),g),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this},r.prototype.setParent=function(u,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(f))f=n;else{f+="";for(var g=f;!t.isUndefined(g);g=this.parent(g))if(g===u)throw new Error("Setting "+f+" as parent of "+u+" would create a cycle");this.setNode(f)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=f,this._children[f][u]=!0,this},r.prototype._removeFromParentsChildList=function(u){delete this._children[this._parent[u]][u]},r.prototype.parent=function(u){if(this._isCompound){var f=this._parent[u];if(f!==n)return f}},r.prototype.children=function(u){if(t.isUndefined(u)&&(u=n),this._isCompound){var f=this._children[u];if(f)return t.keys(f)}else{if(u===n)return this.nodes();if(this.hasNode(u))return[]}},r.prototype.predecessors=function(u){var f=this._preds[u];if(f)return t.keys(f)},r.prototype.successors=function(u){var f=this._sucs[u];if(f)return t.keys(f)},r.prototype.neighbors=function(u){var f=this.predecessors(u);if(f)return t.union(f,this.successors(u))},r.prototype.isLeaf=function(u){var f;return this.isDirected()?f=this.successors(u):f=this.neighbors(u),f.length===0},r.prototype.filterNodes=function(u){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var g=this;t.each(this._nodes,function(y,I){u(I)&&f.setNode(I,y)}),t.each(this._edgeObjs,function(y){f.hasNode(y.v)&&f.hasNode(y.w)&&f.setEdge(y,g.edge(y))});var p={};function v(y){var I=g.parent(y);return I===void 0||f.hasNode(I)?(p[y]=I,I):I in p?p[I]:v(I)}return this._isCompound&&t.each(f.nodes(),function(y){f.setParent(y,v(y))}),f},r.prototype.setDefaultEdgeLabel=function(u){return t.isFunction(u)||(u=t.constant(u)),this._defaultEdgeLabelFn=u,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return t.values(this._edgeObjs)},r.prototype.setPath=function(u,f){var g=this,p=arguments;return t.reduce(u,function(v,y){return p.length>1?g.setEdge(v,y,f):g.setEdge(v,y),y}),this},r.prototype.setEdge=function(){var u,f,g,p,v=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(u=y.v,f=y.w,g=y.name,arguments.length===2&&(p=arguments[1],v=!0)):(u=y,f=arguments[1],g=arguments[3],arguments.length>2&&(p=arguments[2],v=!0)),u=""+u,f=""+f,t.isUndefined(g)||(g=""+g);var I=a(this._isDirected,u,f,g);if(t.has(this._edgeLabels,I))return v&&(this._edgeLabels[I]=p),this;if(!t.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(f),this._edgeLabels[I]=v?p:this._defaultEdgeLabelFn(u,f,g);var _=l(this._isDirected,u,f,g);return u=_.v,f=_.w,Object.freeze(_),this._edgeObjs[I]=_,s(this._preds[f],u),s(this._sucs[u],f),this._in[f][I]=_,this._out[u][I]=_,this._edgeCount++,this},r.prototype.edge=function(u,f,g){var p=arguments.length===1?c(this._isDirected,arguments[0]):a(this._isDirected,u,f,g);return this._edgeLabels[p]},r.prototype.hasEdge=function(u,f,g){var p=arguments.length===1?c(this._isDirected,arguments[0]):a(this._isDirected,u,f,g);return t.has(this._edgeLabels,p)},r.prototype.removeEdge=function(u,f,g){var p=arguments.length===1?c(this._isDirected,arguments[0]):a(this._isDirected,u,f,g),v=this._edgeObjs[p];return v&&(u=v.v,f=v.w,delete this._edgeLabels[p],delete this._edgeObjs[p],o(this._preds[f],u),o(this._sucs[u],f),delete this._in[f][p],delete this._out[u][p],this._edgeCount--),this},r.prototype.inEdges=function(u,f){var g=this._in[u];if(g){var p=t.values(g);return f?t.filter(p,function(v){return v.v===f}):p}},r.prototype.outEdges=function(u,f){var g=this._out[u];if(g){var p=t.values(g);return f?t.filter(p,function(v){return v.w===f}):p}},r.prototype.nodeEdges=function(u,f){var g=this.inEdges(u,f);if(g)return g.concat(this.outEdges(u,f))};function s(u,f){u[f]?u[f]++:u[f]=1}function o(u,f){--u[f]||delete u[f]}function a(u,f,g,p){var v=""+f,y=""+g;if(!u&&v>y){var I=v;v=y,y=I}return v+i+y+i+(t.isUndefined(p)?e:p)}function l(u,f,g,p){var v=""+f,y=""+g;if(!u&&v>y){var I=v;v=y,y=I}var _={v,w:y};return p&&(_.name=p),_}function c(u,f){return a(u,f.v,f.w,f.name)}return Qm}var tv,UM;function g8(){return UM||(UM=1,tv="2.1.8"),tv}var ev,VM;function p8(){return VM||(VM=1,ev={Graph:uI(),version:g8()}),ev}var nv,YM;function m8(){if(YM)return nv;YM=1;var t=wi(),e=uI();nv={write:n,read:s};function n(o){var a={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:i(o),edges:r(o)};return t.isUndefined(o.graph())||(a.value=t.clone(o.graph())),a}function i(o){return t.map(o.nodes(),function(a){var l=o.node(a),c=o.parent(a),u={v:a};return t.isUndefined(l)||(u.value=l),t.isUndefined(c)||(u.parent=c),u})}function r(o){return t.map(o.edges(),function(a){var l=o.edge(a),c={v:a.v,w:a.w};return t.isUndefined(a.name)||(c.name=a.name),t.isUndefined(l)||(c.value=l),c})}function s(o){var a=new e(o.options).setGraph(o.value);return t.each(o.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),t.each(o.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return nv}var iv,HM;function v8(){if(HM)return iv;HM=1;var t=wi();iv=e;function e(n){var i={},r=[],s;function o(a){t.has(i,a)||(i[a]=!0,s.push(a),t.each(n.successors(a),o),t.each(n.predecessors(a),o))}return t.each(n.nodes(),function(a){s=[],o(a),s.length&&r.push(s)}),r}return iv}var rv,XM;function QL(){if(XM)return rv;XM=1;var t=wi();rv=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var i=this._keyIndices[n];if(i!==void 0)return this._arr[i].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,i){var r=this._keyIndices;if(n=String(n),!t.has(r,n)){var s=this._arr,o=s.length;return r[n]=o,s.push({key:n,priority:i}),this._decrease(o),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,i){var r=this._keyIndices[n];if(i>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[r].priority+" New: "+i);this._arr[r].priority=i,this._decrease(r)},e.prototype._heapify=function(n){var i=this._arr,r=2*n,s=r+1,o=n;r<i.length&&(o=i[r].priority<i[o].priority?r:o,s<i.length&&(o=i[s].priority<i[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))},e.prototype._decrease=function(n){for(var i=this._arr,r=i[n].priority,s;n!==0&&(s=n>>1,!(i[s].priority<r));)this._swap(n,s),n=s},e.prototype._swap=function(n,i){var r=this._arr,s=this._keyIndices,o=r[n],a=r[i];r[n]=a,r[i]=o,s[a.key]=n,s[o.key]=i},rv}var sv,$M;function t3(){if($M)return sv;$M=1;var t=wi(),e=QL();sv=i;var n=t.constant(1);function i(s,o,a,l){return r(s,String(o),a||n,l||function(c){return s.outEdges(c)})}function r(s,o,a,l){var c={},u=new e,f,g,p=function(v){var y=v.v!==f?v.v:v.w,I=c[y],_=a(v),S=g.distance+_;if(_<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+_);S<I.distance&&(I.distance=S,I.predecessor=f,u.decrease(y,S))};for(s.nodes().forEach(function(v){var y=v===o?0:Number.POSITIVE_INFINITY;c[v]={distance:y},u.add(v,y)});u.size()>0&&(f=u.removeMin(),g=c[f],g.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(p);return c}return sv}var ov,qM;function y8(){if(qM)return ov;qM=1;var t=t3(),e=wi();ov=n;function n(i,r,s){return e.transform(i.nodes(),function(o,a){o[a]=t(i,a,r,s)},{})}return ov}var av,JM;function e3(){if(JM)return av;JM=1;var t=wi();av=e;function e(n){var i=0,r=[],s={},o=[];function a(l){var c=s[l]={onStack:!0,lowlink:i,index:i++};if(r.push(l),n.successors(l).forEach(function(g){t.has(s,g)?s[g].onStack&&(c.lowlink=Math.min(c.lowlink,s[g].index)):(a(g),c.lowlink=Math.min(c.lowlink,s[g].lowlink))}),c.lowlink===c.index){var u=[],f;do f=r.pop(),s[f].onStack=!1,u.push(f);while(l!==f);o.push(u)}}return n.nodes().forEach(function(l){t.has(s,l)||a(l)}),o}return av}var lv,KM;function b8(){if(KM)return lv;KM=1;var t=wi(),e=e3();lv=n;function n(i){return t.filter(e(i),function(r){return r.length>1||r.length===1&&i.hasEdge(r[0],r[0])})}return lv}var cv,QM;function A8(){if(QM)return cv;QM=1;var t=wi();cv=n;var e=t.constant(1);function n(r,s,o){return i(r,s||e,o||function(a){return r.outEdges(a)})}function i(r,s,o){var a={},l=r.nodes();return l.forEach(function(c){a[c]={},a[c][c]={distance:0},l.forEach(function(u){c!==u&&(a[c][u]={distance:Number.POSITIVE_INFINITY})}),o(c).forEach(function(u){var f=u.v===c?u.w:u.v,g=s(u);a[c][f]={distance:g,predecessor:c}})}),l.forEach(function(c){var u=a[c];l.forEach(function(f){var g=a[f];l.forEach(function(p){var v=g[c],y=u[p],I=g[p],_=v.distance+y.distance;_<I.distance&&(I.distance=_,I.predecessor=y.predecessor)})})}),a}return cv}var uv,t2;function n3(){if(t2)return uv;t2=1;var t=wi();uv=e,e.CycleException=n;function e(i){var r={},s={},o=[];function a(l){if(t.has(s,l))throw new n;t.has(r,l)||(s[l]=!0,r[l]=!0,t.each(i.predecessors(l),a),delete s[l],o.push(l))}if(t.each(i.sinks(),a),t.size(r)!==i.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,uv}var fv,e2;function I8(){if(e2)return fv;e2=1;var t=n3();fv=e;function e(n){try{t(n)}catch(i){if(i instanceof t.CycleException)return!1;throw i}return!0}return fv}var hv,n2;function i3(){if(n2)return hv;n2=1;var t=wi();hv=e;function e(i,r,s){t.isArray(r)||(r=[r]);var o=(i.isDirected()?i.successors:i.neighbors).bind(i),a=[],l={};return t.each(r,function(c){if(!i.hasNode(c))throw new Error("Graph does not have node: "+c);n(i,c,s==="post",l,o,a)}),a}function n(i,r,s,o,a,l){t.has(o,r)||(o[r]=!0,s||l.push(r),t.each(a(r),function(c){n(i,c,s,o,a,l)}),s&&l.push(r))}return hv}var dv,i2;function w8(){if(i2)return dv;i2=1;var t=i3();dv=e;function e(n,i){return t(n,i,"post")}return dv}var gv,r2;function C8(){if(r2)return gv;r2=1;var t=i3();gv=e;function e(n,i){return t(n,i,"pre")}return gv}var pv,s2;function x8(){if(s2)return pv;s2=1;var t=wi(),e=uI(),n=QL();pv=i;function i(r,s){var o=new e,a={},l=new n,c;function u(g){var p=g.v===c?g.w:g.v,v=l.priority(p);if(v!==void 0){var y=s(g);y<v&&(a[p]=c,l.decrease(p,y))}}if(r.nodeCount()===0)return o;t.each(r.nodes(),function(g){l.add(g,Number.POSITIVE_INFINITY),o.setNode(g)}),l.decrease(r.nodes()[0],0);for(var f=!1;l.size()>0;){if(c=l.removeMin(),t.has(a,c))o.setEdge(c,a[c]);else{if(f)throw new Error("Input graph is not connected: "+r);f=!0}r.nodeEdges(c).forEach(u)}return o}return pv}var mv,o2;function _8(){return o2||(o2=1,mv={components:v8(),dijkstra:t3(),dijkstraAll:y8(),findCycles:b8(),floydWarshall:A8(),isAcyclic:I8(),postorder:w8(),preorder:C8(),prim:x8(),tarjan:e3(),topsort:n3()}),mv}var vv,a2;function S8(){if(a2)return vv;a2=1;var t=p8();return vv={Graph:t.Graph,json:m8(),alg:_8(),version:t.version},vv}var Lu;if(typeof XA=="function")try{Lu=S8()}catch{}Lu||(Lu=window.graphlib);var Ri=Lu,yv,l2;function M8(){if(l2)return yv;l2=1;var t=TL(),e=1,n=4;function i(r){return t(r,e|n)}return yv=i,yv}var bv,c2;function ih(){if(c2)return bv;c2=1;var t=Uo(),e=wr(),n=Xf(),i=Ii();function r(s,o,a){if(!i(a))return!1;var l=typeof o;return(l=="number"?e(a)&&n(o,a.length):l=="string"&&o in a)?t(a[o],s):!1}return bv=r,bv}var Av,u2;function T8(){if(u2)return Av;u2=1;var t=nh(),e=Uo(),n=ih(),i=eo(),r=Object.prototype,s=r.hasOwnProperty,o=t(function(a,l){a=Object(a);var c=-1,u=l.length,f=u>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(u=1);++c<u;)for(var g=l[c],p=i(g),v=-1,y=p.length;++v<y;){var I=p[v],_=a[I];(_===void 0||e(_,r[I])&&!s.call(a,I))&&(a[I]=g[I])}return a});return Av=o,Av}var Iv,f2;function N8(){if(f2)return Iv;f2=1;var t=Cr(),e=wr(),n=is();function i(r){return function(s,o,a){var l=Object(s);if(!e(s)){var c=t(o,3);s=n(s),o=function(f){return c(l[f],f,l)}}var u=r(s,o,a);return u>-1?l[c?s[u]:u]:void 0}}return Iv=i,Iv}var wv,h2;function E8(){if(h2)return wv;h2=1;var t=/\s/;function e(n){for(var i=n.length;i--&&t.test(n.charAt(i)););return i}return wv=e,wv}var Cv,d2;function P8(){if(d2)return Cv;d2=1;var t=E8(),e=/^\s+/;function n(i){return i&&i.slice(0,t(i)+1).replace(e,"")}return Cv=n,Cv}var xv,g2;function k8(){if(g2)return xv;g2=1;var t=P8(),e=Ii(),n=Xo(),i=0/0,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return i;if(e(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=e(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=t(c);var f=s.test(c);return f||o.test(c)?a(c.slice(2),f?2:8):r.test(c)?i:+c}return xv=l,xv}var _v,p2;function r3(){if(p2)return _v;p2=1;var t=k8(),e=1/0,n=17976931348623157e292;function i(r){if(!r)return r===0?r:0;if(r=t(r),r===e||r===-e){var s=r<0?-1:1;return s*n}return r===r?r:0}return _v=i,_v}var Sv,m2;function D8(){if(m2)return Sv;m2=1;var t=r3();function e(n){var i=t(n),r=i%1;return i===i?r?i-r:i:0}return Sv=e,Sv}var Mv,v2;function O8(){if(v2)return Mv;v2=1;var t=qL(),e=Cr(),n=D8(),i=Math.max;function r(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var c=a==null?0:n(a);return c<0&&(c=i(l+c,0)),t(s,e(o,3),c)}return Mv=r,Mv}var Tv,y2;function L8(){if(y2)return Tv;y2=1;var t=N8(),e=O8(),n=t(e);return Tv=n,Tv}var Nv,b2;function s3(){if(b2)return Nv;b2=1;var t=cI();function e(n){var i=n==null?0:n.length;return i?t(n,1):[]}return Nv=e,Nv}var Ev,A2;function R8(){if(A2)return Ev;A2=1;var t=sI(),e=NL(),n=eo();function i(r,s){return r==null?r:t(r,e(s),n)}return Ev=i,Ev}var Pv,I2;function z8(){if(I2)return Pv;I2=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Pv=t,Pv}var kv,w2;function B8(){if(w2)return kv;w2=1;var t=Yf(),e=oI(),n=Cr();function i(r,s){var o={};return s=n(s,3),e(r,function(a,l,c){t(o,l,s(a,l,c))}),o}return kv=i,kv}var Dv,C2;function fI(){if(C2)return Dv;C2=1;var t=Xo();function e(n,i,r){for(var s=-1,o=n.length;++s<o;){var a=n[s],l=i(a);if(l!=null&&(c===void 0?l===l&&!t(l):r(l,c)))var c=l,u=a}return u}return Dv=e,Dv}var Ov,x2;function j8(){if(x2)return Ov;x2=1;function t(e,n){return e>n}return Ov=t,Ov}var Lv,_2;function G8(){if(_2)return Lv;_2=1;var t=fI(),e=j8(),n=no();function i(r){return r&&r.length?t(r,n,e):void 0}return Lv=i,Lv}var Rv,S2;function o3(){if(S2)return Rv;S2=1;var t=Yf(),e=Uo();function n(i,r,s){(s!==void 0&&!e(i[r],s)||s===void 0&&!(r in i))&&t(i,r,s)}return Rv=n,Rv}var zv,M2;function F8(){if(M2)return zv;M2=1;var t=Qs(),e=Jf(),n=qi(),i="[object Object]",r=Function.prototype,s=Object.prototype,o=r.toString,a=s.hasOwnProperty,l=o.call(Object);function c(u){if(!n(u)||t(u)!=i)return!1;var f=e(u);if(f===null)return!0;var g=a.call(f,"constructor")&&f.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==l}return zv=c,zv}var Bv,T2;function a3(){if(T2)return Bv;T2=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return Bv=t,Bv}var jv,N2;function Z8(){if(N2)return jv;N2=1;var t=Wl(),e=eo();function n(i){return t(i,e(i))}return jv=n,jv}var Gv,E2;function W8(){if(E2)return Gv;E2=1;var t=o3(),e=mL(),n=_L(),i=vL(),r=ML(),s=Ul(),o=He(),a=JL(),l=Yo(),c=Zl(),u=Ii(),f=F8(),g=Vl(),p=a3(),v=Z8();function y(I,_,S,O,R,A,d){var C=p(I,S),N=p(_,S),k=d.get(N);if(k){t(I,S,k);return}var z=A?A(C,N,S+"",I,_,d):void 0,B=z===void 0;if(B){var U=o(N),X=!U&&l(N),K=!U&&!X&&g(N);z=N,U||X||K?o(C)?z=C:a(C)?z=i(C):X?(B=!1,z=e(N,!0)):K?(B=!1,z=n(N,!0)):z=[]:f(N)||s(N)?(z=C,s(C)?z=v(C):(!u(C)||c(C))&&(z=r(N))):B=!1}B&&(d.set(N,z),R(z,N,O,A,d),d.delete(N)),t(I,S,z)}return Gv=y,Gv}var Fv,P2;function U8(){if(P2)return Fv;P2=1;var t=Vf(),e=o3(),n=sI(),i=W8(),r=Ii(),s=eo(),o=a3();function a(l,c,u,f,g){l!==c&&n(c,function(p,v){if(g||(g=new t),r(p))i(l,c,v,u,a,f,g);else{var y=f?f(o(l,v),p,v+"",l,c,g):void 0;y===void 0&&(y=p),e(l,v,y)}},s)}return Fv=a,Fv}var Zv,k2;function V8(){if(k2)return Zv;k2=1;var t=nh(),e=ih();function n(i){return t(function(r,s){var o=-1,a=s.length,l=a>1?s[a-1]:void 0,c=a>2?s[2]:void 0;for(l=i.length>3&&typeof l=="function"?(a--,l):void 0,c&&e(s[0],s[1],c)&&(l=a<3?void 0:l,a=1),r=Object(r);++o<a;){var u=s[o];u&&i(r,u,o,l)}return r})}return Zv=n,Zv}var Wv,D2;function Y8(){if(D2)return Wv;D2=1;var t=U8(),e=V8(),n=e(function(i,r,s){t(i,r,s)});return Wv=n,Wv}var Uv,O2;function l3(){if(O2)return Uv;O2=1;function t(e,n){return e<n}return Uv=t,Uv}var Vv,L2;function H8(){if(L2)return Vv;L2=1;var t=fI(),e=l3(),n=no();function i(r){return r&&r.length?t(r,n,e):void 0}return Vv=i,Vv}var Yv,R2;function X8(){if(R2)return Yv;R2=1;var t=fI(),e=Cr(),n=l3();function i(r,s){return r&&r.length?t(r,e(s,2),n):void 0}return Yv=i,Yv}var Hv,z2;function $8(){if(z2)return Hv;z2=1;var t=Li(),e=function(){return t.Date.now()};return Hv=e,Hv}var Xv,B2;function q8(){if(B2)return Xv;B2=1;var t=Hf(),e=th(),n=Xf(),i=Ii(),r=Yl();function s(o,a,l,c){if(!i(o))return o;a=e(a,o);for(var u=-1,f=a.length,g=f-1,p=o;p!=null&&++u<f;){var v=r(a[u]),y=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(u!=g){var I=p[v];y=c?c(I,v,p):void 0,y===void 0&&(y=i(I)?I:n(a[u+1])?[]:{})}t(p,v,y),p=p[v]}return o}return Xv=s,Xv}var $v,j2;function J8(){if(j2)return $v;j2=1;var t=eh(),e=q8(),n=th();function i(r,s,o){for(var a=-1,l=s.length,c={};++a<l;){var u=s[a],f=t(r,u);o(f,u)&&e(c,n(u,r),f)}return c}return $v=i,$v}var qv,G2;function K8(){if(G2)return qv;G2=1;var t=J8(),e=GL();function n(i,r){return t(i,r,function(s,o){return e(i,o)})}return qv=n,qv}var Jv,F2;function Q8(){if(F2)return Jv;F2=1;var t=s3(),e=XL(),n=$L();function i(r){return n(e(r,void 0,t),r+"")}return Jv=i,Jv}var Kv,Z2;function t7(){if(Z2)return Kv;Z2=1;var t=K8(),e=Q8(),n=e(function(i,r){return i==null?{}:t(i,r)});return Kv=n,Kv}var Qv,W2;function e7(){if(W2)return Qv;W2=1;var t=Math.ceil,e=Math.max;function n(i,r,s,o){for(var a=-1,l=e(t((r-i)/(s||1)),0),c=Array(l);l--;)c[o?l:++a]=i,i+=s;return c}return Qv=n,Qv}var t0,U2;function n7(){if(U2)return t0;U2=1;var t=e7(),e=ih(),n=r3();function i(r){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),a=a===void 0?s<o?1:-1:n(a),t(s,o,a,r)}}return t0=i,t0}var e0,V2;function i7(){if(V2)return e0;V2=1;var t=n7(),e=t();return e0=e,e0}var n0,Y2;function r7(){if(Y2)return n0;Y2=1;function t(e,n){var i=e.length;for(e.sort(n);i--;)e[i]=e[i].value;return e}return n0=t,n0}var i0,H2;function s7(){if(H2)return i0;H2=1;var t=Xo();function e(n,i){if(n!==i){var r=n!==void 0,s=n===null,o=n===n,a=t(n),l=i!==void 0,c=i===null,u=i===i,f=t(i);if(!c&&!f&&!a&&n>i||a&&l&&u&&!c&&!f||s&&l&&u||!r&&u||!o)return 1;if(!s&&!a&&!f&&n<i||f&&r&&o&&!s&&!a||c&&r&&o||!l&&o||!u)return-1}return 0}return i0=e,i0}var r0,X2;function o7(){if(X2)return r0;X2=1;var t=s7();function e(n,i,r){for(var s=-1,o=n.criteria,a=i.criteria,l=o.length,c=r.length;++s<l;){var u=t(o[s],a[s]);if(u){if(s>=c)return u;var f=r[s];return u*(f=="desc"?-1:1)}}return n.index-i.index}return r0=e,r0}var s0,$2;function a7(){if($2)return s0;$2=1;var t=Qf(),e=eh(),n=Cr(),i=VL(),r=r7(),s=$f(),o=o7(),a=no(),l=He();function c(u,f,g){f.length?f=t(f,function(y){return l(y)?function(I){return e(I,y.length===1?y[0]:y)}:y}):f=[a];var p=-1;f=t(f,s(n));var v=i(u,function(y,I,_){var S=t(f,function(O){return O(y)});return{criteria:S,index:++p,value:y}});return r(v,function(y,I){return o(y,I,g)})}return s0=c,s0}var o0,q2;function l7(){if(q2)return o0;q2=1;var t=cI(),e=a7(),n=nh(),i=ih(),r=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&i(s,o[0],o[1])?o=[]:a>2&&i(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return o0=r,o0}var a0,J2;function c7(){if(J2)return a0;J2=1;var t=BL(),e=0;function n(i){var r=++e;return t(i)+r}return a0=n,a0}var l0,K2;function u7(){if(K2)return l0;K2=1;function t(e,n,i){for(var r=-1,s=e.length,o=n.length,a={};++r<s;){var l=r<o?n[r]:void 0;i(a,e[r],l)}return a}return l0=t,l0}var c0,Q2;function f7(){if(Q2)return c0;Q2=1;var t=Hf(),e=u7();function n(i,r){return e(i||[],r||[],t)}return c0=n,c0}var Ru;if(typeof XA=="function")try{Ru={cloneDeep:M8(),constant:rI(),defaults:T8(),each:PL(),filter:ZL(),find:L8(),flatten:s3(),forEach:EL(),forIn:R8(),has:WL(),isUndefined:UL(),last:z8(),map:YL(),mapValues:B8(),max:G8(),merge:Y8(),min:H8(),minBy:X8(),now:$8(),pick:t7(),range:i7(),reduce:HL(),sortBy:l7(),uniqueId:c7(),values:KL(),zipObject:f7()}}catch{}Ru||(Ru=window._);var ke=Ru,h7=rh;function rh(){var t={};t._next=t._prev=t,this._sentinel=t}rh.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return c3(e),e};rh.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&c3(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e};rh.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,d7)),n=n._prev;return"["+t.join(", ")+"]"};function c3(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function d7(t,e){if(t!=="_next"&&t!=="_prev")return e}var fr=ke,g7=Ri.Graph,p7=h7,m7=y7,v7=fr.constant(1);function y7(t,e){if(t.nodeCount()<=1)return[];var n=A7(t,e||v7),i=b7(n.graph,n.buckets,n.zeroIdx);return fr.flatten(fr.map(i,function(r){return t.outEdges(r.v,r.w)}),!0)}function b7(t,e,n){for(var i=[],r=e[e.length-1],s=e[0],o;t.nodeCount();){for(;o=s.dequeue();)u0(t,e,n,o);for(;o=r.dequeue();)u0(t,e,n,o);if(t.nodeCount()){for(var a=e.length-2;a>0;--a)if(o=e[a].dequeue(),o){i=i.concat(u0(t,e,n,o,!0));break}}}return i}function u0(t,e,n,i,r){var s=r?[]:void 0;return fr.forEach(t.inEdges(i.v),function(o){var a=t.edge(o),l=t.node(o.v);r&&s.push({v:o.v,w:o.w}),l.out-=a,_y(e,n,l)}),fr.forEach(t.outEdges(i.v),function(o){var a=t.edge(o),l=o.w,c=t.node(l);c.in-=a,_y(e,n,c)}),t.removeNode(i.v),s}function A7(t,e){var n=new g7,i=0,r=0;fr.forEach(t.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),fr.forEach(t.edges(),function(a){var l=n.edge(a.v,a.w)||0,c=e(a),u=l+c;n.setEdge(a.v,a.w,u),r=Math.max(r,n.node(a.v).out+=c),i=Math.max(i,n.node(a.w).in+=c)});var s=fr.range(r+i+3).map(function(){return new p7}),o=i+1;return fr.forEach(n.nodes(),function(a){_y(s,o,n.node(a))}),{graph:n,buckets:s,zeroIdx:o}}function _y(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}var Ns=ke,I7=m7,w7={run:C7,undo:_7};function C7(t){var e=t.graph().acyclicer==="greedy"?I7(t,n(t)):x7(t);Ns.forEach(e,function(i){var r=t.edge(i);t.removeEdge(i),r.forwardName=i.name,r.reversed=!0,t.setEdge(i.w,i.v,r,Ns.uniqueId("rev"))});function n(i){return function(r){return i.edge(r).weight}}}function x7(t){var e=[],n={},i={};function r(s){Ns.has(i,s)||(i[s]=!0,n[s]=!0,Ns.forEach(t.outEdges(s),function(o){Ns.has(n,o.w)?e.push(o):r(o.w)}),delete n[s])}return Ns.forEach(t.nodes(),r),e}function _7(t){Ns.forEach(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var i=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,i)}})}var fe=ke,u3=Ri.Graph,Zn={addDummyNode:f3,simplify:S7,asNonCompoundGraph:M7,successorWeights:T7,predecessorWeights:N7,intersectRect:E7,buildLayerMatrix:P7,normalizeRanks:k7,removeEmptyRanks:D7,addBorderNode:O7,maxRank:h3,partition:L7,time:R7,notime:z7};function f3(t,e,n,i){var r;do r=fe.uniqueId(i);while(t.hasNode(r));return n.dummy=e,t.setNode(r,n),r}function S7(t){var e=new u3().setGraph(t.graph());return fe.forEach(t.nodes(),function(n){e.setNode(n,t.node(n))}),fe.forEach(t.edges(),function(n){var i=e.edge(n.v,n.w)||{weight:0,minlen:1},r=t.edge(n);e.setEdge(n.v,n.w,{weight:i.weight+r.weight,minlen:Math.max(i.minlen,r.minlen)})}),e}function M7(t){var e=new u3({multigraph:t.isMultigraph()}).setGraph(t.graph());return fe.forEach(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),fe.forEach(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function T7(t){var e=fe.map(t.nodes(),function(n){var i={};return fe.forEach(t.outEdges(n),function(r){i[r.w]=(i[r.w]||0)+t.edge(r).weight}),i});return fe.zipObject(t.nodes(),e)}function N7(t){var e=fe.map(t.nodes(),function(n){var i={};return fe.forEach(t.inEdges(n),function(r){i[r.v]=(i[r.v]||0)+t.edge(r).weight}),i});return fe.zipObject(t.nodes(),e)}function E7(t,e){var n=t.x,i=t.y,r=e.x-n,s=e.y-i,o=t.width/2,a=t.height/2;if(!r&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(s)*o>Math.abs(r)*a?(s<0&&(a=-a),l=a*r/s,c=a):(r<0&&(o=-o),l=o,c=o*s/r),{x:n+l,y:i+c}}function P7(t){var e=fe.map(fe.range(h3(t)+1),function(){return[]});return fe.forEach(t.nodes(),function(n){var i=t.node(n),r=i.rank;fe.isUndefined(r)||(e[r][i.order]=n)}),e}function k7(t){var e=fe.min(fe.map(t.nodes(),function(n){return t.node(n).rank}));fe.forEach(t.nodes(),function(n){var i=t.node(n);fe.has(i,"rank")&&(i.rank-=e)})}function D7(t){var e=fe.min(fe.map(t.nodes(),function(s){return t.node(s).rank})),n=[];fe.forEach(t.nodes(),function(s){var o=t.node(s).rank-e;n[o]||(n[o]=[]),n[o].push(s)});var i=0,r=t.graph().nodeRankFactor;fe.forEach(n,function(s,o){fe.isUndefined(s)&&o%r!==0?--i:i&&fe.forEach(s,function(a){t.node(a).rank+=i})})}function O7(t,e,n,i){var r={width:0,height:0};return arguments.length>=4&&(r.rank=n,r.order=i),f3(t,"border",r,e)}function h3(t){return fe.max(fe.map(t.nodes(),function(e){var n=t.node(e).rank;if(!fe.isUndefined(n))return n}))}function L7(t,e){var n={lhs:[],rhs:[]};return fe.forEach(t,function(i){e(i)?n.lhs.push(i):n.rhs.push(i)}),n}function R7(t,e){var n=fe.now();try{return e()}finally{console.log(t+" time: "+(fe.now()-n)+"ms")}}function z7(t,e){return e()}var d3=ke,B7=Zn,j7={run:G7,undo:Z7};function G7(t){t.graph().dummyChains=[],d3.forEach(t.edges(),function(e){F7(t,e)})}function F7(t,e){var n=e.v,i=t.node(n).rank,r=e.w,s=t.node(r).rank,o=e.name,a=t.edge(e),l=a.labelRank;if(s!==i+1){t.removeEdge(e);var c,u,f;for(f=0,++i;i<s;++f,++i)a.points=[],u={width:0,height:0,edgeLabel:a,edgeObj:e,rank:i},c=B7.addDummyNode(t,"edge",u,"_d"),i===l&&(u.width=a.width,u.height=a.height,u.dummy="edge-label",u.labelpos=a.labelpos),t.setEdge(n,c,{weight:a.weight},o),f===0&&t.graph().dummyChains.push(c),n=c;t.setEdge(n,r,{weight:a.weight},o)}}function Z7(t){d3.forEach(t.graph().dummyChains,function(e){var n=t.node(e),i=n.edgeLabel,r;for(t.setEdge(n.edgeObj,i);n.dummy;)r=t.successors(e)[0],t.removeNode(e),i.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height),e=r,n=t.node(e)})}var Oc=ke,sh={longestPath:W7,slack:U7};function W7(t){var e={};function n(i){var r=t.node(i);if(Oc.has(e,i))return r.rank;e[i]=!0;var s=Oc.min(Oc.map(t.outEdges(i),function(o){return n(o.w)-t.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),r.rank=s}Oc.forEach(t.sources(),n)}function U7(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var zu=ke,V7=Ri.Graph,Bu=sh.slack,g3=Y7;function Y7(t){var e=new V7({directed:!1}),n=t.nodes()[0],i=t.nodeCount();e.setNode(n,{});for(var r,s;H7(e,t)<i;)r=X7(e,t),s=e.hasNode(r.v)?Bu(t,r):-Bu(t,r),$7(e,t,s);return e}function H7(t,e){function n(i){zu.forEach(e.nodeEdges(i),function(r){var s=r.v,o=i===s?r.w:s;!t.hasNode(o)&&!Bu(e,r)&&(t.setNode(o,{}),t.setEdge(i,o,{}),n(o))})}return zu.forEach(t.nodes(),n),t.nodeCount()}function X7(t,e){return zu.minBy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return Bu(e,n)})}function $7(t,e,n){zu.forEach(t.nodes(),function(i){e.node(i).rank+=n})}var vr=ke,q7=g3,J7=sh.slack,K7=sh.longestPath,Q7=Ri.alg.preorder,tJ=Ri.alg.postorder,eJ=Zn.simplify,nJ=io;io.initLowLimValues=dI;io.initCutValues=hI;io.calcCutValue=p3;io.leaveEdge=v3;io.enterEdge=y3;io.exchangeEdges=b3;function io(t){t=eJ(t),K7(t);var e=q7(t);dI(e),hI(e,t);for(var n,i;n=v3(e);)i=y3(e,t,n),b3(e,t,n,i)}function hI(t,e){var n=tJ(t,t.nodes());n=n.slice(0,n.length-1),vr.forEach(n,function(i){iJ(t,e,i)})}function iJ(t,e,n){var i=t.node(n),r=i.parent;t.edge(n,r).cutvalue=p3(t,e,n)}function p3(t,e,n){var i=t.node(n),r=i.parent,s=!0,o=e.edge(n,r),a=0;return o||(s=!1,o=e.edge(r,n)),a=o.weight,vr.forEach(e.nodeEdges(n),function(l){var c=l.v===n,u=c?l.w:l.v;if(u!==r){var f=c===s,g=e.edge(l).weight;if(a+=f?g:-g,sJ(t,n,u)){var p=t.edge(n,u).cutvalue;a+=f?-p:p}}}),a}function dI(t,e){arguments.length<2&&(e=t.nodes()[0]),m3(t,{},1,e)}function m3(t,e,n,i,r){var s=n,o=t.node(i);return e[i]=!0,vr.forEach(t.neighbors(i),function(a){vr.has(e,a)||(n=m3(t,e,n,a,i))}),o.low=s,o.lim=n++,r?o.parent=r:delete o.parent,n}function v3(t){return vr.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function y3(t,e,n){var i=n.v,r=n.w;e.hasEdge(i,r)||(i=n.w,r=n.v);var s=t.node(i),o=t.node(r),a=s,l=!1;s.lim>o.lim&&(a=o,l=!0);var c=vr.filter(e.edges(),function(u){return l===tT(t,t.node(u.v),a)&&l!==tT(t,t.node(u.w),a)});return vr.minBy(c,function(u){return J7(e,u)})}function b3(t,e,n,i){var r=n.v,s=n.w;t.removeEdge(r,s),t.setEdge(i.v,i.w,{}),dI(t),hI(t,e),rJ(t,e)}function rJ(t,e){var n=vr.find(t.nodes(),function(r){return!e.node(r).parent}),i=Q7(t,n);i=i.slice(1),vr.forEach(i,function(r){var s=t.node(r).parent,o=e.edge(r,s),a=!1;o||(o=e.edge(s,r),a=!0),e.node(r).rank=e.node(s).rank+(a?o.minlen:-o.minlen)})}function sJ(t,e,n){return t.hasEdge(e,n)}function tT(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}var oJ=sh,A3=oJ.longestPath,aJ=g3,lJ=nJ,cJ=uJ;function uJ(t){switch(t.graph().ranker){case"network-simplex":eT(t);break;case"tight-tree":hJ(t);break;case"longest-path":fJ(t);break;default:eT(t)}}var fJ=A3;function hJ(t){A3(t),aJ(t)}function eT(t){lJ(t)}var Sy=ke,dJ=gJ;function gJ(t){var e=mJ(t);Sy.forEach(t.graph().dummyChains,function(n){for(var i=t.node(n),r=i.edgeObj,s=pJ(t,e,r.v,r.w),o=s.path,a=s.lca,l=0,c=o[l],u=!0;n!==r.w;){if(i=t.node(n),u){for(;(c=o[l])!==a&&t.node(c).maxRank<i.rank;)l++;c===a&&(u=!1)}if(!u){for(;l<o.length-1&&t.node(c=o[l+1]).minRank<=i.rank;)l++;c=o[l]}t.setParent(n,c),n=t.successors(n)[0]}})}function pJ(t,e,n,i){var r=[],s=[],o=Math.min(e[n].low,e[i].low),a=Math.max(e[n].lim,e[i].lim),l,c;l=n;do l=t.parent(l),r.push(l);while(l&&(e[l].low>o||a>e[l].lim));for(c=l,l=i;(l=t.parent(l))!==c;)s.push(l);return{path:r.concat(s.reverse()),lca:c}}function mJ(t){var e={},n=0;function i(r){var s=n;Sy.forEach(t.children(r),i),e[r]={low:s,lim:n++}}return Sy.forEach(t.children(),i),e}var hr=ke,My=Zn,vJ={run:yJ,cleanup:IJ};function yJ(t){var e=My.addDummyNode(t,"root",{},"_root"),n=bJ(t),i=hr.max(hr.values(n))-1,r=2*i+1;t.graph().nestingRoot=e,hr.forEach(t.edges(),function(o){t.edge(o).minlen*=r});var s=AJ(t)+1;hr.forEach(t.children(),function(o){I3(t,e,r,s,i,n,o)}),t.graph().nodeRankFactor=r}function I3(t,e,n,i,r,s,o){var a=t.children(o);if(!a.length){o!==e&&t.setEdge(e,o,{weight:0,minlen:n});return}var l=My.addBorderNode(t,"_bt"),c=My.addBorderNode(t,"_bb"),u=t.node(o);t.setParent(l,o),u.borderTop=l,t.setParent(c,o),u.borderBottom=c,hr.forEach(a,function(f){I3(t,e,n,i,r,s,f);var g=t.node(f),p=g.borderTop?g.borderTop:f,v=g.borderBottom?g.borderBottom:f,y=g.borderTop?i:2*i,I=p!==v?1:r-s[o]+1;t.setEdge(l,p,{weight:y,minlen:I,nestingEdge:!0}),t.setEdge(v,c,{weight:y,minlen:I,nestingEdge:!0})}),t.parent(o)||t.setEdge(e,l,{weight:0,minlen:r+s[o]})}function bJ(t){var e={};function n(i,r){var s=t.children(i);s&&s.length&&hr.forEach(s,function(o){n(o,r+1)}),e[i]=r}return hr.forEach(t.children(),function(i){n(i,1)}),e}function AJ(t){return hr.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}function IJ(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,hr.forEach(t.edges(),function(n){var i=t.edge(n);i.nestingEdge&&t.removeEdge(n)})}var f0=ke,wJ=Zn,CJ=xJ;function xJ(t){function e(n){var i=t.children(n),r=t.node(n);if(i.length&&f0.forEach(i,e),f0.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var s=r.minRank,o=r.maxRank+1;s<o;++s)nT(t,"borderLeft","_bl",n,r,s),nT(t,"borderRight","_br",n,r,s)}}f0.forEach(t.children(),e)}function nT(t,e,n,i,r,s){var o={width:0,height:0,rank:s,borderType:e},a=r[e][s-1],l=wJ.addDummyNode(t,"border",o,n);r[e][s]=l,t.setParent(l,i),a&&t.setEdge(a,l,{weight:1})}var Wi=ke,_J={adjust:SJ,undo:MJ};function SJ(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&w3(t)}function MJ(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&TJ(t),(e==="lr"||e==="rl")&&(NJ(t),w3(t))}function w3(t){Wi.forEach(t.nodes(),function(e){iT(t.node(e))}),Wi.forEach(t.edges(),function(e){iT(t.edge(e))})}function iT(t){var e=t.width;t.width=t.height,t.height=e}function TJ(t){Wi.forEach(t.nodes(),function(e){h0(t.node(e))}),Wi.forEach(t.edges(),function(e){var n=t.edge(e);Wi.forEach(n.points,h0),Wi.has(n,"y")&&h0(n)})}function h0(t){t.y=-t.y}function NJ(t){Wi.forEach(t.nodes(),function(e){d0(t.node(e))}),Wi.forEach(t.edges(),function(e){var n=t.edge(e);Wi.forEach(n.points,d0),Wi.has(n,"x")&&d0(n)})}function d0(t){var e=t.x;t.x=t.y,t.y=e}var tr=ke,EJ=PJ;function PJ(t){var e={},n=tr.filter(t.nodes(),function(a){return!t.children(a).length}),i=tr.max(tr.map(n,function(a){return t.node(a).rank})),r=tr.map(tr.range(i+1),function(){return[]});function s(a){if(!tr.has(e,a)){e[a]=!0;var l=t.node(a);r[l.rank].push(a),tr.forEach(t.successors(a),s)}}var o=tr.sortBy(n,function(a){return t.node(a).rank});return tr.forEach(o,s),r}var Er=ke,kJ=DJ;function DJ(t,e){for(var n=0,i=1;i<e.length;++i)n+=OJ(t,e[i-1],e[i]);return n}function OJ(t,e,n){for(var i=Er.zipObject(n,Er.map(n,function(c,u){return u})),r=Er.flatten(Er.map(e,function(c){return Er.sortBy(Er.map(t.outEdges(c),function(u){return{pos:i[u.w],weight:t.edge(u).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;var o=2*s-1;s-=1;var a=Er.map(new Array(o),function(){return 0}),l=0;return Er.forEach(r.forEach(function(c){var u=c.pos+s;a[u]+=c.weight;for(var f=0;u>0;)u%2&&(f+=a[u+1]),u=u-1>>1,a[u]+=c.weight;l+=c.weight*f})),l}var rT=ke,LJ=RJ;function RJ(t,e){return rT.map(e,function(n){var i=t.inEdges(n);if(i.length){var r=rT.reduce(i,function(s,o){var a=t.edge(o),l=t.node(o.v);return{sum:s.sum+a.weight*l.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:r.sum/r.weight,weight:r.weight}}else return{v:n}})}var Qn=ke,zJ=BJ;function BJ(t,e){var n={};Qn.forEach(t,function(r,s){var o=n[r.v]={indegree:0,in:[],out:[],vs:[r.v],i:s};Qn.isUndefined(r.barycenter)||(o.barycenter=r.barycenter,o.weight=r.weight)}),Qn.forEach(e.edges(),function(r){var s=n[r.v],o=n[r.w];!Qn.isUndefined(s)&&!Qn.isUndefined(o)&&(o.indegree++,s.out.push(n[r.w]))});var i=Qn.filter(n,function(r){return!r.indegree});return jJ(i)}function jJ(t){var e=[];function n(s){return function(o){o.merged||(Qn.isUndefined(o.barycenter)||Qn.isUndefined(s.barycenter)||o.barycenter>=s.barycenter)&&GJ(s,o)}}function i(s){return function(o){o.in.push(s),--o.indegree===0&&t.push(o)}}for(;t.length;){var r=t.pop();e.push(r),Qn.forEach(r.in.reverse(),n(r)),Qn.forEach(r.out,i(r))}return Qn.map(Qn.filter(e,function(s){return!s.merged}),function(s){return Qn.pick(s,["vs","i","barycenter","weight"])})}function GJ(t,e){var n=0,i=0;t.weight&&(n+=t.barycenter*t.weight,i+=t.weight),e.weight&&(n+=e.barycenter*e.weight,i+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0}var Da=ke,FJ=Zn,ZJ=WJ;function WJ(t,e){var n=FJ.partition(t,function(u){return Da.has(u,"barycenter")}),i=n.lhs,r=Da.sortBy(n.rhs,function(u){return-u.i}),s=[],o=0,a=0,l=0;i.sort(UJ(!!e)),l=sT(s,r,l),Da.forEach(i,function(u){l+=u.vs.length,s.push(u.vs),o+=u.barycenter*u.weight,a+=u.weight,l=sT(s,r,l)});var c={vs:Da.flatten(s,!0)};return a&&(c.barycenter=o/a,c.weight=a),c}function sT(t,e,n){for(var i;e.length&&(i=Da.last(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}function UJ(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}var Dr=ke,VJ=LJ,YJ=zJ,HJ=ZJ,XJ=C3;function C3(t,e,n,i){var r=t.children(e),s=t.node(e),o=s?s.borderLeft:void 0,a=s?s.borderRight:void 0,l={};o&&(r=Dr.filter(r,function(v){return v!==o&&v!==a}));var c=VJ(t,r);Dr.forEach(c,function(v){if(t.children(v.v).length){var y=C3(t,v.v,n,i);l[v.v]=y,Dr.has(y,"barycenter")&&qJ(v,y)}});var u=YJ(c,n);$J(u,l);var f=HJ(u,i);if(o&&(f.vs=Dr.flatten([o,f.vs,a],!0),t.predecessors(o).length)){var g=t.node(t.predecessors(o)[0]),p=t.node(t.predecessors(a)[0]);Dr.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+g.order+p.order)/(f.weight+2),f.weight+=2}return f}function $J(t,e){Dr.forEach(t,function(n){n.vs=Dr.flatten(n.vs.map(function(i){return e[i]?e[i].vs:i}),!0)})}function qJ(t,e){Dr.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}var Oa=ke,JJ=Ri.Graph,KJ=QJ;function QJ(t,e,n){var i=tK(t),r=new JJ({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(s){return t.node(s)});return Oa.forEach(t.nodes(),function(s){var o=t.node(s),a=t.parent(s);(o.rank===e||o.minRank<=e&&e<=o.maxRank)&&(r.setNode(s),r.setParent(s,a||i),Oa.forEach(t[n](s),function(l){var c=l.v===s?l.w:l.v,u=r.edge(c,s),f=Oa.isUndefined(u)?0:u.weight;r.setEdge(c,s,{weight:t.edge(l).weight+f})}),Oa.has(o,"minRank")&&r.setNode(s,{borderLeft:o.borderLeft[e],borderRight:o.borderRight[e]}))}),r}function tK(t){for(var e;t.hasNode(e=Oa.uniqueId("_root")););return e}var eK=ke,nK=iK;function iK(t,e,n){var i={},r;eK.forEach(n,function(s){for(var o=t.parent(s),a,l;o;){if(a=t.parent(o),a?(l=i[a],i[a]=o):(l=r,r=o),l&&l!==o){e.setEdge(l,o);return}o=a}})}var Gr=ke,rK=EJ,sK=kJ,oK=XJ,aK=KJ,lK=nK,cK=Ri.Graph,oT=Zn,uK=fK;function fK(t){var e=oT.maxRank(t),n=aT(t,Gr.range(1,e+1),"inEdges"),i=aT(t,Gr.range(e-1,-1,-1),"outEdges"),r=rK(t);lT(t,r);for(var s=Number.POSITIVE_INFINITY,o,a=0,l=0;l<4;++a,++l){hK(a%2?n:i,a%4>=2),r=oT.buildLayerMatrix(t);var c=sK(t,r);c<s&&(l=0,o=Gr.cloneDeep(r),s=c)}lT(t,o)}function aT(t,e,n){return Gr.map(e,function(i){return aK(t,i,n)})}function hK(t,e){var n=new cK;Gr.forEach(t,function(i){var r=i.graph().root,s=oK(i,r,n,e);Gr.forEach(s.vs,function(o,a){i.node(o).order=a}),lK(i,n,s.vs)})}function lT(t,e){Gr.forEach(e,function(n){Gr.forEach(n,function(i,r){t.node(i).order=r})})}var Ut=ke,dK=Ri.Graph,gK=Zn,pK={positionX:yK,findType1Conflicts:x3,findType2Conflicts:_3,addConflict:gI,hasConflict:S3,verticalAlignment:M3,horizontalCompaction:T3,alignCoordinates:E3,findSmallestWidthAlignment:N3,balance:P3};function x3(t,e){var n={};function i(r,s){var o=0,a=0,l=r.length,c=Ut.last(s);return Ut.forEach(s,function(u,f){var g=mK(t,u),p=g?t.node(g).order:l;(g||u===c)&&(Ut.forEach(s.slice(a,f+1),function(v){Ut.forEach(t.predecessors(v),function(y){var I=t.node(y),_=I.order;(_<o||p<_)&&!(I.dummy&&t.node(v).dummy)&&gI(n,y,v)})}),a=f+1,o=p)}),s}return Ut.reduce(e,i),n}function _3(t,e){var n={};function i(s,o,a,l,c){var u;Ut.forEach(Ut.range(o,a),function(f){u=s[f],t.node(u).dummy&&Ut.forEach(t.predecessors(u),function(g){var p=t.node(g);p.dummy&&(p.order<l||p.order>c)&&gI(n,g,u)})})}function r(s,o){var a=-1,l,c=0;return Ut.forEach(o,function(u,f){if(t.node(u).dummy==="border"){var g=t.predecessors(u);g.length&&(l=t.node(g[0]).order,i(o,c,f,a,l),c=f,a=l)}i(o,c,o.length,l,s.length)}),o}return Ut.reduce(e,r),n}function mK(t,e){if(t.node(e).dummy)return Ut.find(t.predecessors(e),function(n){return t.node(n).dummy})}function gI(t,e,n){if(e>n){var i=e;e=n,n=i}var r=t[e];r||(t[e]=r={}),r[n]=!0}function S3(t,e,n){if(e>n){var i=e;e=n,n=i}return Ut.has(t[e],n)}function M3(t,e,n,i){var r={},s={},o={};return Ut.forEach(e,function(a){Ut.forEach(a,function(l,c){r[l]=l,s[l]=l,o[l]=c})}),Ut.forEach(e,function(a){var l=-1;Ut.forEach(a,function(c){var u=i(c);if(u.length){u=Ut.sortBy(u,function(y){return o[y]});for(var f=(u.length-1)/2,g=Math.floor(f),p=Math.ceil(f);g<=p;++g){var v=u[g];s[c]===c&&l<o[v]&&!S3(n,c,v)&&(s[v]=c,s[c]=r[c]=r[v],l=o[v])}}})}),{root:r,align:s}}function T3(t,e,n,i,r){var s={},o=vK(t,e,n,r),a=r?"borderLeft":"borderRight";function l(f,g){for(var p=o.nodes(),v=p.pop(),y={};v;)y[v]?f(v):(y[v]=!0,p.push(v),p=p.concat(g(v))),v=p.pop()}function c(f){s[f]=o.inEdges(f).reduce(function(g,p){return Math.max(g,s[p.v]+o.edge(p))},0)}function u(f){var g=o.outEdges(f).reduce(function(v,y){return Math.min(v,s[y.w]-o.edge(y))},Number.POSITIVE_INFINITY),p=t.node(f);g!==Number.POSITIVE_INFINITY&&p.borderType!==a&&(s[f]=Math.max(s[f],g))}return l(c,o.predecessors.bind(o)),l(u,o.successors.bind(o)),Ut.forEach(i,function(f){s[f]=s[n[f]]}),s}function vK(t,e,n,i){var r=new dK,s=t.graph(),o=bK(s.nodesep,s.edgesep,i);return Ut.forEach(e,function(a){var l;Ut.forEach(a,function(c){var u=n[c];if(r.setNode(u),l){var f=n[l],g=r.edge(f,u);r.setEdge(f,u,Math.max(o(t,c,l),g||0))}l=c})}),r}function N3(t,e){return Ut.minBy(Ut.values(e),function(n){var i=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return Ut.forIn(n,function(s,o){var a=AK(t,o)/2;i=Math.max(s+a,i),r=Math.min(s-a,r)}),i-r})}function E3(t,e){var n=Ut.values(e),i=Ut.min(n),r=Ut.max(n);Ut.forEach(["u","d"],function(s){Ut.forEach(["l","r"],function(o){var a=s+o,l=t[a],c;if(l!==e){var u=Ut.values(l);c=o==="l"?i-Ut.min(u):r-Ut.max(u),c&&(t[a]=Ut.mapValues(l,function(f){return f+c}))}})})}function P3(t,e){return Ut.mapValues(t.ul,function(n,i){if(e)return t[e.toLowerCase()][i];var r=Ut.sortBy(Ut.map(t,i));return(r[1]+r[2])/2})}function yK(t){var e=gK.buildLayerMatrix(t),n=Ut.merge(x3(t,e),_3(t,e)),i={},r;Ut.forEach(["u","d"],function(o){r=o==="u"?e:Ut.values(e).reverse(),Ut.forEach(["l","r"],function(a){a==="r"&&(r=Ut.map(r,function(f){return Ut.values(f).reverse()}));var l=(o==="u"?t.predecessors:t.successors).bind(t),c=M3(t,r,n,l),u=T3(t,r,c.root,c.align,a==="r");a==="r"&&(u=Ut.mapValues(u,function(f){return-f})),i[o+a]=u})});var s=N3(t,i);return E3(i,s),P3(i,t.graph().align)}function bK(t,e,n){return function(i,r,s){var o=i.node(r),a=i.node(s),l=0,c;if(l+=o.width/2,Ut.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(l+=n?c:-c),c=0,l+=(o.dummy?e:t)/2,l+=(a.dummy?e:t)/2,l+=a.width/2,Ut.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=a.width/2;break;case"r":c=-a.width/2;break}return c&&(l+=n?c:-c),c=0,l}}function AK(t,e){return t.node(e).width}var La=ke,k3=Zn,IK=pK.positionX,wK=CK;function CK(t){t=k3.asNonCompoundGraph(t),xK(t),La.forEach(IK(t),function(e,n){t.node(n).x=e})}function xK(t){var e=k3.buildLayerMatrix(t),n=t.graph().ranksep,i=0;La.forEach(e,function(r){var s=La.max(La.map(r,function(o){return t.node(o).height}));La.forEach(r,function(o){t.node(o).y=i+s/2}),i+=s+n})}var Kt=ke,cT=w7,uT=j7,_K=cJ,SK=Zn.normalizeRanks,MK=dJ,TK=Zn.removeEmptyRanks,fT=vJ,NK=CJ,hT=_J,EK=uK,PK=wK,qr=Zn,kK=Ri.Graph,DK=OK;function OK(t,e){var n=e&&e.debugTiming?qr.time:qr.notime;n("layout",function(){var i=n("  buildLayoutGraph",function(){return VK(t)});n("  runLayout",function(){LK(i,n)}),n("  updateInputGraph",function(){RK(t,i)})})}function LK(t,e){e("    makeSpaceForEdgeLabels",function(){YK(t)}),e("    removeSelfEdges",function(){eQ(t)}),e("    acyclic",function(){cT.run(t)}),e("    nestingGraph.run",function(){fT.run(t)}),e("    rank",function(){_K(qr.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){HK(t)}),e("    removeEmptyRanks",function(){TK(t)}),e("    nestingGraph.cleanup",function(){fT.cleanup(t)}),e("    normalizeRanks",function(){SK(t)}),e("    assignRankMinMax",function(){XK(t)}),e("    removeEdgeLabelProxies",function(){$K(t)}),e("    normalize.run",function(){uT.run(t)}),e("    parentDummyChains",function(){MK(t)}),e("    addBorderSegments",function(){NK(t)}),e("    order",function(){EK(t)}),e("    insertSelfEdges",function(){nQ(t)}),e("    adjustCoordinateSystem",function(){hT.adjust(t)}),e("    position",function(){PK(t)}),e("    positionSelfEdges",function(){iQ(t)}),e("    removeBorderNodes",function(){tQ(t)}),e("    normalize.undo",function(){uT.undo(t)}),e("    fixupEdgeLabelCoords",function(){KK(t)}),e("    undoCoordinateSystem",function(){hT.undo(t)}),e("    translateGraph",function(){qK(t)}),e("    assignNodeIntersects",function(){JK(t)}),e("    reversePoints",function(){QK(t)}),e("    acyclic.undo",function(){cT.undo(t)})}function RK(t,e){Kt.forEach(t.nodes(),function(n){var i=t.node(n),r=e.node(n);i&&(i.x=r.x,i.y=r.y,e.children(n).length&&(i.width=r.width,i.height=r.height))}),Kt.forEach(t.edges(),function(n){var i=t.edge(n),r=e.edge(n);i.points=r.points,Kt.has(r,"x")&&(i.x=r.x,i.y=r.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var zK=["nodesep","edgesep","ranksep","marginx","marginy"],BK={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},jK=["acyclicer","ranker","rankdir","align"],GK=["width","height"],FK={width:0,height:0},ZK=["minlen","weight","width","height","labeloffset"],WK={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},UK=["labelpos"];function VK(t){var e=new kK({multigraph:!0,compound:!0}),n=p0(t.graph());return e.setGraph(Kt.merge({},BK,g0(n,zK),Kt.pick(n,jK))),Kt.forEach(t.nodes(),function(i){var r=p0(t.node(i));e.setNode(i,Kt.defaults(g0(r,GK),FK)),e.setParent(i,t.parent(i))}),Kt.forEach(t.edges(),function(i){var r=p0(t.edge(i));e.setEdge(i,Kt.merge({},WK,g0(r,ZK),Kt.pick(r,UK)))}),e}function YK(t){var e=t.graph();e.ranksep/=2,Kt.forEach(t.edges(),function(n){var i=t.edge(n);i.minlen*=2,i.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})}function HK(t){Kt.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var i=t.node(e.v),r=t.node(e.w),s={rank:(r.rank-i.rank)/2+i.rank,e};qr.addDummyNode(t,"edge-proxy",s,"_ep")}})}function XK(t){var e=0;Kt.forEach(t.nodes(),function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=Kt.max(e,i.maxRank))}),t.graph().maxRank=e}function $K(t){Kt.forEach(t.nodes(),function(e){var n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function qK(t){var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,r=0,s=t.graph(),o=s.marginx||0,a=s.marginy||0;function l(c){var u=c.x,f=c.y,g=c.width,p=c.height;e=Math.min(e,u-g/2),n=Math.max(n,u+g/2),i=Math.min(i,f-p/2),r=Math.max(r,f+p/2)}Kt.forEach(t.nodes(),function(c){l(t.node(c))}),Kt.forEach(t.edges(),function(c){var u=t.edge(c);Kt.has(u,"x")&&l(u)}),e-=o,i-=a,Kt.forEach(t.nodes(),function(c){var u=t.node(c);u.x-=e,u.y-=i}),Kt.forEach(t.edges(),function(c){var u=t.edge(c);Kt.forEach(u.points,function(f){f.x-=e,f.y-=i}),Kt.has(u,"x")&&(u.x-=e),Kt.has(u,"y")&&(u.y-=i)}),s.width=n-e+o,s.height=r-i+a}function JK(t){Kt.forEach(t.edges(),function(e){var n=t.edge(e),i=t.node(e.v),r=t.node(e.w),s,o;n.points?(s=n.points[0],o=n.points[n.points.length-1]):(n.points=[],s=r,o=i),n.points.unshift(qr.intersectRect(i,s)),n.points.push(qr.intersectRect(r,o))})}function KK(t){Kt.forEach(t.edges(),function(e){var n=t.edge(e);if(Kt.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function QK(t){Kt.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}function tQ(t){Kt.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),r=t.node(n.borderBottom),s=t.node(Kt.last(n.borderLeft)),o=t.node(Kt.last(n.borderRight));n.width=Math.abs(o.x-s.x),n.height=Math.abs(r.y-i.y),n.x=s.x+n.width/2,n.y=i.y+n.height/2}}),Kt.forEach(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function eQ(t){Kt.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function nQ(t){var e=qr.buildLayerMatrix(t);Kt.forEach(e,function(n){var i=0;Kt.forEach(n,function(r,s){var o=t.node(r);o.order=s+i,Kt.forEach(o.selfEdges,function(a){qr.addDummyNode(t,"selfedge",{width:a.label.width,height:a.label.height,rank:o.rank,order:s+ ++i,e:a.e,label:a.label},"_se")}),delete o.selfEdges})})}function iQ(t){Kt.forEach(t.nodes(),function(e){var n=t.node(e);if(n.dummy==="selfedge"){var i=t.node(n.e.v),r=i.x+i.width/2,s=i.y,o=n.x-r,a=i.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:r+2*o/3,y:s-a},{x:r+5*o/6,y:s-a},{x:r+o,y:s},{x:r+5*o/6,y:s+a},{x:r+2*o/3,y:s+a}],n.label.x=n.x,n.label.y=n.y}})}function g0(t,e){return Kt.mapValues(Kt.pick(t,e),Number)}function p0(t){var e={};return Kt.forEach(t,function(n,i){e[i.toLowerCase()]=n}),e}var Lc=ke,rQ=Zn,sQ=Ri.Graph,oQ={debugOrdering:aQ};function aQ(t){var e=rQ.buildLayerMatrix(t),n=new sQ({compound:!0,multigraph:!0}).setGraph({});return Lc.forEach(t.nodes(),function(i){n.setNode(i,{label:i}),n.setParent(i,"layer"+t.node(i).rank)}),Lc.forEach(t.edges(),function(i){n.setEdge(i.v,i.w,{},i.name)}),Lc.forEach(e,function(i,r){var s="layer"+r;n.setNode(s,{rank:"same"}),Lc.reduce(i,function(o,a){return n.setEdge(o,a,{style:"invis"}),a})}),n}var lQ="0.8.5",cQ={graphlib:Ri,layout:DK,debug:oQ,util:{time:Zn.time,notime:Zn.notime},version:lQ};const uQ=yf(cQ);var fQ=function(){var t="",e,n,i,r=[],s={passive:!0};window.addEventListener?(e="addEventListener",n="removeEventListener"):(e="attachEvent",n="detachEvent",t="on"),i="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";function o(p,v){var y=function(I){!I&&(I=window.event);var _={originalEvent:I,target:I.target||I.srcElement,type:"wheel",deltaMode:I.type=="MozMousePixelScroll"?0:1,deltaX:0,delatZ:0,preventDefault:function(){I.preventDefault?I.preventDefault():I.returnValue=!1}};return i=="mousewheel"?(_.deltaY=-.025*I.wheelDelta,I.wheelDeltaX&&(_.deltaX=-.025*I.wheelDeltaX)):_.deltaY=I.detail,v(_)};return r.push({element:p,fn:y}),y}function a(p){for(var v=0;v<r.length;v++)if(r[v].element===p)return r[v].fn;return function(){}}function l(p){for(var v=0;v<r.length;v++)if(r[v].element===p)return r.splice(v,1)}function c(p,v,y,I){var _;i==="wheel"?_=y:_=o(p,y),p[e](t+v,_,I?s:!1)}function u(p,v,y,I){var _;i==="wheel"?_=y:_=a(p),p[n](t+v,_,I?s:!1),l(p)}function f(p,v,y){c(p,i,v,y),i=="DOMMouseScroll"&&c(p,"MozMousePixelScroll",v,y)}function g(p,v,y){u(p,i,v,y),i=="DOMMouseScroll"&&u(p,"MozMousePixelScroll",v,y)}return{on:f,off:g}}(),pI={extend:function(t,e){t=t||{};for(var n in e)this.isObject(e[n])?t[n]=this.extend(t[n],e[n]):t[n]=e[n];return t},isElement:function(t){return t instanceof HTMLElement||t instanceof SVGElement||t instanceof SVGSVGElement||t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"},isObject:function(t){return Object.prototype.toString.call(t)==="[object Object]"},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getSvg:function(t){var e,n;if(this.isElement(t))e=t;else if(typeof t=="string"||t instanceof String){if(e=document.querySelector(t),!e)throw new Error("Provided selector did not find any elements. Selector: "+t)}else throw new Error("Provided selector is not an HTML object nor String");if(e.tagName.toLowerCase()==="svg")n=e;else if(e.tagName.toLowerCase()==="object")n=e.contentDocument.documentElement;else if(e.tagName.toLowerCase()==="embed")n=e.getSVGDocument().documentElement;else throw e.tagName.toLowerCase()==="img"?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");return n},proxy:function(t,e){return function(){return t.apply(e,arguments)}},getType:function(t){return Object.prototype.toString.apply(t).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(t,e){if(t.clientX===void 0||t.clientX===null)if(t.clientX=0,t.clientY=0,t.touches!==void 0&&t.touches.length){if(t.touches[0].clientX!==void 0)t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY;else if(t.touches[0].pageX!==void 0){var n=e.getBoundingClientRect();t.clientX=t.touches[0].pageX-n.left,t.clientY=t.touches[0].pageY-n.top}}else t.originalEvent!==void 0&&t.originalEvent.clientX!==void 0&&(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)},isDblClick:function(t,e){if(t.detail===2)return!0;if(e!=null){var n=t.timeStamp-e.timeStamp,i=Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2));return n<250&&i<10}return!1},now:Date.now||function(){return new Date().getTime()},throttle:function(t,e,n){var i=this,r,s,o,a=null,l=0;n||(n={});var c=function(){l=n.leading===!1?0:i.now(),a=null,o=t.apply(r,s),a||(r=s=null)};return function(){var u=i.now();!l&&n.leading===!1&&(l=u);var f=e-(u-l);return r=this,s=arguments,f<=0||f>e?(clearTimeout(a),a=null,l=u,o=t.apply(r,s),a||(r=s=null)):!a&&n.trailing!==!1&&(a=setTimeout(c,f)),o}},createRequestAnimationFrame:function(t){var e=null;return t!=="auto"&&t<60&&t>1&&(e=Math.floor(1e3/t)),e===null?window.requestAnimationFrame||dT(33):dT(e)}};function dT(t){return function(e){window.setTimeout(e,t)}}var m0=pI,D3="unknown";document.documentMode&&(D3="ie");var mI={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(t){if(t.clientWidth&&t.clientHeight)return{width:t.clientWidth,height:t.clientHeight};if(t.getBoundingClientRect())return t.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(t,e){var n=null;if(m0.isElement(e)?n=e:n=t.querySelector(e),!n){var i=Array.prototype.slice.call(t.childNodes||t.children).filter(function(l){return l.nodeName!=="defs"&&l.nodeName!=="#text"});i.length===1&&i[0].nodeName==="g"&&i[0].getAttribute("transform")===null&&(n=i[0])}if(!n){var r="viewport-"+new Date().toISOString().replace(/\D/g,"");n=document.createElementNS(this.svgNS,"g"),n.setAttribute("id",r);var s=t.childNodes||t.children;if(s&&s.length>0)for(var o=s.length;o>0;o--)s[s.length-o].nodeName!=="defs"&&n.appendChild(s[s.length-o]);t.appendChild(n)}var a=[];return n.getAttribute("class")&&(a=n.getAttribute("class").split(" ")),~a.indexOf("svg-pan-zoom_viewport")||(a.push("svg-pan-zoom_viewport"),n.setAttribute("class",a.join(" "))),n},setupSvgAttributes:function(t){if(t.setAttribute("xmlns",this.svgNS),t.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),t.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),t.parentNode!==null){var e=t.getAttribute("style")||"";e.toLowerCase().indexOf("overflow")===-1&&t.setAttribute("style","overflow: hidden; "+e)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:m0.throttle(function(){for(var t=document.querySelectorAll("defs"),e=t.length,n=0;n<e;n++){var i=t[n];i.parentNode.insertBefore(i,i)}},Mi?Mi.internetExplorerRedisplayInterval:null),setCTM:function(t,e,n){var i=this,r="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.setAttributeNS(null,"transform",r),"transform"in t.style?t.style.transform=r:"-ms-transform"in t.style?t.style["-ms-transform"]=r:"-webkit-transform"in t.style&&(t.style["-webkit-transform"]=r),D3==="ie"&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout(function(){i.refreshDefsGlobal()},i.internetExplorerRedisplayInterval))},getEventPoint:function(t,e){var n=e.createSVGPoint();return m0.mouseAndTouchNormalize(t,e),n.x=t.clientX,n.y=t.clientY,n},getSvgCenterPoint:function(t,e,n){return this.createSVGPoint(t,e/2,n/2)},createSVGPoint:function(t,e,n){var i=t.createSVGPoint();return i.x=e,i.y=n,i}},Xn=mI,hQ={enable:function(t){var e=t.svg.querySelector("defs");e||(e=document.createElementNS(Xn.svgNS,"defs"),t.svg.appendChild(e));var n=e.querySelector("style#svg-pan-zoom-controls-styles");if(!n){var i=document.createElementNS(Xn.svgNS,"style");i.setAttribute("id","svg-pan-zoom-controls-styles"),i.setAttribute("type","text/css"),i.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",e.appendChild(i)}var r=document.createElementNS(Xn.svgNS,"g");r.setAttribute("id","svg-pan-zoom-controls"),r.setAttribute("transform","translate("+(t.width-70)+" "+(t.height-76)+") scale(0.75)"),r.setAttribute("class","svg-pan-zoom-control"),r.appendChild(this._createZoomIn(t)),r.appendChild(this._createZoomReset(t)),r.appendChild(this._createZoomOut(t)),t.svg.appendChild(r),t.controlIcons=r},_createZoomIn:function(t){var e=document.createElementNS(Xn.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-in"),e.setAttribute("transform","translate(30.5 5) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().zoomIn()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().zoomIn()},!1);var n=document.createElementNS(Xn.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var i=document.createElementNS(Xn.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i),e},_createZoomReset:function(t){var e=document.createElementNS(Xn.svgNS,"g");e.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),e.setAttribute("transform","translate(5 35) scale(0.4)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().reset()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().reset()},!1);var n=document.createElementNS(Xn.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var i=document.createElementNS(Xn.svgNS,"path");i.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i);var r=document.createElementNS(Xn.svgNS,"path");return r.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),r.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(r),e},_createZoomOut:function(t){var e=document.createElementNS(Xn.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-out"),e.setAttribute("transform","translate(30.5 70) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().zoomOut()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().zoomOut()},!1);var n=document.createElementNS(Xn.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var i=document.createElementNS(Xn.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i),e},disable:function(t){t.controlIcons&&(t.controlIcons.parentNode.removeChild(t.controlIcons),t.controlIcons=null)}},dQ=mI,Fr=pI,Xe=function(t,e){this.init(t,e)};Xe.prototype.init=function(t,e){this.viewport=t,this.options=e,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=Fr.proxy(this.updateCTM,this),this.requestAnimationFrame=Fr.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()};Xe.prototype.cacheViewBox=function(){var t=this.options.svg.getAttribute("viewBox");if(t){var e=t.split(/[\s\,]/).filter(function(i){return i}).map(parseFloat);this.viewBox.x=e[0],this.viewBox.y=e[1],this.viewBox.width=e[2],this.viewBox.height=e[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()};Xe.prototype.simpleViewBoxCache=function(){var t=this.viewport.getBBox();this.viewBox.x=t.x,this.viewBox.y=t.y,this.viewBox.width=t.width,this.viewBox.height=t.height};Xe.prototype.getViewBox=function(){return Fr.extend({},this.viewBox)};Xe.prototype.processCTM=function(){var t=this.getCTM();if(this.options.fit||this.options.contain){var e;this.options.fit?e=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):e=Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),t.a=e,t.d=e,t.e=-this.viewBox.x*e,t.f=-this.viewBox.y*e}if(this.options.center){var n=(this.options.width-(this.viewBox.width+this.viewBox.x*2)*t.a)*.5,i=(this.options.height-(this.viewBox.height+this.viewBox.y*2)*t.a)*.5;t.e=n,t.f=i}return this.originalState.zoom=t.a,this.originalState.x=t.e,this.originalState.y=t.f,t};Xe.prototype.getOriginalState=function(){return Fr.extend({},this.originalState)};Xe.prototype.getState=function(){return Fr.extend({},this.activeState)};Xe.prototype.getZoom=function(){return this.activeState.zoom};Xe.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom};Xe.prototype.computeRelativeZoom=function(t){return t/this.originalState.zoom};Xe.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}};Xe.prototype.getCTM=function(){var t=this.options.svg.createSVGMatrix();return t.a=this.activeState.zoom,t.b=0,t.c=0,t.d=this.activeState.zoom,t.e=this.activeState.x,t.f=this.activeState.y,t};Xe.prototype.setCTM=function(t){var e=this.isZoomDifferent(t),n=this.isPanDifferent(t);if(e||n){if(e&&(this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(t.a))===!1?(t.a=t.d=this.activeState.zoom,e=!1):(this.updateCache(t),this.options.onZoom(this.getRelativeZoom()))),n){var i=this.options.beforePan(this.getPan(),{x:t.e,y:t.f}),r=!1,s=!1;i===!1?(t.e=this.getPan().x,t.f=this.getPan().y,r=s=!0):Fr.isObject(i)&&(i.x===!1?(t.e=this.getPan().x,r=!0):Fr.isNumber(i.x)&&(t.e=i.x),i.y===!1?(t.f=this.getPan().y,s=!0):Fr.isNumber(i.y)&&(t.f=i.y)),r&&s||!this.isPanDifferent(t)?n=!1:(this.updateCache(t),this.options.onPan(this.getPan()))}(e||n)&&this.updateCTMOnNextFrame()}};Xe.prototype.isZoomDifferent=function(t){return this.activeState.zoom!==t.a};Xe.prototype.isPanDifferent=function(t){return this.activeState.x!==t.e||this.activeState.y!==t.f};Xe.prototype.updateCache=function(t){this.activeState.zoom=t.a,this.activeState.x=t.e,this.activeState.y=t.f};Xe.prototype.pendingUpdate=!1;Xe.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))};Xe.prototype.updateCTM=function(){var t=this.getCTM();dQ.setCTM(this.viewport,t,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(t)};var gQ=function(t,e){return new Xe(t,e)},O3=fQ,Ty=hQ,_i=pI,Yi=mI,pQ=gQ,me=function(t,e){this.init(t,e)},mQ={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},L3={passive:!0};me.prototype.init=function(t,e){var n=this;this.svg=t,this.defs=t.querySelector("defs"),Yi.setupSvgAttributes(this.svg),this.options=_i.extend(_i.extend({},mQ),e),this.state="none";var i=Yi.getBoundingClientRectNormalized(t);this.width=i.width,this.height=i.height,this.viewport=pQ(Yi.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(s,o){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(s,o)},onZoom:function(s){if(n.viewport&&n.options.onZoom)return n.options.onZoom(s)},beforePan:function(s,o){if(n.viewport&&n.options.beforePan)return n.options.beforePan(s,o)},onPan:function(s){if(n.viewport&&n.options.onPan)return n.options.onPan(s)},onUpdatedCTM:function(s){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(s)}});var r=this.getPublicInstance();r.setBeforeZoom(this.options.beforeZoom),r.setOnZoom(this.options.onZoom),r.setBeforePan(this.options.beforePan),r.setOnPan(this.options.onPan),r.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&Ty.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()};me.prototype.setupHandlers=function(){var t=this,e=null;if(this.eventListeners={mousedown:function(s){var o=t.handleMouseDown(s,e);return e=s,o},touchstart:function(s){var o=t.handleMouseDown(s,e);return e=s,o},mouseup:function(s){return t.handleMouseUp(s)},touchend:function(s){return t.handleMouseUp(s)},mousemove:function(s){return t.handleMouseMove(s)},touchmove:function(s){return t.handleMouseMove(s)},mouseleave:function(s){return t.handleMouseUp(s)},touchleave:function(s){return t.handleMouseUp(s)},touchcancel:function(s){return t.handleMouseUp(s)}},this.options.customEventsHandler!=null){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var i=n.length-1;i>=0;i--)this.eventListeners.hasOwnProperty(n[i])&&delete this.eventListeners[n[i]]}for(var r in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(r,this.eventListeners[r],this.options.preventMouseEventsDefault?!1:L3);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())};me.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var t=this;this.wheelListener=function(n){return t.handleMouseWheel(n)};var e=!this.options.preventMouseEventsDefault;O3.on(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!0}};me.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var t=!this.options.preventMouseEventsDefault;O3.off(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!1}};me.prototype.handleMouseWheel=function(t){if(!(!this.options.zoomEnabled||this.state!=="none")){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1);var e=t.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,i=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in t&&t.deltaMode===0&&t.wheelDelta&&(e=t.deltaY===0?0:Math.abs(t.wheelDelta)/t.deltaY),e=-.3<e&&e<.3?e:(e>0?1:-1)*Math.log(Math.abs(e)+10)/i;var r=this.svg.getScreenCTM().inverse(),s=Yi.getEventPoint(t,this.svg).matrixTransform(r),o=Math.pow(1+this.options.zoomScaleSensitivity,-1*e);this.zoomAtPoint(o,s)}};me.prototype.zoomAtPoint=function(t,e,n){var i=this.viewport.getOriginalState();n?(t=Math.max(this.options.minZoom*i.zoom,Math.min(this.options.maxZoom*i.zoom,t)),t=t/this.getZoom()):this.getZoom()*t<this.options.minZoom*i.zoom?t=this.options.minZoom*i.zoom/this.getZoom():this.getZoom()*t>this.options.maxZoom*i.zoom&&(t=this.options.maxZoom*i.zoom/this.getZoom());var r=this.viewport.getCTM(),s=e.matrixTransform(r.inverse()),o=this.svg.createSVGMatrix().translate(s.x,s.y).scale(t).translate(-s.x,-s.y),a=r.multiply(o);a.a!==r.a&&this.viewport.setCTM(a)};me.prototype.zoom=function(t,e){this.zoomAtPoint(t,Yi.getSvgCenterPoint(this.svg,this.width,this.height),e)};me.prototype.publicZoom=function(t,e){e&&(t=this.computeFromRelativeZoom(t)),this.zoom(t,e)};me.prototype.publicZoomAtPoint=function(t,e,n){if(n&&(t=this.computeFromRelativeZoom(t)),_i.getType(e)!=="SVGPoint")if("x"in e&&"y"in e)e=Yi.createSVGPoint(this.svg,e.x,e.y);else throw new Error("Given point is invalid");this.zoomAtPoint(t,e,n)};me.prototype.getZoom=function(){return this.viewport.getZoom()};me.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()};me.prototype.computeFromRelativeZoom=function(t){return t*this.viewport.getOriginalState().zoom};me.prototype.resetZoom=function(){var t=this.viewport.getOriginalState();this.zoom(t.zoom,!0)};me.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())};me.prototype.reset=function(){this.resetZoom(),this.resetPan()};me.prototype.handleDblClick=function(t){if(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.options.controlIconsEnabled){var e=t.target.getAttribute("class")||"";if(e.indexOf("svg-pan-zoom-control")>-1)return!1}var n;t.shiftKey?n=1/((1+this.options.zoomScaleSensitivity)*2):n=(1+this.options.zoomScaleSensitivity)*2;var i=Yi.getEventPoint(t,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(n,i)};me.prototype.handleMouseDown=function(t,e){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),_i.mouseAndTouchNormalize(t,this.svg),this.options.dblClickZoomEnabled&&_i.isDblClick(t,e)?this.handleDblClick(t):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=Yi.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()))};me.prototype.handleMouseMove=function(t){if(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.state==="pan"&&this.options.panEnabled){var e=Yi.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(e.x-this.stateOrigin.x,e.y-this.stateOrigin.y);this.viewport.setCTM(n)}};me.prototype.handleMouseUp=function(t){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.state==="pan"&&(this.state="none")};me.prototype.fit=function(){var t=this.viewport.getViewBox(),e=Math.min(this.width/t.width,this.height/t.height);this.zoom(e,!0)};me.prototype.contain=function(){var t=this.viewport.getViewBox(),e=Math.max(this.width/t.width,this.height/t.height);this.zoom(e,!0)};me.prototype.center=function(){var t=this.viewport.getViewBox(),e=(this.width-(t.width+t.x*2)*this.getZoom())*.5,n=(this.height-(t.height+t.y*2)*this.getZoom())*.5;this.getPublicInstance().pan({x:e,y:n})};me.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()};me.prototype.pan=function(t){var e=this.viewport.getCTM();e.e=t.x,e.f=t.y,this.viewport.setCTM(e)};me.prototype.panBy=function(t){var e=this.viewport.getCTM();e.e+=t.x,e.f+=t.y,this.viewport.setCTM(e)};me.prototype.getPan=function(){var t=this.viewport.getState();return{x:t.x,y:t.y}};me.prototype.resize=function(){var t=Yi.getBoundingClientRectNormalized(this.svg);this.width=t.width,this.height=t.height;var e=this.viewport;e.options.width=this.width,e.options.height=this.height,e.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())};me.prototype.destroy=function(){var t=this;this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,this.options.customEventsHandler!=null&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});for(var e in this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(e,this.eventListeners[e],this.options.preventMouseEventsDefault?!1:L3);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),Pr=Pr.filter(function(n){return n.svg!==t.svg}),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}};me.prototype.getPublicInstance=function(){var t=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return t.options.panEnabled=!0,t.pi},disablePan:function(){return t.options.panEnabled=!1,t.pi},isPanEnabled:function(){return!!t.options.panEnabled},pan:function(e){return t.pan(e),t.pi},panBy:function(e){return t.panBy(e),t.pi},getPan:function(){return t.getPan()},setBeforePan:function(e){return t.options.beforePan=e===null?null:_i.proxy(e,t.publicInstance),t.pi},setOnPan:function(e){return t.options.onPan=e===null?null:_i.proxy(e,t.publicInstance),t.pi},enableZoom:function(){return t.options.zoomEnabled=!0,t.pi},disableZoom:function(){return t.options.zoomEnabled=!1,t.pi},isZoomEnabled:function(){return!!t.options.zoomEnabled},enableControlIcons:function(){return t.options.controlIconsEnabled||(t.options.controlIconsEnabled=!0,Ty.enable(t)),t.pi},disableControlIcons:function(){return t.options.controlIconsEnabled&&(t.options.controlIconsEnabled=!1,Ty.disable(t)),t.pi},isControlIconsEnabled:function(){return!!t.options.controlIconsEnabled},enableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!0,t.pi},disableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!1,t.pi},isDblClickZoomEnabled:function(){return!!t.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return t.enableMouseWheelZoom(),t.pi},disableMouseWheelZoom:function(){return t.disableMouseWheelZoom(),t.pi},isMouseWheelZoomEnabled:function(){return!!t.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(e){return t.options.zoomScaleSensitivity=e,t.pi},setMinZoom:function(e){return t.options.minZoom=e,t.pi},setMaxZoom:function(e){return t.options.maxZoom=e,t.pi},setBeforeZoom:function(e){return t.options.beforeZoom=e===null?null:_i.proxy(e,t.publicInstance),t.pi},setOnZoom:function(e){return t.options.onZoom=e===null?null:_i.proxy(e,t.publicInstance),t.pi},zoom:function(e){return t.publicZoom(e,!0),t.pi},zoomBy:function(e){return t.publicZoom(e,!1),t.pi},zoomAtPoint:function(e,n){return t.publicZoomAtPoint(e,n,!0),t.pi},zoomAtPointBy:function(e,n){return t.publicZoomAtPoint(e,n,!1),t.pi},zoomIn:function(){return this.zoomBy(1+t.options.zoomScaleSensitivity),t.pi},zoomOut:function(){return this.zoomBy(1/(1+t.options.zoomScaleSensitivity)),t.pi},getZoom:function(){return t.getRelativeZoom()},setOnUpdatedCTM:function(e){return t.options.onUpdatedCTM=e===null?null:_i.proxy(e,t.publicInstance),t.pi},resetZoom:function(){return t.resetZoom(),t.pi},resetPan:function(){return t.resetPan(),t.pi},reset:function(){return t.reset(),t.pi},fit:function(){return t.fit(),t.pi},contain:function(){return t.contain(),t.pi},center:function(){return t.center(),t.pi},updateBBox:function(){return t.updateBBox(),t.pi},resize:function(){return t.resize(),t.pi},getSizes:function(){return{width:t.width,height:t.height,realZoom:t.getZoom(),viewBox:t.viewport.getViewBox()}},destroy:function(){return t.destroy(),t.pi}}),this.publicInstance};var Pr=[],vQ=function(t,e){var n=_i.getSvg(t);if(n===null)return null;for(var i=Pr.length-1;i>=0;i--)if(Pr[i].svg===n)return Pr[i].instance.getPublicInstance();return Pr.push({svg:n,instance:new me(n,e)}),Pr[Pr.length-1].instance.getPublicInstance()},yQ=vQ;const bQ=yf(yQ);window.Alpine=uE;uE.start();window.Chart=sr;window.joint=I$;window.jointLinkTools=uL;window.dagre=uQ;window.svgPanZoom=bQ;
